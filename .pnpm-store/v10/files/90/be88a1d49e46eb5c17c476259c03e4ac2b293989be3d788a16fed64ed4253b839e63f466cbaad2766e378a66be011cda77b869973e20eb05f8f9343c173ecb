"use client";
// Workaround for react-datepicker and other cjs dependencies potentially inserting require("react") statements
import * as requireReact from 'react';
import * as requireReactDom from 'react-dom';

function require(m) {
 if (m === 'react') return requireReact;
 if (m === 'react-dom') return requireReactDom;
 throw new Error(`Unknown module ${m}`);
}
// Workaround end

import{a as fh,b as H,c as ph,d as Nt,e as HR,f as WR,g as hh,h as UR,i as XR}from"./chunk-CNCOIY3Y.js";import{a as pt,b as kl,c as mh,d as $,e as la,f as SC,g as IC,h as ei,i as Cd,j as zR,k as _C,l as YR,m as ZR,n as JR}from"./chunk-TIQCV7VX.js";import{c as Gr,d as wC,e as Ks}from"./chunk-5LKBKI4T.js";var LC=Gr(xt=>{"use strict";function Ch(t,e){var o=t.length;t.push(e);e:for(;0<o;){var n=o-1>>>1,r=t[n];if(0<xd(r,e))t[n]=e,t[o]=r,o=n;else break e}}function zr(t){return t.length===0?null:t[0]}function wd(t){if(t.length===0)return null;var e=t[0],o=t.pop();if(o!==e){t[0]=o;e:for(var n=0,r=t.length,s=r>>>1;n<s;){var i=2*(n+1)-1,l=t[i],a=i+1,c=t[a];if(0>xd(l,o))a<r&&0>xd(c,l)?(t[n]=c,t[a]=o,n=a):(t[n]=l,t[i]=o,n=i);else if(a<r&&0>xd(c,o))t[n]=c,t[a]=o,n=a;else break e}}return e}function xd(t,e){var o=t.sortIndex-e.sortIndex;return o!==0?o:t.id-e.id}xt.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(DC=performance,xt.unstable_now=function(){return DC.now()}):(gh=Date,FC=gh.now(),xt.unstable_now=function(){return gh.now()-FC});var DC,gh,FC,fn=[],fs=[],qR=1,_r=null,Ao=3,Sd=!1,ti=!1,Ml=!1,AC=typeof setTimeout=="function"?setTimeout:null,EC=typeof clearTimeout=="function"?clearTimeout:null,TC=typeof setImmediate<"u"?setImmediate:null;function yd(t){for(var e=zr(fs);e!==null;){if(e.callback===null)wd(fs);else if(e.startTime<=t)wd(fs),e.sortIndex=e.expirationTime,Ch(fn,e);else break;e=zr(fs)}}function xh(t){if(Ml=!1,yd(t),!ti)if(zr(fn)!==null)ti=!0,yh();else{var e=zr(fs);e!==null&&wh(xh,e.startTime-t)}}var Id=!1,Bl=-1,PC=5,NC=-1;function $C(){return!(xt.unstable_now()-NC<PC)}function bh(){if(Id){var t=xt.unstable_now();NC=t;var e=!0;try{e:{ti=!1,Ml&&(Ml=!1,EC(Bl),Bl=-1),Sd=!0;var o=Ao;try{t:{for(yd(t),_r=zr(fn);_r!==null&&!(_r.expirationTime>t&&$C());){var n=_r.callback;if(typeof n=="function"){_r.callback=null,Ao=_r.priorityLevel;var r=n(_r.expirationTime<=t);if(t=xt.unstable_now(),typeof r=="function"){_r.callback=r,yd(t),e=!0;break t}_r===zr(fn)&&wd(fn),yd(t)}else wd(fn);_r=zr(fn)}if(_r!==null)e=!0;else{var s=zr(fs);s!==null&&wh(xh,s.startTime-t),e=!1}}break e}finally{_r=null,Ao=o,Sd=!1}e=void 0}}finally{e?jl():Id=!1}}}var jl;typeof TC=="function"?jl=function(){TC(bh)}:typeof MessageChannel<"u"?(vh=new MessageChannel,RC=vh.port2,vh.port1.onmessage=bh,jl=function(){RC.postMessage(null)}):jl=function(){AC(bh,0)};var vh,RC;function yh(){Id||(Id=!0,jl())}function wh(t,e){Bl=AC(function(){t(xt.unstable_now())},e)}xt.unstable_IdlePriority=5;xt.unstable_ImmediatePriority=1;xt.unstable_LowPriority=4;xt.unstable_NormalPriority=3;xt.unstable_Profiling=null;xt.unstable_UserBlockingPriority=2;xt.unstable_cancelCallback=function(t){t.callback=null};xt.unstable_continueExecution=function(){ti||Sd||(ti=!0,yh())};xt.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):PC=0<t?Math.floor(1e3/t):5};xt.unstable_getCurrentPriorityLevel=function(){return Ao};xt.unstable_getFirstCallbackNode=function(){return zr(fn)};xt.unstable_next=function(t){switch(Ao){case 1:case 2:case 3:var e=3;break;default:e=Ao}var o=Ao;Ao=e;try{return t()}finally{Ao=o}};xt.unstable_pauseExecution=function(){};xt.unstable_requestPaint=function(){};xt.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var o=Ao;Ao=t;try{return e()}finally{Ao=o}};xt.unstable_scheduleCallback=function(t,e,o){var n=xt.unstable_now();switch(typeof o=="object"&&o!==null?(o=o.delay,o=typeof o=="number"&&0<o?n+o:n):o=n,t){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return r=o+r,t={id:qR++,callback:e,priorityLevel:t,startTime:o,expirationTime:r,sortIndex:-1},o>n?(t.sortIndex=o,Ch(fs,t),zr(fn)===null&&t===zr(fs)&&(Ml?(EC(Bl),Bl=-1):Ml=!0,wh(xh,o-n))):(t.sortIndex=r,Ch(fn,t),ti||Sd||(ti=!0,yh())),t};xt.unstable_shouldYield=$C;xt.unstable_wrapCallback=function(t){var e=Ao;return function(){var o=Ao;Ao=e;try{return t.apply(this,arguments)}finally{Ao=o}}}});var jC=Gr((cJ,kC)=>{"use strict";kC.exports=LC()});var $2=Gr(mt=>{"use strict";var Co=typeof Symbol=="function"&&Symbol.for,Qg=Co?Symbol.for("react.element"):60103,Kg=Co?Symbol.for("react.portal"):60106,Lm=Co?Symbol.for("react.fragment"):60107,km=Co?Symbol.for("react.strict_mode"):60108,jm=Co?Symbol.for("react.profiler"):60114,Mm=Co?Symbol.for("react.provider"):60109,Bm=Co?Symbol.for("react.context"):60110,e1=Co?Symbol.for("react.async_mode"):60111,Om=Co?Symbol.for("react.concurrent_mode"):60111,Vm=Co?Symbol.for("react.forward_ref"):60112,Gm=Co?Symbol.for("react.suspense"):60113,W9=Co?Symbol.for("react.suspense_list"):60120,zm=Co?Symbol.for("react.memo"):60115,Hm=Co?Symbol.for("react.lazy"):60116,U9=Co?Symbol.for("react.block"):60121,X9=Co?Symbol.for("react.fundamental"):60117,Y9=Co?Symbol.for("react.responder"):60118,Z9=Co?Symbol.for("react.scope"):60119;function mr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Qg:switch(t=t.type,t){case e1:case Om:case Lm:case jm:case km:case Gm:return t;default:switch(t=t&&t.$$typeof,t){case Bm:case Vm:case Hm:case zm:case Mm:return t;default:return e}}case Kg:return e}}}function N2(t){return mr(t)===Om}mt.AsyncMode=e1;mt.ConcurrentMode=Om;mt.ContextConsumer=Bm;mt.ContextProvider=Mm;mt.Element=Qg;mt.ForwardRef=Vm;mt.Fragment=Lm;mt.Lazy=Hm;mt.Memo=zm;mt.Portal=Kg;mt.Profiler=jm;mt.StrictMode=km;mt.Suspense=Gm;mt.isAsyncMode=function(t){return N2(t)||mr(t)===e1};mt.isConcurrentMode=N2;mt.isContextConsumer=function(t){return mr(t)===Bm};mt.isContextProvider=function(t){return mr(t)===Mm};mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qg};mt.isForwardRef=function(t){return mr(t)===Vm};mt.isFragment=function(t){return mr(t)===Lm};mt.isLazy=function(t){return mr(t)===Hm};mt.isMemo=function(t){return mr(t)===zm};mt.isPortal=function(t){return mr(t)===Kg};mt.isProfiler=function(t){return mr(t)===jm};mt.isStrictMode=function(t){return mr(t)===km};mt.isSuspense=function(t){return mr(t)===Gm};mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lm||t===Om||t===jm||t===km||t===Gm||t===W9||typeof t=="object"&&t!==null&&(t.$$typeof===Hm||t.$$typeof===zm||t.$$typeof===Mm||t.$$typeof===Bm||t.$$typeof===Vm||t.$$typeof===X9||t.$$typeof===Y9||t.$$typeof===Z9||t.$$typeof===U9)};mt.typeOf=mr});var k2=Gr((fme,L2)=>{"use strict";L2.exports=$2()});var z2=Gr((pme,G2)=>{"use strict";var t1=k2(),J9={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},q9={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Q9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},O2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o1={};o1[t1.ForwardRef]=Q9;o1[t1.Memo]=O2;function j2(t){return t1.isMemo(t)?O2:o1[t.$$typeof]||J9}var K9=Object.defineProperty,e$=Object.getOwnPropertyNames,M2=Object.getOwnPropertySymbols,t$=Object.getOwnPropertyDescriptor,o$=Object.getPrototypeOf,B2=Object.prototype;function V2(t,e,o){if(typeof e!="string"){if(B2){var n=o$(e);n&&n!==B2&&V2(t,n,o)}var r=e$(e);M2&&(r=r.concat(M2(e)));for(var s=j2(t),i=j2(e),l=0;l<r.length;++l){var a=r[l];if(!q9[a]&&!(o&&o[a])&&!(i&&i[a])&&!(s&&s[a])){var c=t$(e,a);try{K9(t,a,c)}catch{}}}}return t}G2.exports=V2});var k1=Gr((qge,sI)=>{var L1=Math.floor(Math.random()*16777215),eI=gt.index=parseInt(Math.random()*16777215,10),tI=(typeof process>"u"||typeof process.pid!="number"?Math.floor(Math.random()*1e5):process.pid)%65535,oI=(()=>{try{return _Buffer}catch{try{return Buffer}catch{return null}}})(),af=function(t){return!!(t!=null&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))},nI=[];for(Qo=0;Qo<256;Qo++)nI[Qo]=(Qo<=15?"0":"")+Qo.toString(16);var Qo,rI=new RegExp("^[0-9a-fA-F]{24}$"),jc=[];Qo=0;for(;Qo<10;)jc[48+Qo]=Qo++;for(;Qo<16;)jc[55+Qo]=jc[87+Qo]=Qo++;function gt(t){if(!(this instanceof gt))return new gt(t);if(t&&(t instanceof gt||t._bsontype==="ObjectID"))return t;if(this._bsontype="ObjectID",t==null||typeof t=="number"){this.id=this.generate(t);return}var e=gt.isValid(t);if(!e&&t!=null)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(e&&typeof t=="string"&&t.length===24)return gt.createFromHexString(t);if(t!=null&&t.length===12)this.id=t;else{if(t!=null&&typeof t.toHexString=="function")return t;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}sI.exports=gt;gt.default=gt;gt.createFromTime=function(t){return t=parseInt(t,10)%4294967295,new gt(Jk(8,t)+"0000000000000000")};gt.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var e="",o=0;o<24;)e+=String.fromCharCode(jc[t.charCodeAt(o++)]<<4|jc[t.charCodeAt(o++)]);return new gt(e)};gt.isValid=function(t){return t==null?!1:typeof t=="number"?!0:typeof t=="string"?t.length===12||t.length===24&&rI.test(t):t instanceof gt?!0:af(t)?gt.isValid(t.toString("hex")):typeof t.toHexString=="function"&&oI&&(t.id instanceof oI||typeof t.id=="string")?t.id.length===12||t.id.length===24&&rI.test(t.id):!1};gt.prototype={constructor:gt,toHexString:function(){if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id.length===24)return this.id;if(af(this.id))return this.id.toString("hex");for(var t="",e=0;e<this.id.length;e++)t+=nI[this.id.charCodeAt(e)];return t},equals:function(t){return t instanceof gt?this.toString()===t.toString():typeof t=="string"&&gt.isValid(t)&&t.length===12&&af(this.id)?t===this.id.toString("binary"):typeof t=="string"&&gt.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&gt.isValid(t)&&t.length===12?t===this.id:t!=null&&(t instanceof gt||t.toHexString)?t.toHexString()===this.toHexString():!1},getTimestamp:function(){var t=new Date,e;return af(this.id)?e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:e=this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(Math.floor(e)*1e3),t},generate:function(t){typeof t!="number"&&(t=~~(Date.now()/1e3)),t=parseInt(t,10)%4294967295;var e=Zk();return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255,L1>>16&255,L1>>8&255,L1&255,tI>>8&255,tI&255,e>>16&255,e>>8&255,e&255)}};function Zk(){return eI=(eI+1)%16777215}function Jk(t,e){return e=e.toString(16),e.length===t?e:"00000000".substring(e.length,t)+e}var qk=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";gt.prototype[qk]=function(){return"ObjectID("+this+")"};gt.prototype.toJSON=gt.prototype.toHexString;gt.prototype.toString=gt.prototype.toHexString});var Rb=Gr((v3e,k4)=>{function Tb(t){return t===void 0}function JB(t){return t===null}function qB(t){return typeof t=="boolean"}function Pf(t){return t===Object(t)}function $4(t){return Array.isArray(t)}function QB(t){return t instanceof Date}function L4(t,e){return e?Pf(t)&&!Tb(t.uri):Pf(t)&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.slice=="function"}function KB(t,e){return L4(t,e)&&typeof t.name=="string"&&(Pf(t.lastModifiedDate)||typeof t.lastModified=="number")}function ji(t){return Tb(t)?!1:t}function Fb(t,e,o,n){e=e||{},o=o||new FormData,e.indices=ji(e.indices),e.nullsAsUndefineds=ji(e.nullsAsUndefineds),e.booleansAsIntegers=ji(e.booleansAsIntegers),e.allowEmptyArrays=ji(e.allowEmptyArrays),e.noAttributesWithArrayNotation=ji(e.noAttributesWithArrayNotation),e.noFilesWithArrayNotation=ji(e.noFilesWithArrayNotation),e.dotsForObjectNotation=ji(e.dotsForObjectNotation);let r=typeof o.getParts=="function";return Tb(t)||(JB(t)?e.nullsAsUndefineds||o.append(n,""):qB(t)?e.booleansAsIntegers?o.append(n,t?1:0):o.append(n,t):$4(t)?t.length?t.forEach((s,i)=>{let l=n+"["+(e.indices?i:"")+"]";(e.noAttributesWithArrayNotation||e.noFilesWithArrayNotation&&KB(s,r))&&(l=n),Fb(s,e,o,l)}):e.allowEmptyArrays&&o.append(e.noAttributesWithArrayNotation?n:n+"[]",""):QB(t)?o.append(n,t.toISOString()):Pf(t)&&!L4(t,r)?Object.keys(t).forEach(s=>{let i=t[s];if($4(i))for(;s.length>2&&s.lastIndexOf("[]")===s.length-2;)s=s.substring(0,s.length-2);let l=n?e.dotsForObjectNotation?n+"."+s:n+"["+s+"]":s;Fb(i,e,o,l)}):o.append(n,t)),o}k4.exports={serialize:Fb}});var qD=Gr((F$e,JD)=>{(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(o,n){return o<<n|o>>>32-n},rotr:function(o,n){return o<<32-n|o>>>n},endian:function(o){if(o.constructor==Number)return e.rotl(o,8)&16711935|e.rotl(o,24)&4278255360;for(var n=0;n<o.length;n++)o[n]=e.endian(o[n]);return o},randomBytes:function(o){for(var n=[];o>0;o--)n.push(Math.floor(Math.random()*256));return n},bytesToWords:function(o){for(var n=[],r=0,s=0;r<o.length;r++,s+=8)n[s>>>5]|=o[r]<<24-s%32;return n},wordsToBytes:function(o){for(var n=[],r=0;r<o.length*32;r+=8)n.push(o[r>>>5]>>>24-r%32&255);return n},bytesToHex:function(o){for(var n=[],r=0;r<o.length;r++)n.push((o[r]>>>4).toString(16)),n.push((o[r]&15).toString(16));return n.join("")},hexToBytes:function(o){for(var n=[],r=0;r<o.length;r+=2)n.push(parseInt(o.substr(r,2),16));return n},bytesToBase64:function(o){for(var n=[],r=0;r<o.length;r+=3)for(var s=o[r]<<16|o[r+1]<<8|o[r+2],i=0;i<4;i++)r*8+i*6<=o.length*8?n.push(t.charAt(s>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(o){o=o.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],r=0,s=0;r<o.length;s=++r%4)s!=0&&n.push((t.indexOf(o.charAt(r-1))&Math.pow(2,-2*s+8)-1)<<s*2|t.indexOf(o.charAt(r))>>>6-s*2);return n}};JD.exports=e})()});var Dv=Gr((T$e,QD)=>{var _v={utf8:{stringToBytes:function(t){return _v.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(_v.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t.charCodeAt(o)&255);return e},bytesToString:function(t){for(var e=[],o=0;o<t.length;o++)e.push(String.fromCharCode(t[o]));return e.join("")}}};QD.exports=_v});var tF=Gr((R$e,eF)=>{eF.exports=function(t){return t!=null&&(KD(t)||nz(t)||!!t._isBuffer)};function KD(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function nz(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&KD(t.slice(0,0))}});var rF=Gr((A$e,oF)=>{(function(){var t=qD(),e=Dv().utf8,o=tF(),n=Dv().bin,r=function(s,i){s.constructor==String?i&&i.encoding==="binary"?s=n.stringToBytes(s):s=e.stringToBytes(s):o(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var l=t.bytesToWords(s),a=s.length*8,c=1732584193,u=-271733879,d=-1732584194,f=271733878,m=0;m<l.length;m++)l[m]=(l[m]<<8|l[m]>>>24)&16711935|(l[m]<<24|l[m]>>>8)&4278255360;l[a>>>5]|=128<<a%32,l[(a+64>>>9<<4)+14]=a;for(var h=r._ff,p=r._gg,g=r._hh,b=r._ii,m=0;m<l.length;m+=16){var C=c,v=u,x=d,y=f;c=h(c,u,d,f,l[m+0],7,-680876936),f=h(f,c,u,d,l[m+1],12,-389564586),d=h(d,f,c,u,l[m+2],17,606105819),u=h(u,d,f,c,l[m+3],22,-1044525330),c=h(c,u,d,f,l[m+4],7,-176418897),f=h(f,c,u,d,l[m+5],12,1200080426),d=h(d,f,c,u,l[m+6],17,-1473231341),u=h(u,d,f,c,l[m+7],22,-45705983),c=h(c,u,d,f,l[m+8],7,1770035416),f=h(f,c,u,d,l[m+9],12,-1958414417),d=h(d,f,c,u,l[m+10],17,-42063),u=h(u,d,f,c,l[m+11],22,-1990404162),c=h(c,u,d,f,l[m+12],7,1804603682),f=h(f,c,u,d,l[m+13],12,-40341101),d=h(d,f,c,u,l[m+14],17,-1502002290),u=h(u,d,f,c,l[m+15],22,1236535329),c=p(c,u,d,f,l[m+1],5,-165796510),f=p(f,c,u,d,l[m+6],9,-1069501632),d=p(d,f,c,u,l[m+11],14,643717713),u=p(u,d,f,c,l[m+0],20,-373897302),c=p(c,u,d,f,l[m+5],5,-701558691),f=p(f,c,u,d,l[m+10],9,38016083),d=p(d,f,c,u,l[m+15],14,-660478335),u=p(u,d,f,c,l[m+4],20,-405537848),c=p(c,u,d,f,l[m+9],5,568446438),f=p(f,c,u,d,l[m+14],9,-1019803690),d=p(d,f,c,u,l[m+3],14,-187363961),u=p(u,d,f,c,l[m+8],20,1163531501),c=p(c,u,d,f,l[m+13],5,-1444681467),f=p(f,c,u,d,l[m+2],9,-51403784),d=p(d,f,c,u,l[m+7],14,1735328473),u=p(u,d,f,c,l[m+12],20,-1926607734),c=g(c,u,d,f,l[m+5],4,-378558),f=g(f,c,u,d,l[m+8],11,-2022574463),d=g(d,f,c,u,l[m+11],16,1839030562),u=g(u,d,f,c,l[m+14],23,-35309556),c=g(c,u,d,f,l[m+1],4,-1530992060),f=g(f,c,u,d,l[m+4],11,1272893353),d=g(d,f,c,u,l[m+7],16,-155497632),u=g(u,d,f,c,l[m+10],23,-1094730640),c=g(c,u,d,f,l[m+13],4,681279174),f=g(f,c,u,d,l[m+0],11,-358537222),d=g(d,f,c,u,l[m+3],16,-722521979),u=g(u,d,f,c,l[m+6],23,76029189),c=g(c,u,d,f,l[m+9],4,-640364487),f=g(f,c,u,d,l[m+12],11,-421815835),d=g(d,f,c,u,l[m+15],16,530742520),u=g(u,d,f,c,l[m+2],23,-995338651),c=b(c,u,d,f,l[m+0],6,-198630844),f=b(f,c,u,d,l[m+7],10,1126891415),d=b(d,f,c,u,l[m+14],15,-1416354905),u=b(u,d,f,c,l[m+5],21,-57434055),c=b(c,u,d,f,l[m+12],6,1700485571),f=b(f,c,u,d,l[m+3],10,-1894986606),d=b(d,f,c,u,l[m+10],15,-1051523),u=b(u,d,f,c,l[m+1],21,-2054922799),c=b(c,u,d,f,l[m+8],6,1873313359),f=b(f,c,u,d,l[m+15],10,-30611744),d=b(d,f,c,u,l[m+6],15,-1560198380),u=b(u,d,f,c,l[m+13],21,1309151649),c=b(c,u,d,f,l[m+4],6,-145523070),f=b(f,c,u,d,l[m+11],10,-1120210379),d=b(d,f,c,u,l[m+2],15,718787259),u=b(u,d,f,c,l[m+9],21,-343485551),c=c+C>>>0,u=u+v>>>0,d=d+x>>>0,f=f+y>>>0}return t.endian([c,u,d,f])};r._ff=function(s,i,l,a,c,u,d){var f=s+(i&l|~i&a)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._gg=function(s,i,l,a,c,u,d){var f=s+(i&a|l&~a)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._hh=function(s,i,l,a,c,u,d){var f=s+(i^l^a)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._ii=function(s,i,l,a,c,u,d){var f=s+(l^(i|~a))+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._blocksize=16,r._digestsize=16,oF.exports=function(s,i){if(s==null)throw new Error("Illegal argument "+s);var l=t.wordsToBytes(r(s,i));return i&&i.asBytes?l:i&&i.asString?n.bytesToString(l):t.bytesToHex(l)}})()});import{jsx as Rh}from"react/jsx-runtime";import"react";function me({CustomComponent:t,Fallback:e}){return t!==void 0?t:e}import{c as u5}from"react/compiler-runtime";import{jsx as d5}from"react/jsx-runtime";import VC from"react";import{createContext as ps,use as hs}from"react";var Ol=Ks(jC(),1);import{createElement as QR,createContext as KR,useContext as e5,useEffect as t5,useLayoutEffect as o5,useReducer as r5,useRef as Sh,useState as n5}from"react";var _d=Symbol(),s5=Symbol(),i5=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),MC=i5?t5:o5,a5=Ol.unstable_runWithPriority?t=>{try{(0,Ol.unstable_runWithPriority)(Ol.unstable_NormalPriority,t)}catch(e){if(e.message==="Not implemented.")t();else throw e}}:t=>t(),l5=t=>({value:o,children:n})=>{let r=Sh(o),s=Sh(0),[i,l]=n5(null);i&&(i(o),l(null));let a=Sh();if(!a.current){let c=new Set,u=(d,f)=>{s.current+=1;let m={n:s.current};f?.suspense&&(m.n*=-1,m.p=new Promise(h=>{l(()=>p=>{m.v=p,delete m.p,h(p)})})),c.forEach(h=>h(m)),d()};a.current={[_d]:{v:r,n:s,l:c,u}}}return MC(()=>{r.current=o,s.current+=1,a5(()=>{a.current[_d].l.forEach(c=>{c({n:s.current,v:o})})})},[o]),QR(t,{value:a.current},n)},c5=t=>t;function BC(t){let e=KR({[_d]:{v:{current:t},n:{current:-1},l:new Set,u:o=>o()}});return e[s5]=e.Provider,e.Provider=l5(e.Provider),delete e.Consumer,e}function Ih(t,e){let o=e5(t)[_d],{v:{current:n},n:{current:r},l:s}=o,i=e(n),[l,a]=r5((c,u)=>{if(!u)return[n,i];if("p"in u)throw u.p;if(u.n===r)return Object.is(c[1],i)?c:[n,i];try{if("v"in u){if(Object.is(c[0],u.v))return c;let d=e(u.v);return Object.is(c[1],d)?c:[u.v,d]}}catch{}return[...c]},[n,i]);return Object.is(l[1],i)||a(),MC(()=>(s.add(a),()=>{s.delete(a)}),[s]),l[1]}function OC(t){return Ih(t,c5)}var Dd=ps({}),Fd=ps({}),Td=ps({}),Rd=ps(!1),Ad=ps(!1),_h=ps(!1),Ed=ps(!1),Dh=ps(!1),Vl=BC([{},()=>null]),Be=()=>hs(Dd),ca=()=>hs(Fd),Pd=()=>hs(Td),to=()=>hs(Rd),Dr=()=>hs(Ad),Fh=()=>hs(_h),oo=()=>hs(Ed),oi=()=>hs(Dh),Rt=t=>Ih(Vl,t),ua=()=>OC(Vl);var GC=VC.createContext({data:{},path:"",rowNumber:void 0}),Th=t=>{let e=u5(6),{children:o,path:n,rowNumber:r}=t,{getDataByPath:s,getSiblingData:i}=Pd(),l;if(e[0]!==o||e[1]!==s||e[2]!==i||e[3]!==n||e[4]!==r){let a=i(n),u=s(n)||a;l=d5(GC,{value:{data:u,path:n,rowNumber:r},children:o}),e[0]=o,e[1]=s,e[2]=i,e[3]=n,e[4]=r,e[5]=l}else l=e[5];return l},m5=()=>VC.use(GC);var f5="row-label",An=t=>{let{className:e,CustomComponent:o,label:n,path:r,rowNumber:s}=t;return Rh(Th,{path:r,rowNumber:s,children:Rh(me,{CustomComponent:o,Fallback:typeof n=="string"?Rh("span",{className:[f5,e].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:n}):n})})};import{c as LV}from"react/compiler-runtime";import{jsx as yo,jsxs as Yi}from"react/jsx-runtime";import{getTranslation as dv}from"@payloadcms/translations";import kV from"react";import{jsx as Ph,jsxs as _5}from"react/jsx-runtime";import YC from"react";import{jsx as y5}from"react/jsx-runtime";import XC from"next/link.js";import{useRouter as w5}from"next/navigation.js";import"react";import{c as p5}from"react/compiler-runtime";import{jsx as h5}from"react/jsx-runtime";import Ah,{startTransition as g5,useEffect as b5,useOptimistic as v5,useRef as zC}from"react";var Eh=t=>{let e=p5(11),{children:o}=t,[n,r]=v5(!1),[s,i]=Ah.useState(0),l=zC(s),a=zC(null),c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{a.current=setInterval(()=>{let g=l.current+(.93-l.current)*Math.random()*.2*Math.pow(Math.log(1+(1-l.current)*.75),.75);i(g),l.current=g},250)},e[0]=c):c=e[0];let u=c,d,f;e[1]!==n?(d=()=>{i(0),l.current=0,n?u():a.current&&clearInterval(a.current)},f=[n,u],e[1]=n,e[2]=d,e[3]=f):(d=e[2],f=e[3]),b5(d,f);let m;e[4]!==r?(m=g=>{g5(()=>{r(!0),typeof g=="function"&&g()})},e[4]=r,e[5]=m):m=e[5];let h=m,p;return e[6]!==o||e[7]!==n||e[8]!==h||e[9]!==s?(p=h5(HC,{value:{isTransitioning:n,startRouteTransition:h,transitionProgress:s},children:o}),e[6]=o,e[7]=n,e[8]=h,e[9]=s,e[10]=p):p=e[10],p},HC=Ah.createContext({isTransitioning:!1,startRouteTransition:()=>{},transitionProgress:0}),Je=()=>Ah.use(HC);var C5=/https?|ftp|gopher|file/;function WC(t){return typeof t=="string"||typeof t=="number"&&!isNaN(t)||typeof t=="boolean"?String(t):""}function x5(t){let e=new URLSearchParams;return Object.entries(t).forEach(([o,n])=>{Array.isArray(n)?n.forEach(r=>e.append(o,WC(r))):e.set(o,WC(n))}),e}function UC(t){let{auth:e}=t,{hostname:o}=t,n=t.protocol||"",r=t.pathname||"",s=t.hash||"",i=t.query||"",l=!1;e=e?encodeURIComponent(e).replace(/%3A/i,":")+"@":"",t.host?l=e+t.host:o&&(l=e+(~o.indexOf(":")?`[${o}]`:o),t.port&&(l+=":"+t.port)),i&&typeof i=="object"&&(i=String(x5(i)));let a=t.search||i&&`?${i}`||"";return n&&!n.endsWith(":")&&(n+=":"),t.slashes||(!n||C5.test(n))&&l!==!1?(l="//"+(l||""),r&&r[0]!=="/"&&(r="/"+r)):l||(l=""),s&&s[0]!=="#"&&(s="#"+s),a&&a[0]!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,encodeURIComponent),a=a.replace("#","%23"),`${n}${l}${r}${a}${s}`}var S5=XC.default||XC;function I5(t){let o=t.currentTarget.getAttribute("target");return o&&o!=="_self"||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&t.nativeEvent.which===2}var Vt=({children:t,href:e,onClick:o,preventDefault:n=!0,ref:r,replace:s,scroll:i,...l})=>{let a=w5(),{startRouteTransition:c}=Je();return y5(S5,{href:e,onClick:u=>{I5(u)||(o&&o(u),n&&u.preventDefault(),c(()=>{let d=typeof e=="string"?e:UC(e);s?a.replace(d,{scroll:i}):a.push(d,{scroll:i})}))},ref:r,...l,children:t})};var ri="banner",Hr=({type:t="default",alignIcon:e="right",children:o,className:n,icon:r,onClick:s,to:i})=>{let l=[ri,`${ri}--type-${t}`,n&&n,i&&`${ri}--has-link`,(i||s)&&`${ri}--has-action`,r&&`${ri}--has-icon`,r&&`${ri}--align-icon-${e}`].filter(Boolean).join(" "),a="div";return s&&!i&&(a="button"),i&&(a=Vt),_5(a,{className:l,href:i||null,onClick:s,children:[r&&e==="left"&&Ph(YC.Fragment,{children:r}),Ph("span",{className:`${ri}__content`,children:o}),r&&e==="right"&&Ph(YC.Fragment,{children:r})]})};import{jsx as nr,jsxs as Md}from"react/jsx-runtime";import W5,{Fragment as U5,isValidElement as X5}from"react";import{jsx as ZC}from"react/jsx-runtime";import"react";var Ye=({ariaLabel:t,className:e,direction:o,size:n})=>ZC("svg",{"aria-label":t,className:["icon icon--chevron",e,n&&`icon--size-${n}`].filter(Boolean).join(" "),height:"100%",style:{transform:o==="left"?"rotate(90deg)":o==="right"?"rotate(-90deg)":o==="up"?"rotate(180deg)":void 0},viewBox:"0 0 20 20",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:ZC("path",{className:"stroke",d:"M14 8L10 12L6 8",strokeLinecap:"square"})});import{jsx as JC}from"react/jsx-runtime";import"react";var Wr=({className:t})=>JC("svg",{className:[t,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:JC("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})});import{jsx as qC}from"react/jsx-runtime";import"react";var Nh=()=>qC("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:qC("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})});import{jsx as QC}from"react/jsx-runtime";import"react";var Yo=()=>QC("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:QC("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})});import{jsx as KC}from"react/jsx-runtime";import"react";var $h=()=>KC("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:KC("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})});import{jsx as ni,jsxs as Mh}from"react/jsx-runtime";var _e={};wC(_e,{Button:()=>kh,ButtonGroup:()=>Lh,Divider:()=>ex,GroupLabel:()=>Nd});import{jsx as $d}from"react/jsx-runtime";import"react";import{jsx as D5}from"react/jsx-runtime";import"react";var F5="popup-divider",ex=()=>D5("hr",{className:F5});import{jsx as T5}from"react/jsx-runtime";import"react";var R5="popup-list-group-label",Nd=({label:t})=>T5("p",{className:R5,children:t});var da="popup-button-list",Lh=({buttonSize:t="default",children:e,className:o,textAlign:n="left"})=>{let r=[da,o,`${da}__text-align--${n}`,`${da}__button-size--${t}`].filter(Boolean).join(" ");return $d("div",{className:r,children:e})},kh=({id:t,active:e,children:o,className:n,disabled:r,href:s,onClick:i})=>{let l=[`${da}__button`,r&&`${da}__disabled`,e&&`${da}__button--selected`,n].filter(Boolean).join(" ");if(!r){if(s)return $d(Vt,{className:l,href:s,id:t,onClick:a=>{i&&i(a)},prefetch:!1,children:o});if(i)return $d("button",{className:l,id:t,onClick:a=>{i&&i(a)},type:"button",children:o})}return $d("div",{className:l,id:t,children:o})};var gs={};wC(gs,{WindowInfo:()=>rx,WindowInfoContext:()=>ma,WindowInfoProvider:()=>ix,useWindowInfo:()=>Eo,withWindowInfo:()=>ax});import{useContext as E5}from"react";import{createContext as A5}from"react";var ma=A5({});var Eo=()=>E5(ma);import tx,{Fragment as ox}from"react";var rx=t=>{let{children:e}=t,o=Eo();return e?typeof e=="function"?tx.createElement(ox,null,e(o)):tx.createElement(ox,null,e):null};import P5,{useCallback as nx,useEffect as sx,useReducer as N5,useRef as $5}from"react";var L5=(t,e)=>{let{payload:{breakpoints:o,animationRef:n}}=e;n.current=null;let{eventsFired:r}=t,{documentElement:{style:s,clientWidth:i,clientHeight:l}}=document,{innerWidth:a,innerHeight:c}=window,u=`${i/100}px`,d=`${l/100}px`,f=o?Object.keys(o).reduce((h,p)=>Object.assign(Object.assign({},h),{[p]:window.matchMedia(o[p]).matches}),{}):{},m={width:a,height:c,"--vw":u,"--vh":d,breakpoints:f,eventsFired:r+1};return s.setProperty("--vw",u),s.setProperty("--vh",d),m},ix=t=>{let{breakpoints:e,children:o}=t,n=$5(null),[r,s]=N5(L5,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),i=nx(()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>s({type:"UPDATE",payload:{breakpoints:e,animationRef:n}}))},[e]),l=nx(()=>{setTimeout(()=>{i()},500)},[i]);return sx(()=>(window.addEventListener("resize",i),window.addEventListener("orientationchange",l),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",l)}),[i,l]),sx(()=>{r.eventsFired===0&&s({type:"UPDATE",payload:{breakpoints:e,animationRef:n}})},[e,r]),P5.createElement(ma.Provider,{value:Object.assign({},r)},o&&o)};import k5 from"react";var ax=t=>o=>{let n=Eo();return k5.createElement(t,Object.assign({},o,{windowInfo:n}))};import V5,{useCallback as ux,useEffect as Ld,useRef as dx,useState as Bh}from"react";import{c as j5}from"react/compiler-runtime";import{useEffect as M5,useRef as B5,useState as lx}from"react";var En=(t,e)=>{let o=j5(14),n;o[0]!==t?(n=t===void 0?{}:t,o[0]=t,o[1]=n):n=o[1];let{root:r,rootMargin:s,threshold:i}=n,l=r===void 0?null:r,a=s===void 0?"0px":s,c=i===void 0?0:i,[u,d]=lx(),[f,m]=lx(null),h;o[2]!==e||o[3]!==l||o[4]!==a||o[5]!==c?(h=typeof window<"u"&&"IntersectionObserver"in window&&!e?new window.IntersectionObserver(v=>{let[x]=v;return d(x)},{root:l,rootMargin:a,threshold:c}):null,o[2]=e,o[3]=l,o[4]=a,o[5]=c,o[6]=h):h=o[6];let p=B5(h),g,b;o[7]!==e||o[8]!==f?(g=()=>{if(e)return;let{current:v}=p;return v.disconnect(),f&&v.observe(f),()=>v.disconnect()},b=[f,e],o[7]=e,o[8]=f,o[9]=g,o[10]=b):(g=o[9],b=o[10]),M5(g,b);let C;return o[11]!==u||o[12]!==f?(C=[m,u,f],o[11]=u,o[12]=f,o[13]=C):C=o[13],C};import{c as O5}from"react/compiler-runtime";import{jsx as cx}from"react/jsx-runtime";import"react";var Gl="popup-button",jh=t=>{let e=O5(24),{active:o,button:n,buttonType:r,className:s,disabled:i,noBackground:l,setActive:a,size:c}=t,u=`${Gl}--${r}`,d=!l&&`${Gl}--background`,f=c&&`${Gl}--size-${c}`,m=i&&`${Gl}--disabled`,h;e[0]!==s||e[1]!==u||e[2]!==d||e[3]!==f||e[4]!==m?(h=[Gl,s,u,d,f,m].filter(Boolean),e[0]=s,e[1]=u,e[2]=d,e[3]=f,e[4]=m,e[5]=h):h=e[5];let p=h.join(" "),g;e[6]!==o||e[7]!==a?(g=()=>{a(!o)},e[6]=o,e[7]=a,e[8]=g):g=e[8];let b=g;if(r==="none")return null;if(r==="custom"){let x;e[9]!==b?(x=I=>{I.key==="Enter"&&b()},e[9]=b,e[10]=x):x=e[10];let y;return e[11]!==n||e[12]!==p||e[13]!==b||e[14]!==x?(y=cx("div",{className:p,onClick:b,onKeyDown:x,role:"button",tabIndex:0,children:n}),e[11]=n,e[12]=p,e[13]=b,e[14]=x,e[15]=y):y=e[15],y}let C;e[16]!==b?(C=x=>{x.key==="Enter"&&b()},e[16]=b,e[17]=C):C=e[17];let v;return e[18]!==n||e[19]!==p||e[20]!==i||e[21]!==b||e[22]!==C?(v=cx("button",{className:p,disabled:i,onClick:b,onKeyDown:C,tabIndex:0,type:"button",children:n}),e[18]=n,e[19]=p,e[20]=i,e[21]=b,e[22]=C,e[23]=v):v=e[23],v};var Zo="popup",yt=t=>{let{id:e,boundingRef:o,button:n,buttonClassName:r,buttonSize:s,buttonType:i="default",caret:l=!0,children:a,className:c,disabled:u,forceOpen:d,horizontalAlign:f="left",initActive:m=!1,noBackground:h,onToggleClose:p,onToggleOpen:g,render:b,showOnHover:C=!1,showScrollbar:v=!1,size:x="medium",verticalAlign:y="top"}=t,{height:I,width:w}=Eo(),[D,_]=En({root:o?.current||null,rootMargin:"-100px 0px 0px 0px",threshold:1}),R=dx(null),T=dx(null),[S,F]=Bh(m),[A,P]=Bh(y),[E,k]=Bh(f),M=V5.useCallback(j=>{j&&typeof g=="function"&&g(!0),!j&&typeof p=="function"&&p(),F(j)},[p,g]),N=ux(({horizontal:j=!1,vertical:B=!1})=>{if(R.current){let V=R.current.getBoundingClientRect(),{bottom:G,left:z,right:Y,top:Q}=V,Z=100,X=document.documentElement.clientWidth,q=document.documentElement.clientHeight,W=0;o?.current&&({bottom:q,left:W,right:X,top:Z}=o.current.getBoundingClientRect()),j&&(Y>X&&z>W?k("right"):z<W&&Y<X&&k("left")),B&&(Q<Z&&G<q?P("bottom"):G>q&&Q>Z&&P("top"))}},[o]),L=ux(j=>{R.current.contains(j.target)||T.current.contains(j.target)||M(!1)},[R,M]);Ld(()=>{N({horizontal:!0})},[_,N,w]),Ld(()=>{N({vertical:!0})},[_,N,I]),Ld(()=>(S?document.addEventListener("mousedown",L):document.removeEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}),[S,L,g]),Ld(()=>{M(d)},[d,M]);let O=[Zo,c,`${Zo}--size-${x}`,s&&`${Zo}--button-size-${s}`,`${Zo}--v-align-${A}`,`${Zo}--h-align-${E}`,S&&`${Zo}--active`,v&&`${Zo}--show-scrollbar`].filter(Boolean).join(" ");return Mh("div",{className:O,id:e,children:[ni("div",{className:`${Zo}__trigger-wrap`,ref:T,children:C?ni("div",{className:`${Zo}__on-hover-watch`,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),role:"button",tabIndex:0,children:ni(jh,{active:S,button:n,buttonType:i,className:r,disabled:u,noBackground:h,setActive:M,size:s})}):ni(jh,{active:S,button:n,buttonType:i,className:r,disabled:u,noBackground:h,setActive:M,size:s})}),Mh("div",{className:`${Zo}__content`,ref:R,children:[ni("div",{className:`${Zo}__hide-scrollbar`,ref:D,children:ni("div",{className:`${Zo}__scroll-container`,children:Mh("div",{className:`${Zo}__scroll-content`,children:[b&&b({close:()=>M(!1)}),a]})})}),l&&ni("div",{className:`${Zo}__caret`})]})]})};import{c as G5}from"react/compiler-runtime";import{jsx as kd,jsxs as z5}from"react/jsx-runtime";import Oh,{useEffect as mx}from"react";var Io=t=>{let e=G5(26),{alignCaret:o,boundingRef:n,children:r,className:s,delay:i,position:l,show:a,staticPositioning:c}=t,u=o===void 0?"center":o,d=i===void 0?350:i,f=a===void 0?!0:a,m=c===void 0?!1:c,[h,p]=Oh.useState(f),[g,b]=Oh.useState("top"),C=H5,v=n?.current||null,x;e[0]!==v?(x={root:v,rootMargin:"-145px 0px 0px 100px",threshold:0},e[0]=v,e[1]=x):x=e[1];let[y,I]=En(x,m),w,D;e[2]!==d||e[3]!==f?(w=()=>{let S;return d&&f?S=setTimeout(()=>{p(f)},d):p(f),()=>{S&&clearTimeout(S)}},D=[f,d],e[2]=d,e[3]=f,e[4]=w,e[5]=D):(w=e[4],D=e[5]),mx(w,D);let _;e[6]!==I?.isIntersecting||e[7]!==m?(_=()=>{m||b(I?.isIntersecting?"top":"bottom")},e[6]=I?.isIntersecting,e[7]=m,e[8]=_):_=e[8];let R;e[9]!==I||e[10]!==m?(R=[I,m],e[9]=I,e[10]=m,e[11]=R):R=e[11],mx(_,R);let T;if(e[12]!==u||e[13]!==r||e[14]!==s||e[15]!==g||e[16]!==l||e[17]!==y||e[18]!==h||e[19]!==m){let S=h&&"tooltip--show",F=`tooltip--caret-${u}`,A=`tooltip--position-${l||g}`,P;e[21]!==s||e[22]!==S||e[23]!==F||e[24]!==A?(P=["tooltip",s,S,F,A].filter(Boolean),e[21]=s,e[22]=S,e[23]=F,e[24]=A,e[25]=P):P=e[25],T=z5(Oh.Fragment,{children:[!m&&kd("aside",{"aria-hidden":"true",className:["tooltip",s,`tooltip--caret-${u}`,"tooltip--position-top"].filter(Boolean).join(" "),ref:y,style:{opacity:"0"},children:kd("div",{className:"tooltip-content",children:r})}),kd("aside",{className:P.join(" "),title:C(r),children:kd("div",{className:"tooltip-content",children:r})})]}),e[12]=u,e[13]=r,e[14]=s,e[15]=g,e[16]=l,e[17]=y,e[18]=h,e[19]=m,e[20]=T}else T=e[20];return T};function H5(t){return typeof t=="string"?t:""}var Y5={chevron:Ye,edit:Wr,link:Nh,plus:Yo,swap:$h,x:pt},uo="btn",jd=({children:t,icon:e,showTooltip:o,tooltip:n})=>{let r=Y5[e];return Md(U5,{children:[n&&nr(Io,{className:`${uo}__tooltip`,show:o,children:n}),Md("span",{className:`${uo}__content`,children:[t&&nr("span",{className:`${uo}__label`,children:t}),e&&Md("span",{className:`${uo}__icon`,children:[X5(e)&&e,r&&nr(r,{})]})]})]})},te=t=>{let{id:e,type:o="button","aria-label":n,buttonStyle:r="primary",children:s,className:i,disabled:l,el:a="button",enableSubMenu:c,icon:u,iconPosition:d="right",iconStyle:f="without-border",margin:m=!0,newTab:h,onClick:p,onMouseDown:g,ref:b,round:C,size:v="medium",SubMenuPopupContent:x,to:y,tooltip:I,url:w}=t,[D,_]=W5.useState(!1),R=[uo,i&&i,u&&`${uo}--icon`,f&&`${uo}--icon-style-${f}`,u&&!s&&`${uo}--icon-only`,v&&`${uo}--size-${v}`,u&&d&&`${uo}--icon-position-${d}`,I&&`${uo}--has-tooltip`,!x&&`${uo}--withoutPopup`,!m&&`${uo}--no-margin`].filter(Boolean).join(" ");function T(E){_(!1),o!=="submit"&&p&&E.preventDefault(),p&&p(E)}let S=[r&&`${uo}--style-${r}`,l&&`${uo}--disabled`,C&&`${uo}--round`,x?`${uo}--withPopup`:`${uo}--withoutPopup`].filter(Boolean).join(" "),F={id:e,type:o,"aria-disabled":l,"aria-label":n,className:x?R:[R,S].join(" "),disabled:l,onClick:l?void 0:T,onMouseDown:l?void 0:g,onPointerEnter:I?()=>_(!0):void 0,onPointerLeave:I?()=>_(!1):void 0,rel:h?"noopener noreferrer":void 0,target:h?"_blank":void 0},A,P;switch(a){case"anchor":A=nr("a",{...F,href:l?void 0:w,ref:b,children:nr(jd,{icon:u,showTooltip:D,tooltip:I,children:s})});break;case"link":l&&(A=nr("div",{...F,children:nr(jd,{icon:u,showTooltip:D,tooltip:I,children:s})})),A=nr(Vt,{...F,href:y||w,prefetch:P,children:nr(jd,{icon:u,showTooltip:D,tooltip:I,children:s})});break;default:A=nr(a,{ref:b,...F,children:nr(jd,{icon:u,showTooltip:D,tooltip:I,children:s})});break}return x?Md("div",{className:S,children:[A,nr(yt,{button:nr(Ye,{}),buttonSize:v,className:l&&!c?`${uo}--popup-disabled`:"",disabled:l&&!c,horizontalAlign:"right",id:`${e}-popup`,noBackground:!0,render:({close:E})=>x({close:()=>E()}),size:"large",verticalAlign:"bottom"})]}):A};import{c as _A}from"react/compiler-runtime";import{jsx as DA}from"react/jsx-runtime";import{Fragment as FA}from"react";import{c as IA}from"react/compiler-runtime";import xx,{useMemo as Od,useRef as zh,useEffect as Vd,useState as rA,useContext as nA}from"react";import{useDndContext as sA,getClientRect as iA,useDroppable as aA,useDraggable as lA,closestCorners as cA,getFirstCollision as uA,getScrollableAncestors as dA,KeyboardCode as bs}from"@dnd-kit/core";import{useMemo as fx,useLayoutEffect as Z5,useEffect as J5,useRef as xQ,useCallback as yQ}from"react";function px(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return fx(()=>n=>{e.forEach(r=>r(n))},e)}var q5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Q5(t){let e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function K5(t){return"nodeType"in t}function hx(t){var e,o;return t?Q5(t)?t:K5(t)&&(e=(o=t.ownerDocument)==null?void 0:o.defaultView)!=null?e:window:window}var Gh=q5?Z5:J5;var Vh={};function gx(t,e){return fx(()=>{if(e)return e;let o=Vh[t]==null?0:Vh[t]+1;return Vh[t]=o,t+"-"+o},[t,e])}function eA(t){return function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return n.reduce((s,i)=>{let l=Object.entries(i);for(let[a,c]of l){let u=s[a];u!=null&&(s[a]=u+t*c)}return s},{...e})}}var bx=eA(-1);function tA(t){return"clientX"in t&&"clientY"in t}function vx(t){if(!t)return!1;let{KeyboardEvent:e}=hx(t.target);return e&&t instanceof e}function oA(t){if(!t)return!1;let{TouchEvent:e}=hx(t.target);return e&&t instanceof e}function Cx(t){if(oA(t)){if(t.touches&&t.touches.length){let{clientX:e,clientY:o}=t.touches[0];return{x:e,y:o}}else if(t.changedTouches&&t.changedTouches.length){let{clientX:e,clientY:o}=t.changedTouches[0];return{x:e,y:o}}}return tA(t)?{x:t.clientX,y:t.clientY}:null}var zl=Object.freeze({Translate:{toString(t){if(!t)return;let{x:e,y:o}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(o?Math.round(o):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;let{scaleX:e,scaleY:o}=t;return"scaleX("+e+") scaleY("+o+")"}},Transform:{toString(t){if(t)return[zl.Translate.toString(t),zl.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:o,easing:n}=t;return e+" "+o+"ms "+n}}});function zd(t,e,o){let n=t.slice();return n.splice(o<0?n.length+o:o,0,n.splice(e,1)[0]),n}function mA(t,e){return t.reduce((o,n,r)=>{let s=e.get(n);return s&&(o[r]=s),o},Array(t.length))}function Bd(t){return t!==null&&t>=0}function fA(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}function pA(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}var yx=t=>{let{rects:e,activeIndex:o,overIndex:n,index:r}=t,s=zd(e,n,o),i=e[r],l=s[r];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}};var wx="Sortable",Sx=xx.createContext({activeIndex:-1,containerId:wx,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:yx,disabled:{draggable:!1,droppable:!1}});function Ix(t){let{children:e,id:o,items:n,strategy:r=yx,disabled:s=!1}=t,{active:i,dragOverlay:l,droppableRects:a,over:c,measureDroppableContainers:u}=sA(),d=gx(wx,o),f=l.rect!==null,m=Od(()=>n.map(I=>typeof I=="object"&&"id"in I?I.id:I),[n]),h=i!=null,p=i?m.indexOf(i.id):-1,g=c?m.indexOf(c.id):-1,b=zh(m),C=!fA(m,b.current),v=g!==-1&&p===-1||C,x=pA(s);Gh(()=>{C&&h&&u(m)},[C,m,h,u]),Vd(()=>{b.current=m},[m]);let y=Od(()=>({activeIndex:p,containerId:d,disabled:x,disableTransforms:v,items:m,overIndex:g,useDragOverlay:f,sortedRects:mA(m,a),strategy:r}),[p,d,x.draggable,x.droppable,v,m,g,a,f,r]);return xx.createElement(Sx.Provider,{value:y},e)}var hA=t=>{let{id:e,items:o,activeIndex:n,overIndex:r}=t;return zd(o,n,r).indexOf(e)},gA=t=>{let{containerId:e,isSorting:o,wasDragging:n,index:r,items:s,newIndex:i,previousItems:l,previousContainerId:a,transition:c}=t;return!c||!n||l!==s&&r===i?!1:o?!0:i!==r&&e===a},bA={duration:200,easing:"ease"},_x="transform",vA=zl.Transition.toString({property:_x,duration:0,easing:"linear"}),CA={roleDescription:"sortable"};function xA(t){let{disabled:e,index:o,node:n,rect:r}=t,[s,i]=rA(null),l=zh(o);return Gh(()=>{if(!e&&o!==l.current&&n.current){let a=r.current;if(a){let c=iA(n.current,{ignoreTransform:!0}),u={x:a.left-c.left,y:a.top-c.top,scaleX:a.width/c.width,scaleY:a.height/c.height};(u.x||u.y)&&i(u)}}o!==l.current&&(l.current=o)},[e,o,n,r]),Vd(()=>{s&&i(null)},[s]),s}function Dx(t){let{animateLayoutChanges:e=gA,attributes:o,disabled:n,data:r,getNewIndex:s=hA,id:i,strategy:l,resizeObserverConfig:a,transition:c=bA}=t,{items:u,containerId:d,activeIndex:f,disabled:m,disableTransforms:h,sortedRects:p,overIndex:g,useDragOverlay:b,strategy:C}=nA(Sx),v=yA(n,m),x=u.indexOf(i),y=Od(()=>({sortable:{containerId:d,index:x,items:u},...r}),[d,r,x,u]),I=Od(()=>u.slice(u.indexOf(i)),[u,i]),{rect:w,node:D,isOver:_,setNodeRef:R}=aA({id:i,data:y,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...a}}),{active:T,activatorEvent:S,activeNodeRect:F,attributes:A,setNodeRef:P,listeners:E,isDragging:k,over:M,setActivatorNodeRef:N,transform:L}=lA({id:i,data:y,attributes:{...CA,...o},disabled:v.draggable}),O=px(R,P),j=!!T,B=j&&!h&&Bd(f)&&Bd(g),V=!b&&k,G=V&&B?L:null,Y=B?G??(l??C)({rects:p,activeNodeRect:F,activeIndex:f,overIndex:g,index:x}):null,Q=Bd(f)&&Bd(g)?s({id:i,items:u,activeIndex:f,overIndex:g}):x,Z=T?.id,X=zh({activeId:Z,items:u,newIndex:Q,containerId:d}),q=u!==X.current.items,W=e({active:T,containerId:d,isDragging:k,isSorting:j,id:i,index:x,items:u,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:c,wasDragging:X.current.activeId!=null}),ee=xA({disabled:!W,index:x,node:D,rect:w});return Vd(()=>{j&&X.current.newIndex!==Q&&(X.current.newIndex=Q),d!==X.current.containerId&&(X.current.containerId=d),u!==X.current.items&&(X.current.items=u)},[j,Q,d,u]),Vd(()=>{if(Z===X.current.activeId)return;if(Z&&!X.current.activeId){X.current.activeId=Z;return}let ae=setTimeout(()=>{X.current.activeId=Z},50);return()=>clearTimeout(ae)},[Z]),{active:T,activeIndex:f,attributes:A,data:y,rect:w,index:x,newIndex:Q,items:u,isOver:_,isSorting:j,isDragging:k,listeners:E,node:D,overIndex:g,over:M,setNodeRef:O,setActivatorNodeRef:N,setDroppableNodeRef:R,setDraggableNodeRef:P,transform:ee??Y,transition:pe()};function pe(){if(ee||q&&X.current.newIndex===x)return vA;if(!(V&&!vx(S)||!c)&&(j||W))return zl.Transition.toString({...c,property:_x})}}function yA(t,e){var o,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(o=t?.draggable)!=null?o:e.draggable,droppable:(n=t?.droppable)!=null?n:e.droppable}}function Gd(t){if(!t)return!1;let e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var wA=[bs.Down,bs.Right,bs.Up,bs.Left],Fx=(t,e)=>{let{context:{active:o,collisionRect:n,droppableRects:r,droppableContainers:s,over:i,scrollableAncestors:l}}=e;if(wA.includes(t.code)){if(t.preventDefault(),!o||!n)return;let a=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;let f=r.get(d.id);if(f)switch(t.code){case bs.Down:n.top<f.top&&a.push(d);break;case bs.Up:n.top>f.top&&a.push(d);break;case bs.Left:n.left>f.left&&a.push(d);break;case bs.Right:n.left<f.left&&a.push(d);break}});let c=cA({active:o,collisionRect:n,droppableRects:r,droppableContainers:a,pointerCoordinates:null}),u=uA(c,"id");if(u===i?.id&&c.length>1&&(u=c[1].id),u!=null){let d=s.get(o.id),f=s.get(u),m=f?r.get(f.id):null,h=f?.node.current;if(h&&m&&d&&f){let g=dA(h).some((I,w)=>l[w]!==I),b=Tx(d,f),C=SA(d,f),v=g||!b?{x:0,y:0}:{x:C?n.width-m.width:0,y:C?n.height-m.height:0},x={x:m.left,y:m.top};return v.x&&v.y?x:bx(x,v)}}}};function Tx(t,e){return!Gd(t)||!Gd(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function SA(t,e){return!Gd(t)||!Gd(e)||!Tx(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var fa=t=>{let e=IA(17),{id:o,disabled:n}=t,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},e[0]=r):r=e[0];let s;e[1]!==n||e[2]!==o?(s={id:o,disabled:n,transition:r},e[1]=n,e[2]=o,e[3]=s):s=e[3];let{attributes:i,isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d}=Dx(s),f=l?"grabbing":"grab",m;e[4]!==f||e[5]!==d?(m={cursor:f,transition:d},e[4]=f,e[5]=d,e[6]=m):m=e[6];let h;e[7]!==i||e[8]!==m?(h={...i,style:m},e[7]=i,e[8]=m,e[9]=h):h=e[9];let p=u&&`translate3d(${u.x}px, ${u.y}px, 0)`,g;return e[10]!==l||e[11]!==a||e[12]!==c||e[13]!==h||e[14]!==p||e[15]!==d?(g={attributes:h,isDragging:l,listeners:a,setNodeRef:c,transform:p,transition:d},e[10]=l,e[11]=a,e[12]=c,e[13]=h,e[14]=p,e[15]=d,e[16]=g):g=e[16],g};var pn=t=>{let e=_A(12),{id:o,children:n,disabled:r}=t,s;e[0]!==r||e[1]!==o?(s={id:o,disabled:r},e[0]=r,e[1]=o,e[2]=s):s=e[2];let{attributes:i,isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d}=fa(s),f=l?"grabbing":"grab",m;return e[3]!==i||e[4]!==n||e[5]!==l||e[6]!==a||e[7]!==c||e[8]!==f||e[9]!==u||e[10]!==d?(m=DA(FA,{children:n({attributes:{...i,style:{cursor:f}},isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d})}),e[3]=i,e[4]=n,e[5]=l,e[6]=a,e[7]=c,e[8]=f,e[9]=u,e[10]=d,e[11]=m):m=e[11],m};import{c as TA}from"react/compiler-runtime";import{jsx as Hh}from"react/jsx-runtime";import{closestCenter as RA,DndContext as AA,KeyboardSensor as EA,PointerSensor as PA,useDroppable as NA,useSensor as Rx,useSensors as $A}from"@dnd-kit/core";import{useId as LA}from"react";var Fr=t=>{let e=TA(18),{children:o,className:n,ids:r,onDragEnd:s,onDragStart:i}=t,l=LA(),a;e[0]!==l?(a={id:l},e[0]=l,e[1]=a):a=e[1];let{setNodeRef:c}=NA(a),u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u={activationConstraint:{distance:5}},e[2]=u):u=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={coordinateGetter:Fx},e[3]=d):d=e[3];let f=$A(Rx(PA,u),Rx(EA,d)),m;e[4]!==r||e[5]!==s?(m=C=>{let{active:v,over:x}=C;C.activatorEvent.stopPropagation(),!(!v||!x)&&typeof s=="function"&&s({event:C,moveFromIndex:r.findIndex(y=>y===v.id),moveToIndex:r.findIndex(y=>y===x.id)})},e[4]=r,e[5]=s,e[6]=m):m=e[6];let h=m,p;e[7]!==i?(p=C=>{let{active:v}=C;v&&typeof i=="function"&&i({id:v.id,event:C})},e[7]=i,e[8]=p):p=e[8];let g=p,b;return e[9]!==o||e[10]!==n||e[11]!==h||e[12]!==g||e[13]!==l||e[14]!==r||e[15]!==f||e[16]!==c?(b=Hh(AA,{collisionDetection:RA,id:l,onDragEnd:h,onDragStart:g,sensors:f,children:Hh(Ix,{items:r,children:Hh("div",{className:n,ref:c,children:o})})}),e[9]=o,e[10]=n,e[11]=h,e[12]=g,e[13]=l,e[14]=r,e[15]=f,e[16]=c,e[17]=b):b=e[17],b};import{jsx as Ax,jsxs as kA}from"react/jsx-runtime";import"react";var Hd="error-pill",go=t=>{let{className:e,count:o,i18n:n,withMessage:r}=t,s=!r&&o<99,i=[Hd,s&&`${Hd}--fixed-width`,e&&e].filter(Boolean).join(" ");return o===0?null:Ax("div",{className:i,children:kA("div",{className:`${Hd}__content`,children:[Ax("span",{className:`${Hd}__count`,children:o}),r&&` ${o>1?n.t("general:errors"):n.t("general:error")}`]})})};import{c as jA}from"react/compiler-runtime";import{jsx as MA}from"react/jsx-runtime";import{getTranslation as BA}from"@payloadcms/translations";import"react";var Ex="field-description",He=t=>{let e=jA(8),{className:o,description:n,marginPlacement:r,path:s}=t,{i18n:i}=$();if(n){let l=`field-description-${s?.replace(/\./g,"__")}`,a=r&&`${Ex}--margin-${r}`,c;e[0]!==o||e[1]!==l||e[2]!==a?(c=[Ex,o,l,a].filter(Boolean),e[0]=o,e[1]=l,e[2]=a,e[3]=c):c=e[3];let u=c.join(" "),d;return e[4]!==n||e[5]!==i||e[6]!==u?(d=MA("div",{className:u,children:BA(n,i)}),e[4]=n,e[5]=i,e[6]=u,e[7]=d):d=e[7],d}return null};import{c as OA}from"react/compiler-runtime";import{jsx as VA}from"react/jsx-runtime";import"react";var GA="field-error",Ue=t=>{let e=OA(7),{alignCaret:o,message:n,path:r,showError:s}=t,i=o===void 0?"right":o,l=to(),a;e[0]!==r?(a=p=>{let[g]=p;return g&&g?.[r]||null},e[0]=r,e[1]=a):a=e[1];let c=Rt(a),u;e[2]!==c?(u=c||{},e[2]=c,e[3]=u):u=e[3];let{errorMessage:d,valid:f}=u,m=n||d;if((s||l&&f===!1)&&m?.length){let p;return e[4]!==i||e[5]!==m?(p=VA(Io,{alignCaret:i,className:GA,delay:0,staticPositioning:!0,children:m}),e[4]=i,e[5]=m,e[6]=p):p=e[6],p}return null};import{c as PP}from"react/compiler-runtime";import{jsx as NP,jsxs as Sy}from"react/jsx-runtime";import{getTranslation as $P}from"@payloadcms/translations";import"react";import{c as zA}from"react/compiler-runtime";import{jsx as HA}from"react/jsx-runtime";import{createContext as WA,use as UA}from"react";var Px=WA(0),si=t=>{let e=zA(3),{children:o}=t,r=et()+1,s;return e[0]!==o||e[1]!==r?(s=HA(Px,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},et=()=>UA(Px);import{c as _P}from"react/compiler-runtime";import{jsx as by}from"react/jsx-runtime";import{useSearchParams as DP}from"next/navigation.js";import FP,{createContext as Cy,use as xy,useEffect as vy,useRef as TP,useState as RP}from"react";var vs=(t,e)=>!t?.locales||t.locales.length===0?null:t.locales.find(o=>o?.code===e);import{jsx as hP}from"react/jsx-runtime";import{jsx as Kh}from"react/jsx-runtime";import{useRef as zx,useEffect as li,useState as eg}from"react";import iE from"react-dom";function Re(){return Re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)({}).hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Re.apply(null,arguments)}function pa(t,e){if(t==null)return{};var o={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;o[n]=t[n]}return o}function ha(t,e){return ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,n){return o.__proto__=n,o},ha(t,e)}function Wd(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ha(t,e)}function Wh(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Uh(t,e){t.classList?t.classList.add(e):Wh(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Nx(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Xh(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Nx(t.className,e):t.setAttribute("class",Nx(t.className&&t.className.baseVal||"",e))}import Lx from"react";import Xd from"react";import Yd from"react-dom";var Yh={disabled:!1};import XA from"react";var Zh=XA.createContext(null);var Ud=function(e){return e.scrollTop};var Hl="unmounted",ii="exited",ai="entering",ba="entered",Jh="exiting",Pn=function(t){Wd(e,t);function e(n,r){var s;s=t.call(this,n,r)||this;var i=r,l=i&&!i.isMounting?n.enter:n.appear,a;return s.appearStatus=null,n.in?l?(a=ii,s.appearStatus=ai):a=ba:n.unmountOnExit||n.mountOnEnter?a=Hl:a=ii,s.state={status:a},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var i=r.in;return i&&s.status===Hl?{status:ii}:null};var o=e.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(r){var s=null;if(r!==this.props){var i=this.state.status;this.props.in?i!==ai&&i!==ba&&(s=ai):(i===ai||i===ba)&&(s=Jh)}this.updateStatus(!1,s)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var r=this.props.timeout,s,i,l;return s=i=l=r,r!=null&&typeof r!="number"&&(s=r.exit,i=r.enter,l=r.appear!==void 0?r.appear:i),{exit:s,enter:i,appear:l}},o.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===ai){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:Yd.findDOMNode(this);i&&Ud(i)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ii&&this.setState({status:Hl})},o.performEnter=function(r){var s=this,i=this.props.enter,l=this.context?this.context.isMounting:r,a=this.props.nodeRef?[l]:[Yd.findDOMNode(this),l],c=a[0],u=a[1],d=this.getTimeouts(),f=l?d.appear:d.enter;if(!r&&!i||Yh.disabled){this.safeSetState({status:ba},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:ai},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:ba},function(){s.props.onEntered(c,u)})})})},o.performExit=function(){var r=this,s=this.props.exit,i=this.getTimeouts(),l=this.props.nodeRef?void 0:Yd.findDOMNode(this);if(!s||Yh.disabled){this.safeSetState({status:ii},function(){r.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Jh},function(){r.props.onExiting(l),r.onTransitionEnd(i.exit,function(){r.safeSetState({status:ii},function(){r.props.onExited(l)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},o.setNextCallback=function(r){var s=this,i=!0;return this.nextCallback=function(l){i&&(i=!1,s.nextCallback=null,r(l))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},o.onTransitionEnd=function(r,s){this.setNextCallback(s);var i=this.props.nodeRef?this.props.nodeRef.current:Yd.findDOMNode(this),l=r==null&&!this.props.addEndListener;if(!i||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=a[0],u=a[1];this.props.addEndListener(c,u)}r!=null&&setTimeout(this.nextCallback,r)},o.render=function(){var r=this.state.status;if(r===Hl)return null;var s=this.props,i=s.children,l=s.in,a=s.mountOnEnter,c=s.unmountOnExit,u=s.appear,d=s.enter,f=s.exit,m=s.timeout,h=s.addEndListener,p=s.onEnter,g=s.onEntering,b=s.onEntered,C=s.onExit,v=s.onExiting,x=s.onExited,y=s.nodeRef,I=pa(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Xd.createElement(Zh.Provider,{value:null},typeof i=="function"?i(r,I):Xd.cloneElement(Xd.Children.only(i),I))},e}(Xd.Component);Pn.contextType=Zh;Pn.propTypes={};function ga(){}Pn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ga,onEntering:ga,onEntered:ga,onExit:ga,onExiting:ga,onExited:ga};Pn.UNMOUNTED=Hl;Pn.EXITED=ii;Pn.ENTERING=ai;Pn.ENTERED=ba;Pn.EXITING=Jh;var $x=Pn;var YA=function(e,o){return e&&o&&o.split(" ").forEach(function(n){return Uh(e,n)})},qh=function(e,o){return e&&o&&o.split(" ").forEach(function(n){return Xh(e,n)})},Qh=function(t){Wd(e,t);function e(){for(var n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1];n.removeClasses(u,"exit"),n.addClass(u,d?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(l,a)},n.onEntering=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1],f=d?"appear":"enter";n.addClass(u,f,"active"),n.props.onEntering&&n.props.onEntering(l,a)},n.onEntered=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1],f=d?"appear":"enter";n.removeClasses(u,f),n.addClass(u,f,"done"),n.props.onEntered&&n.props.onEntered(l,a)},n.onExit=function(l){var a=n.resolveArguments(l),c=a[0];n.removeClasses(c,"appear"),n.removeClasses(c,"enter"),n.addClass(c,"exit","base"),n.props.onExit&&n.props.onExit(l)},n.onExiting=function(l){var a=n.resolveArguments(l),c=a[0];n.addClass(c,"exit","active"),n.props.onExiting&&n.props.onExiting(l)},n.onExited=function(l){var a=n.resolveArguments(l),c=a[0];n.removeClasses(c,"exit"),n.addClass(c,"exit","done"),n.props.onExited&&n.props.onExited(l)},n.resolveArguments=function(l,a){return n.props.nodeRef?[n.props.nodeRef.current,l]:[l,a]},n.getClassNames=function(l){var a=n.props.classNames,c=typeof a=="string",u=c&&a?a+"-":"",d=c?""+u+l:a[l],f=c?d+"-active":a[l+"Active"],m=c?d+"-done":a[l+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:m}},n}var o=e.prototype;return o.addClass=function(r,s,i){var l=this.getClassNames(s)[i+"ClassName"],a=this.getClassNames("enter"),c=a.doneClassName;s==="appear"&&i==="done"&&c&&(l+=" "+c),i==="active"&&r&&Ud(r),l&&(this.appliedClasses[s][i]=l,YA(r,l))},o.removeClasses=function(r,s){var i=this.appliedClasses[s],l=i.base,a=i.active,c=i.done;this.appliedClasses[s]={},l&&qh(r,l),a&&qh(r,a),c&&qh(r,c)},o.render=function(){var r=this.props,s=r.classNames,i=pa(r,["classNames"]);return Lx.createElement($x,Re({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Lx.Component);Qh.defaultProps={classNames:""};Qh.propTypes={};var Wl=Qh;function kx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}import{useContext as JA}from"react";import{createContext as ZA}from"react";var Zd=ZA({});var le=()=>JA(Zd);var Jd=t=>t?{appear:`${t}--appear`,appearActive:`${t}--appearActive`,appearDone:`${t}--appearDone`,enter:`${t}--enter`,enterActive:`${t}--enterActive`,enterDone:`${t}--enterDone`,exit:`${t}--exit`,exitActive:`${t}--exitActive`,exitDone:`${t}--exitDone`}:{};zR();function jx(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,n)}return o}function Mx(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?jx(Object(o),!0).forEach(function(n){qA(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):jx(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function qA(t,e,o){return e=KA(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function QA(t,e){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KA(t){var e=QA(t,"string");return typeof e=="symbol"?e:String(e)}var Bx={activateTrap:function(e,o){if(e.length>0){var n=e[e.length-1];n!==o&&n.pause()}var r=e.indexOf(o);r===-1||e.splice(r,1),e.push(o)},deactivateTrap:function(e,o){var n=e.indexOf(o);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},eE=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},tE=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},Xl=function(e){return e?.key==="Tab"||e?.keyCode===9},oE=function(e){return Xl(e)&&!e.shiftKey},rE=function(e){return Xl(e)&&e.shiftKey},Ox=function(e){return setTimeout(e,0)},Vx=function(e,o){var n=-1;return e.every(function(r,s){return o(r)?(n=s,!1):!0}),n},Ul=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,n):e},qd=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},nE=[],Gx=function(e,o){var n=o?.document||document,r=o?.trapStack||nE,s=Mx({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:oE,isKeyBackward:rE},o),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,a=function(S,F,A){return S&&S[F]!==void 0?S[F]:s[A||F]},c=function(S,F){var A=typeof F?.composedPath=="function"?F.composedPath():void 0;return i.containerGroups.findIndex(function(P){var E=P.container,k=P.tabbableNodes;return E.contains(S)||A?.includes(E)||k.find(function(M){return M===S})})},u=function(S){var F=s[S];if(typeof F=="function"){for(var A=arguments.length,P=new Array(A>1?A-1:0),E=1;E<A;E++)P[E-1]=arguments[E];F=F.apply(void 0,P)}if(F===!0&&(F=void 0),!F){if(F===void 0||F===!1)return F;throw new Error("`".concat(S,"` was specified but was not a node, or did not return a node"))}var k=F;if(typeof F=="string"&&(k=n.querySelector(F),!k))throw new Error("`".concat(S,"` as selector refers to no known node"));return k},d=function(){var S=u("initialFocus");if(S===!1)return!1;if(S===void 0||!Cd(S,s.tabbableOptions))if(c(n.activeElement)>=0)S=n.activeElement;else{var F=i.tabbableGroups[0],A=F&&F.firstTabbableNode;S=A||u("fallbackFocus")}if(!S)throw new Error("Your focus-trap needs to have at least one focusable element");return S},f=function(){if(i.containerGroups=i.containers.map(function(S){var F=SC(S,s.tabbableOptions),A=IC(S,s.tabbableOptions),P=F.length>0?F[0]:void 0,E=F.length>0?F[F.length-1]:void 0,k=A.find(function(L){return ei(L)}),M=A.slice().reverse().find(function(L){return ei(L)}),N=!!F.find(function(L){return la(L)>0});return{container:S,tabbableNodes:F,focusableNodes:A,posTabIndexesFound:N,firstTabbableNode:P,lastTabbableNode:E,firstDomTabbableNode:k,lastDomTabbableNode:M,nextTabbableNode:function(O){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,B=F.indexOf(O);return B<0?j?A.slice(A.indexOf(O)+1).find(function(V){return ei(V)}):A.slice(0,A.indexOf(O)).reverse().find(function(V){return ei(V)}):F[B+(j?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(S){return S.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(S){return S.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function T(S){var F=S.activeElement;if(F)return F.shadowRoot&&F.shadowRoot.activeElement!==null?T(F.shadowRoot):F},h=function T(S){if(S!==!1&&S!==m(document)){if(!S||!S.focus){T(d());return}S.focus({preventScroll:!!s.preventScroll}),i.mostRecentlyFocusedNode=S,eE(S)&&S.select()}},p=function(S){var F=u("setReturnFocus",S);return F||(F===!1?!1:S)},g=function(S){var F=S.target,A=S.event,P=S.isBackward,E=P===void 0?!1:P;F=F||qd(A),f();var k=null;if(i.tabbableGroups.length>0){var M=c(F,A),N=M>=0?i.containerGroups[M]:void 0;if(M<0)E?k=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:k=i.tabbableGroups[0].firstTabbableNode;else if(E){var L=Vx(i.tabbableGroups,function(z){var Y=z.firstTabbableNode;return F===Y});if(L<0&&(N.container===F||Cd(F,s.tabbableOptions)&&!ei(F,s.tabbableOptions)&&!N.nextTabbableNode(F,!1))&&(L=M),L>=0){var O=L===0?i.tabbableGroups.length-1:L-1,j=i.tabbableGroups[O];k=la(F)>=0?j.lastTabbableNode:j.lastDomTabbableNode}else Xl(A)||(k=N.nextTabbableNode(F,!1))}else{var B=Vx(i.tabbableGroups,function(z){var Y=z.lastTabbableNode;return F===Y});if(B<0&&(N.container===F||Cd(F,s.tabbableOptions)&&!ei(F,s.tabbableOptions)&&!N.nextTabbableNode(F))&&(B=M),B>=0){var V=B===i.tabbableGroups.length-1?0:B+1,G=i.tabbableGroups[V];k=la(F)>=0?G.firstTabbableNode:G.firstDomTabbableNode}else Xl(A)||(k=N.nextTabbableNode(F))}}else k=u("fallbackFocus");return k},b=function(S){var F=qd(S);if(!(c(F,S)>=0)){if(Ul(s.clickOutsideDeactivates,S)){l.deactivate({returnFocus:s.returnFocusOnDeactivate});return}Ul(s.allowOutsideClick,S)||S.preventDefault()}},C=function(S){var F=qd(S),A=c(F,S)>=0;if(A||F instanceof Document)A&&(i.mostRecentlyFocusedNode=F);else{S.stopImmediatePropagation();var P,E=!0;if(i.mostRecentlyFocusedNode)if(la(i.mostRecentlyFocusedNode)>0){var k=c(i.mostRecentlyFocusedNode),M=i.containerGroups[k].tabbableNodes;if(M.length>0){var N=M.findIndex(function(L){return L===i.mostRecentlyFocusedNode});N>=0&&(s.isKeyForward(i.recentNavEvent)?N+1<M.length&&(P=M[N+1],E=!1):N-1>=0&&(P=M[N-1],E=!1))}}else i.containerGroups.some(function(L){return L.tabbableNodes.some(function(O){return la(O)>0})})||(E=!1);else E=!1;E&&(P=g({target:i.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(i.recentNavEvent)})),h(P||i.mostRecentlyFocusedNode||d())}i.recentNavEvent=void 0},v=function(S){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=S;var A=g({event:S,isBackward:F});A&&(Xl(S)&&S.preventDefault(),h(A))},x=function(S){if(tE(S)&&Ul(s.escapeDeactivates,S)!==!1){S.preventDefault(),l.deactivate();return}(s.isKeyForward(S)||s.isKeyBackward(S))&&v(S,s.isKeyBackward(S))},y=function(S){var F=qd(S);c(F,S)>=0||Ul(s.clickOutsideDeactivates,S)||Ul(s.allowOutsideClick,S)||(S.preventDefault(),S.stopImmediatePropagation())},I=function(){if(i.active)return Bx.activateTrap(r,l),i.delayInitialFocusTimer=s.delayInitialFocus?Ox(function(){h(d())}):h(d()),n.addEventListener("focusin",C,!0),n.addEventListener("mousedown",b,{capture:!0,passive:!1}),n.addEventListener("touchstart",b,{capture:!0,passive:!1}),n.addEventListener("click",y,{capture:!0,passive:!1}),n.addEventListener("keydown",x,{capture:!0,passive:!1}),l},w=function(){if(i.active)return n.removeEventListener("focusin",C,!0),n.removeEventListener("mousedown",b,!0),n.removeEventListener("touchstart",b,!0),n.removeEventListener("click",y,!0),n.removeEventListener("keydown",x,!0),l},D=function(S){var F=S.some(function(A){var P=Array.from(A.removedNodes);return P.some(function(E){return E===i.mostRecentlyFocusedNode})});F&&h(d())},_=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,R=function(){_&&(_.disconnect(),i.active&&!i.paused&&i.containers.map(function(S){_.observe(S,{subtree:!0,childList:!0})}))};return l={get active(){return i.active},get paused(){return i.paused},activate:function(S){if(i.active)return this;var F=a(S,"onActivate"),A=a(S,"onPostActivate"),P=a(S,"checkCanFocusTrap");P||f(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=n.activeElement,F?.();var E=function(){P&&f(),I(),R(),A?.()};return P?(P(i.containers.concat()).then(E,E),this):(E(),this)},deactivate:function(S){if(!i.active)return this;var F=Mx({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},S);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,w(),i.active=!1,i.paused=!1,R(),Bx.deactivateTrap(r,l);var A=a(F,"onDeactivate"),P=a(F,"onPostDeactivate"),E=a(F,"checkCanReturnFocus"),k=a(F,"returnFocus","returnFocusOnDeactivate");A?.();var M=function(){Ox(function(){k&&h(p(i.nodeFocusedBeforeActivation)),P?.()})};return k&&E?(E(p(i.nodeFocusedBeforeActivation)).then(M,M),this):(M(),this)},pause:function(S){if(i.paused||!i.active)return this;var F=a(S,"onPause"),A=a(S,"onPostPause");return i.paused=!0,F?.(),w(),R(),A?.(),this},unpause:function(S){if(!i.paused||!i.active)return this;var F=a(S,"onUnpause"),A=a(S,"onPostUnpause");return i.paused=!1,F?.(),f(),I(),R(),A?.(),this},updateContainerElements:function(S){var F=[].concat(S).filter(Boolean);return i.containers=F.map(function(A){return typeof A=="string"?n.querySelector(A):A}),i.active&&f(),R(),this}},l.updateContainerElements(e),l};var sE=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},Nn="modal-item",Hx=(t,e)=>n=>{let r=le(),s=zx(null),[i,l]=eg(!1),a=zx(!1),[c,u]=eg(null),{modalState:d,classPrefix:f,containerRef:m,transTime:h,setCloseOnBlur:p,setBodyScrollLock:g,openModal:b}=r,{className:C,htmlElement:v="dialog",slug:x="",closeOnBlur:y=!0,lockBodyScroll:I=!0,classPrefix:w,onEnter:D,onEntering:_,onEntered:R,onExit:T,onExiting:S,onExited:F,openOnInit:A,trapFocus:P=!0,focusTrapOptions:E={}}=n,k=sE(n,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),M=w||f,N=e||x,L=d[N]&&d[N].isOpen;li(()=>{if(P){let B=s.current;if(a.current===!1&&B){let V=Gx(B,Object.assign(Object.assign({},E),{fallbackFocus:E?.fallbackFocus||B,allowOutsideClick:typeof E.allowOutsideClick<"u"?E.allowOutsideClick:!0}));u(V),a.current=!0}}},[P,i,E]),li(()=>{l(!0)},[]),li(()=>(c&&(L?c.activate():c.deactivate()),()=>{c&&c.deactivate()}),[L,c]),li(()=>{L&&p(y)},[L,y,p]),li(()=>{let B=s.current;return B&&g(!!(L&&I),B),()=>{B&&g(!1,B)}},[L,I,g]);let[O,j]=eg(L);if(li(()=>{L?j(L):setTimeout(()=>j(!1),h)},[L,h]),li(()=>{A&&b(N)},[N,A,b]),m.current){let B=M?`${M}__${Nn}`:Nn,V=[B,`${B}--slug-${N}`,C].filter(Boolean).join(" "),G=Object.assign({role:v!=="dialog"?"dialog":void 0,open:v==="dialog"?O||L:void 0,"aria-modal":!0,"aria-label":k["aria-labelledby"]?void 0:N},k);return iE.createPortal(Kh(Wl,{nodeRef:s,timeout:h,in:L,classNames:Jd(B),appear:!0,onEnter:D,onEntering:_,onEntered:R,onExit:T,onExiting:S,onExited:F,children:Kh(v,Object.assign({ref:s,id:k?.id||N,className:V},G,{children:Kh(t,Object.assign({},n,{isOpen:L,modal:r}))}))}),m.current)}return null};import{jsx as Wx}from"react/jsx-runtime";import{Fragment as Ux}from"react";var aE=t=>{let{children:e}=t;return e?typeof e=="function"?Wx(Ux,{children:e(t)}):Wx(Ux,{children:e}):null},sr=Hx(aE);import{jsx as Xx}from"react/jsx-runtime";var lE=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},$n="modal-container",tg=t=>{let{oneModalIsOpen:e,classPrefix:o,transTime:n,setContainerRef:r,containerRef:s,closeAllModals:i,closeOnBlur:l}=le(),{className:a,htmlElement:c="div",children:u,onClick:d}=t,f=lE(t,["className","htmlElement","children","onClick"]),m=o?`${o}__${$n}`:$n,h=[m,a].filter(Boolean).join(" "),p=Object.assign(Object.assign({},f),{onClick:g=>{l&&i(),typeof d=="function"&&d(g)}});return Xx(Wl,{nodeRef:s,in:e,timeout:n,classNames:Jd(m),appear:!0,children:Xx(c,Object.assign({className:h,ref:r},p,{children:u&&u}))})};import{jsx as ey,jsxs as gE}from"react/jsx-runtime";import{Fragment as bE,useState as tm,useRef as ty,useEffect as om,useCallback as Cs,useReducer as vE}from"react";function cE(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}else return Array.from(t)}var rg=!1;typeof window<"u"&&(og={get passive(){rg=!0}},window.addEventListener("testPassive",null,og),window.removeEventListener("testPassive",null,og));var og,Qd=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),ui=[],Kd=!1,Yx=-1,Yl=void 0,ci=void 0,Zl=void 0,Zx=function(e){return ui.some(function(o){return!!(o.options.allowTouchMove&&o.options.allowTouchMove(e))})},em=function(e){var o=e||window.event;return Zx(o.target)||o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)},uE=function(e){if(Zl===void 0){var o=!!e&&e.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(o&&n>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);Zl=document.body.style.paddingRight,document.body.style.paddingRight=r+n+"px"}}Yl===void 0&&(Yl=document.body.style.overflow,document.body.style.overflow="hidden")},dE=function(){Zl!==void 0&&(document.body.style.paddingRight=Zl,Zl=void 0),Yl!==void 0&&(document.body.style.overflow=Yl,Yl=void 0)},mE=function(){return window.requestAnimationFrame(function(){if(ci===void 0){ci={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,o=e.scrollY,n=e.scrollX,r=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-o,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var s=r-window.innerHeight;s&&o>=r&&(document.body.style.top=-(o+s))})},300)}})},fE=function(){if(ci!==void 0){var e=-parseInt(document.body.style.top,10),o=-parseInt(document.body.style.left,10);document.body.style.position=ci.position,document.body.style.top=ci.top,document.body.style.left=ci.left,window.scrollTo(o,e),ci=void 0}},pE=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},hE=function(e,o){var n=e.targetTouches[0].clientY-Yx;return Zx(e.target)?!1:o&&o.scrollTop===0&&n>0||pE(o)&&n<0?em(e):(e.stopPropagation(),!0)},Jx=function(e,o){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!ui.some(function(r){return r.targetElement===e})){var n={targetElement:e,options:o||{}};ui=[].concat(cE(ui),[n]),Qd?mE():uE(o),Qd&&(e.ontouchstart=function(r){r.targetTouches.length===1&&(Yx=r.targetTouches[0].clientY)},e.ontouchmove=function(r){r.targetTouches.length===1&&hE(r,e)},Kd||(document.addEventListener("touchmove",em,rg?{passive:!1}:void 0),Kd=!0))}};var qx=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}ui=ui.filter(function(o){return o.targetElement!==e}),Qd&&(e.ontouchstart=null,e.ontouchmove=null,Kd&&ui.length===0&&(document.removeEventListener("touchmove",em,rg?{passive:!1}:void 0),Kd=!1)),Qd?fE():dE()};var Qx=({classPrefix:t,zIndex:e})=>{let o=t?`${t}__`:"";return`
    .${o}${$n} {
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      position: fixed;
      pointer-events: none;
      visibility: hidden;
      z-index: -1;
    }

    .${o}${$n}--appear,
    .${o}${$n}--appearDone,
    .${o}${$n}--enter,
    .${o}${$n}--enterDone,
    .${o}${$n}--exit {
      pointer-events: all;
      visibility: visible;
      z-index: ${e};
    }

    .${o}${Nn} {
      position: absolute;
      visibility: hidden;
    }

    .${o}${Nn}--appear,
    .${o}${Nn}--appearDone,
    .${o}${Nn}--enter,
    .${o}${Nn}--enterDone,
    .${o}${Nn}--exit {
      visibility: visible;
    }
  `};var Kx=(t,e)=>{let o=Object.assign({},t),{type:n,payload:r}=e;switch(n){case"UPDATE_MODAL":{let{slug:s}=r;s&&(o[s]=Object.assign(Object.assign({},o[s]),r));break}case"OPEN_MODAL":{let{slug:s}=r;s&&(s in o&&o[s].isOpen||(o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:s}=r;if(s){let i=s in o&&o[s].isOpen;o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:i?void 0:Date.now(),isOpen:!i})}break}case"CLOSE_MODAL":{let{slug:s}=r;s&&(o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:s}=r;s&&s in o&&delete o[s];break}case"CLOSE_LATEST_MODAL":{let s=Object.keys(o).reduce((i,l)=>{let a=o[l];return a.isOpen&&typeof a.openedOn=="number"&&(!i||typeof i.openedOn=="number"&&a.openedOn>i.openedOn)?a:i},void 0);s&&(o[s.slug]=Object.assign(Object.assign({},o[s.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":{o=Object.entries(o).reduce((s,[i,l])=>(s[i]=Object.assign(Object.assign({},l),{isOpen:!1,openedOn:void 0}),s),{});break}default:break}return o};var CE=()=>{if(typeof window<"u")return new URLSearchParams(window.location.search)},xE=()=>{let t=CE(),e=[];if(t){let o=t.get("modal");o&&(o.includes(",")?e=o.split(","):e=[o])}return e},ng=t=>{let{classPrefix:e,minifyCSS:o=!0,generateCSS:n=!0,zIndex:r=9999,handleParamChange:s,children:i,transTime:l=250}=t,a=ty(null),[c,u]=vE(Kx,{},()=>xE().reduce((P,E)=>(P[E]={slug:E,isOpen:!0,openedOn:Date.now()},P),{})),[d,f]=tm(!1),[m,h]=tm(!1),[p,g]=tm(!1),[b,C]=tm(""),v=ty(!1),x=Cs(F=>{F.keyCode===27&&u({type:"CLOSE_LATEST_MODAL"})},[]);om(()=>(v.current||(document.addEventListener("keydown",F=>x(F),!1),v.current=!0),()=>{v.current&&document.removeEventListener("keydown",F=>x(F),!1)}),[x]),om(()=>{if(n){let F="";F=Qx({classPrefix:e,zIndex:r}),o&&(F=F.replace(/\n/g,"").replace(/\s\s+/g," ")),C(F)}},[n,o,r,e]),om(()=>{if(typeof s=="function"&&s(c),typeof s=="boolean"&&s){let F=Object.keys(c).filter(k=>c[k].isOpen),A=new URLSearchParams;for(let k of F)A.append("modal",k);let P=A.toString()?`?${A}`:"",E=`${window.location.pathname}${P}`;window.history.pushState({},"",E)}},[c,s]),om(()=>{let F=Object.keys(c).some(A=>c[A].isOpen);f(F)},[c]);let y=Cs((F,A)=>{A&&(F?(Jx(A),g(!0)):(qx(A),g(!1)))},[]),I=Cs(F=>{a.current=F},[]),w=Cs(F=>{u({type:"OPEN_MODAL",payload:{slug:F}})},[]),D=Cs(F=>{u({type:"CLOSE_MODAL",payload:{slug:F}})},[]),_=Cs(()=>{u({type:"CLOSE_ALL_MODALS"})},[]),R=Cs(F=>{u({type:"TOGGLE_MODAL",payload:{slug:F}})},[]),T=Cs(F=>c[F]&&c[F].isOpen,[c]),S=Object.assign({},t);return delete S.children,gE(bE,{children:[n&&ey("style",{dangerouslySetInnerHTML:{__html:b}}),ey(Zd.Provider,{value:Object.assign(Object.assign({},S),{transTime:l,containerRef:a,modalState:c,oneModalIsOpen:d,isModalOpen:T,closeOnBlur:m,bodyScrollIsLocked:p,classPrefix:e,closeAllModals:_,setCloseOnBlur:h,openModal:w,closeModal:D,toggleModal:R,setBodyScrollLock:y,setContainerRef:I}),children:i})]})};import{usePathname as gP,useRouter as bP}from"next/navigation.js";import{formatAdminURL as vP}from"payload/shared";import*as dy from"qs-esm";import cy,{createContext as CP,use as xP,useCallback as di,useEffect as im,useState as ec}from"react";import De,{forwardRef as yE,isValidElement as sg}from"react";import wE from"react-dom";import Jo from"react";import oy from"react";import PE from"react";var SE=t=>{switch(t){case"success":return DE;case"info":return TE;case"warning":return FE;case"error":return RE;default:return null}},IE=Array(12).fill(0),_E=({visible:t,className:e})=>Jo.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Jo.createElement("div",{className:"sonner-spinner"},IE.map((o,n)=>Jo.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),DE=Jo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Jo.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),FE=Jo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Jo.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),TE=Jo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Jo.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),RE=Jo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Jo.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),AE=Jo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Jo.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Jo.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),EE=()=>{let[t,e]=oy.useState(document.hidden);return oy.useEffect(()=>{let o=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",o),()=>window.removeEventListener("visibilitychange",o)},[]),t},ig=1,NE=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:o,...n}=t,r=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ig++,s=this.toasts.find(l=>l.id===r),i=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...t,id:r,title:o}),{...l,...t,id:r,dismissible:i,title:o}):l):this.addToast({title:o,...n,dismissible:i,id:r}),r},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(o=>o({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let o;e.loading!==void 0&&(o=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),r=o!==void 0,s,i=n.then(async a=>{if(s=["resolve",a],PE.isValidElement(a))r=!1,this.create({id:o,type:"default",message:a});else if(LE(a)&&!a.ok){r=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:o,type:"error",message:c,description:u})}else if(e.success!==void 0){r=!1;let c=typeof e.success=="function"?await e.success(a):e.success,u=typeof e.description=="function"?await e.description(a):e.description;this.create({id:o,type:"success",message:c,description:u})}}).catch(async a=>{if(s=["reject",a],e.error!==void 0){r=!1;let c=typeof e.error=="function"?await e.error(a):e.error,u=typeof e.description=="function"?await e.description(a):e.description;this.create({id:o,type:"error",message:c,description:u})}}).finally(()=>{var a;r&&(this.dismiss(o),o=void 0),(a=e.finally)==null||a.call(e)}),l=()=>new Promise((a,c)=>i.then(()=>s[0]==="reject"?c(s[1]):a(s[1])).catch(c));return typeof o!="string"&&typeof o!="number"?{unwrap:l}:Object.assign(o,{unwrap:l})},this.custom=(t,e)=>{let o=e?.id||ig++;return this.create({jsx:t(o),id:o,...e}),o},this.subscribers=[],this.toasts=[]}},ir=new NE,$E=(t,e)=>{let o=e?.id||ig++;return ir.addToast({title:t,...e,id:o}),o},LE=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",kE=$E,jE=()=>ir.toasts,ue=Object.assign(kE,{success:ir.success,info:ir.info,warning:ir.warning,error:ir.error,custom:ir.custom,message:ir.message,promise:ir.promise,dismiss:ir.dismiss,loading:ir.loading},{getHistory:jE});function ME(t,{insertAt:e}={}){if(!t||typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}ME(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function rm(t){return t.label!==void 0}var BE=3,OE="32px",VE="16px",ry=4e3,GE=356,zE=14,HE=20,WE=200;function Ur(...t){return t.filter(Boolean).join(" ")}function UE(t){let[e,o]=t.split("-"),n=[];return e&&n.push(e),o&&n.push(o),n}var XE=t=>{var e,o,n,r,s,i,l,a,c,u,d;let{invert:f,toast:m,unstyled:h,interacting:p,setHeights:g,visibleToasts:b,heights:C,index:v,toasts:x,expanded:y,removeToast:I,defaultRichColors:w,closeButton:D,style:_,cancelButtonStyle:R,actionButtonStyle:T,className:S="",descriptionClassName:F="",duration:A,position:P,gap:E,loadingIcon:k,expandByDefault:M,classNames:N,icons:L,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:j}=t,[B,V]=De.useState(null),[G,z]=De.useState(null),[Y,Q]=De.useState(!1),[Z,X]=De.useState(!1),[q,W]=De.useState(!1),[ee,pe]=De.useState(!1),[ae,Se]=De.useState(!1),[K,se]=De.useState(0),[ge,ye]=De.useState(0),oe=De.useRef(m.duration||A||ry),fe=De.useRef(null),he=De.useRef(null),ie=v===0,de=v+1<=b,U=m.type,ne=m.dismissible!==!1,ve=m.className||"",Ne=m.descriptionClassName||"",Me=De.useMemo(()=>C.findIndex(ce=>ce.toastId===m.id)||0,[C,m.id]),Le=De.useMemo(()=>{var ce;return(ce=m.closeButton)!=null?ce:D},[m.closeButton,D]),ct=De.useMemo(()=>m.duration||A||ry,[m.duration,A]),vt=De.useRef(0),Xe=De.useRef(0),We=De.useRef(0),ho=De.useRef(null),[qe,Ke]=P.split("-"),Qe=De.useMemo(()=>C.reduce((ce,J,re)=>re>=Me?ce:ce+J.height,0),[C,Me]),St=EE(),Pt=m.invert||f,Ct=U==="loading";Xe.current=De.useMemo(()=>Me*E+Qe,[Me,Qe]),De.useEffect(()=>{oe.current=ct},[ct]),De.useEffect(()=>{Q(!0)},[]),De.useEffect(()=>{let ce=he.current;if(ce){let J=ce.getBoundingClientRect().height;return ye(J),g(re=>[{toastId:m.id,height:J,position:m.position},...re]),()=>g(re=>re.filter(Ce=>Ce.toastId!==m.id))}},[g,m.id]),De.useLayoutEffect(()=>{if(!Y)return;let ce=he.current,J=ce.style.height;ce.style.height="auto";let re=ce.getBoundingClientRect().height;ce.style.height=J,ye(re),g(Ce=>Ce.find(xe=>xe.toastId===m.id)?Ce.map(xe=>xe.toastId===m.id?{...xe,height:re}:xe):[{toastId:m.id,height:re,position:m.position},...Ce])},[Y,m.title,m.description,g,m.id]);let Ze=De.useCallback(()=>{X(!0),se(Xe.current),g(ce=>ce.filter(J=>J.toastId!==m.id)),setTimeout(()=>{I(m)},WE)},[m,I,g,Xe]);De.useEffect(()=>{if(m.promise&&U==="loading"||m.duration===1/0||m.type==="loading")return;let ce;return y||p||j&&St?(()=>{if(We.current<vt.current){let J=new Date().getTime()-vt.current;oe.current=oe.current-J}We.current=new Date().getTime()})():oe.current!==1/0&&(vt.current=new Date().getTime(),ce=setTimeout(()=>{var J;(J=m.onAutoClose)==null||J.call(m,m),Ze()},oe.current)),()=>clearTimeout(ce)},[y,p,m,U,j,St,Ze]),De.useEffect(()=>{m.delete&&Ze()},[Ze,m.delete]);function be(){var ce,J,re;return L!=null&&L.loading?De.createElement("div",{className:Ur(N?.loader,(ce=m?.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":U==="loading"},L.loading):k?De.createElement("div",{className:Ur(N?.loader,(J=m?.classNames)==null?void 0:J.loader,"sonner-loader"),"data-visible":U==="loading"},k):De.createElement(_E,{className:Ur(N?.loader,(re=m?.classNames)==null?void 0:re.loader),visible:U==="loading"})}return De.createElement("li",{tabIndex:0,ref:he,className:Ur(S,ve,N?.toast,(e=m?.classNames)==null?void 0:e.toast,N?.default,N?.[U],(o=m?.classNames)==null?void 0:o[U]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:w,"data-styled":!(m.jsx||m.unstyled||h),"data-mounted":Y,"data-promise":!!m.promise,"data-swiped":ae,"data-removed":Z,"data-visible":de,"data-y-position":qe,"data-x-position":Ke,"data-index":v,"data-front":ie,"data-swiping":q,"data-dismissible":ne,"data-type":U,"data-invert":Pt,"data-swipe-out":ee,"data-swipe-direction":G,"data-expanded":!!(y||M&&Y),style:{"--index":v,"--toasts-before":v,"--z-index":x.length-v,"--offset":`${Z?K:Xe.current}px`,"--initial-height":M?"auto":`${ge}px`,..._,...m.style},onPointerDown:ce=>{Ct||!ne||(fe.current=new Date,se(Xe.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(W(!0),ho.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,J,re,Ce;if(ee||!ne)return;ho.current=null;let xe=Number(((ce=he.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ke=Number(((J=he.current)==null?void 0:J.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),je=new Date().getTime()-((re=fe.current)==null?void 0:re.getTime()),Ge=B==="x"?xe:ke,Oe=Math.abs(Ge)/je;if(Math.abs(Ge)>=HE||Oe>.11){se(Xe.current),(Ce=m.onDismiss)==null||Ce.call(m,m),z(B==="x"?xe>0?"right":"left":ke>0?"down":"up"),Ze(),pe(!0),Se(!1);return}W(!1),V(null)},onPointerMove:ce=>{var J,re,Ce,xe;if(!ho.current||!ne||((J=window.getSelection())==null?void 0:J.toString().length)>0)return;let ke=ce.clientY-ho.current.y,je=ce.clientX-ho.current.x,Ge=(re=t.swipeDirections)!=null?re:UE(P);!B&&(Math.abs(je)>1||Math.abs(ke)>1)&&V(Math.abs(je)>Math.abs(ke)?"x":"y");let Oe={x:0,y:0};B==="y"?(Ge.includes("top")||Ge.includes("bottom"))&&(Ge.includes("top")&&ke<0||Ge.includes("bottom")&&ke>0)&&(Oe.y=ke):B==="x"&&(Ge.includes("left")||Ge.includes("right"))&&(Ge.includes("left")&&je<0||Ge.includes("right")&&je>0)&&(Oe.x=je),(Math.abs(Oe.x)>0||Math.abs(Oe.y)>0)&&Se(!0),(Ce=he.current)==null||Ce.style.setProperty("--swipe-amount-x",`${Oe.x}px`),(xe=he.current)==null||xe.style.setProperty("--swipe-amount-y",`${Oe.y}px`)}},Le&&!m.jsx?De.createElement("button",{"aria-label":O,"data-disabled":Ct,"data-close-button":!0,onClick:Ct||!ne?()=>{}:()=>{var ce;Ze(),(ce=m.onDismiss)==null||ce.call(m,m)},className:Ur(N?.closeButton,(r=m?.classNames)==null?void 0:r.closeButton)},(s=L?.close)!=null?s:AE):null,m.jsx||sg(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:De.createElement(De.Fragment,null,U||m.icon||m.promise?De.createElement("div",{"data-icon":"",className:Ur(N?.icon,(i=m?.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||be():null,m.type!=="loading"?m.icon||L?.[U]||SE(U):null):null,De.createElement("div",{"data-content":"",className:Ur(N?.content,(l=m?.classNames)==null?void 0:l.content)},De.createElement("div",{"data-title":"",className:Ur(N?.title,(a=m?.classNames)==null?void 0:a.title)},typeof m.title=="function"?m.title():m.title),m.description?De.createElement("div",{"data-description":"",className:Ur(F,Ne,N?.description,(c=m?.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),sg(m.cancel)?m.cancel:m.cancel&&rm(m.cancel)?De.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:ce=>{var J,re;rm(m.cancel)&&ne&&((re=(J=m.cancel).onClick)==null||re.call(J,ce),Ze())},className:Ur(N?.cancelButton,(u=m?.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,sg(m.action)?m.action:m.action&&rm(m.action)?De.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||T,onClick:ce=>{var J,re;rm(m.action)&&((re=(J=m.action).onClick)==null||re.call(J,ce),!ce.defaultPrevented&&Ze())},className:Ur(N?.actionButton,(d=m?.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function ny(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function YE(t,e){let o={};return[t,e].forEach((n,r)=>{let s=r===1,i=s?"--mobile-offset":"--offset",l=s?VE:OE;function a(c){["top","right","bottom","left"].forEach(u=>{o[`${i}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?a(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?o[`${i}-${c}`]=l:o[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):a(l)}),o}var sy=yE(function(t,e){let{invert:o,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:l,offset:a,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:m,visibleToasts:h=BE,toastOptions:p,dir:g=ny(),gap:b=zE,loadingIcon:C,icons:v,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:y}=t,[I,w]=De.useState([]),D=De.useMemo(()=>Array.from(new Set([n].concat(I.filter(j=>j.position).map(j=>j.position)))),[I,n]),[_,R]=De.useState([]),[T,S]=De.useState(!1),[F,A]=De.useState(!1),[P,E]=De.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),k=De.useRef(null),M=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=De.useRef(null),L=De.useRef(!1),O=De.useCallback(j=>{w(B=>{var V;return(V=B.find(G=>G.id===j.id))!=null&&V.delete||ir.dismiss(j.id),B.filter(({id:G})=>G!==j.id)})},[]);return De.useEffect(()=>ir.subscribe(j=>{if(j.dismiss){w(B=>B.map(V=>V.id===j.id?{...V,delete:!0}:V));return}setTimeout(()=>{wE.flushSync(()=>{w(B=>{let V=B.findIndex(G=>G.id===j.id);return V!==-1?[...B.slice(0,V),{...B[V],...j},...B.slice(V+1)]:[j,...B]})})})}),[]),De.useEffect(()=>{if(u!=="system"){E(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?E("dark"):E("light")),typeof window>"u")return;let j=window.matchMedia("(prefers-color-scheme: dark)");try{j.addEventListener("change",({matches:B})=>{E(B?"dark":"light")})}catch{j.addListener(({matches:V})=>{try{E(V?"dark":"light")}catch(G){console.error(G)}})}},[u]),De.useEffect(()=>{I.length<=1&&S(!1)},[I]),De.useEffect(()=>{let j=B=>{var V,G;r.every(z=>B[z]||B.code===z)&&(S(!0),(V=k.current)==null||V.focus()),B.code==="Escape"&&(document.activeElement===k.current||(G=k.current)!=null&&G.contains(document.activeElement))&&S(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[r]),De.useEffect(()=>{if(k.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,L.current=!1)}},[k.current]),De.createElement("section",{ref:e,"aria-label":`${x} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((j,B)=>{var V;let[G,z]=j.split("-");return I.length?De.createElement("ol",{key:j,dir:g==="auto"?ny():g,tabIndex:-1,ref:k,className:l,"data-sonner-toaster":!0,"data-theme":P,"data-y-position":G,"data-lifted":T&&I.length>1&&!s,"data-x-position":z,style:{"--front-toast-height":`${((V=_[0])==null?void 0:V.height)||0}px`,"--width":`${GE}px`,"--gap":`${b}px`,...m,...YE(a,c)},onBlur:Y=>{L.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(L.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||L.current||(L.current=!0,N.current=Y.relatedTarget)},onMouseEnter:()=>S(!0),onMouseMove:()=>S(!0),onMouseLeave:()=>{F||S(!1)},onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},I.filter(Y=>!Y.position&&B===0||Y.position===j).map((Y,Q)=>{var Z,X;return De.createElement(XE,{key:Y.id,icons:v,index:Q,toast:Y,defaultRichColors:d,duration:(Z=p?.duration)!=null?Z:f,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:o,visibleToasts:h,closeButton:(X=p?.closeButton)!=null?X:i,interacting:F,position:j,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:O,toasts:I.filter(q=>q.position==Y.position),heights:_.filter(q=>q.position==Y.position),setHeights:R,expandByDefault:s,gap:b,loadingIcon:C,expanded:T,pauseWhenPageIsHidden:y,swipeDirections:t.swipeDirections})})):null}))});import{c as sP}from"react/compiler-runtime";import{jsx as iP}from"react/jsx-runtime";import{useRouter as aP}from"next/navigation.js";import{formatAdminURL as lP}from"payload/shared";import"react";import{c as rP}from"react/compiler-runtime";import{jsx as Kl,jsxs as cg}from"react/jsx-runtime";import nP from"react";import{c as ag}from"react/compiler-runtime";import{jsx as Ln,jsxs as nm}from"react/jsx-runtime";import{createContext as QE,use as KE,useLayoutEffect as eP,useState as tP}from"react";import{jsx as ZE}from"react/jsx-runtime";import"react";var Jl="gutter",bo=t=>{let{children:e,className:o,left:n=!0,negativeLeft:r=!1,negativeRight:s=!1,ref:i,right:l=!0}=t,a=n&&!r,c=l&&!s;return ZE("div",{className:[Jl,a&&`${Jl}--left`,c&&`${Jl}--right`,r&&`${Jl}--negative-left`,s&&`${Jl}--negative-right`,o].filter(Boolean).join(" "),ref:i,children:e})};import{c as JE}from"react/compiler-runtime";import{useId as qE}from"react";var ql=t=>{let e=JE(3),o=qE(),n=et(),r=`${t}-${o}`,s;return e[0]!==n||e[1]!==r?(s=Ql({slug:r,depth:n}),e[0]=n,e[1]=r,e[2]=s):s=e[2],s};var Xr="drawer",lg=100,Ql=({slug:t,depth:e})=>`drawer_${e}_${t}`,kn=t=>{let e=ag(17),o,n,r,s,i,l;e[0]!==t?({slug:l,children:o,className:n,disabled:r,onClick:s,...i}=t,e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s,e[5]=i,e[6]=l):(o=e[1],n=e[2],r=e[3],s=e[4],i=e[5],l=e[6]);let{openModal:a}=le(),c;e[7]!==s||e[8]!==a||e[9]!==l?(c=f=>{a(l),typeof s=="function"&&s(f)},e[7]=s,e[8]=a,e[9]=l,e[10]=c):c=e[10];let u=c,d;return e[11]!==o||e[12]!==n||e[13]!==r||e[14]!==u||e[15]!==i?(d=Ln("button",{className:n,disabled:r,onClick:u,type:"button",...i,children:o}),e[11]=o,e[12]=n,e[13]=r,e[14]=u,e[15]=i,e[16]=d):d=e[16],d},$t=t=>{let e=ag(22),{slug:o,children:n,className:r,gutter:s,Header:i,hoverTitle:l,title:a}=t,c=s===void 0?!0:s,{t:u}=$(),{closeModal:d,modalState:f}=le(),m=Tr(),h=!!f[o]?.isOpen,[p,g]=tP(h),b,C;if(e[0]!==h?(b=()=>{g(h)},C=[h],e[0]=h,e[1]=b,e[2]=C):(b=e[1],C=e[2]),eP(b,C),h){let v=p&&`${Xr}--is-open`,x=m>1&&`${Xr}--nested`,y;e[3]!==r||e[4]!==v||e[5]!==x?(y=[r,Xr,v,x].filter(Boolean),e[3]=r,e[4]=v,e[5]=x,e[6]=y):y=e[6];let I=y.join(" "),w=lg+m,D;if(e[7]!==i||e[8]!==n||e[9]!==d||e[10]!==m||e[11]!==c||e[12]!==l||e[13]!==o||e[14]!==u||e[15]!==I||e[16]!==w||e[17]!==a){let _;e[19]!==d||e[20]!==o?(_=()=>d(o),e[19]=d,e[20]=o,e[21]=_):_=e[21],D=Ln(oP,{children:nm(sr,{className:I,slug:o,style:{zIndex:w},children:[(!m||m===1)&&Ln("div",{className:`${Xr}__blur-bg`}),Ln("button",{"aria-label":u("general:close"),className:`${Xr}__close`,id:`close-drawer__${o}`,onClick:_,type:"button"}),nm("div",{className:`${Xr}__content`,style:{width:`calc(100% - (${m} * var(--gutter-h)))`},children:[Ln("div",{className:`${Xr}__blur-bg-content`}),nm(bo,{className:`${Xr}__content-children`,left:c,right:c,children:[i,i===void 0&&nm("div",{className:`${Xr}__header`,children:[Ln("h2",{className:`${Xr}__header__title`,title:l?a:null,children:a}),Ln("button",{"aria-label":u("general:close"),className:`${Xr}__header__close`,id:`close-drawer__${o}`,onClick:()=>d(o),type:"button",children:Ln(pt,{})})]}),n]})]})]})}),e[7]=i,e[8]=n,e[9]=d,e[10]=m,e[11]=c,e[12]=l,e[13]=o,e[14]=u,e[15]=I,e[16]=w,e[17]=a,e[18]=D}else D=e[18];return D}return null},iy=QE(1),oP=t=>{let e=ag(3),{children:o}=t,r=Tr()+1,s;return e[0]!==o||e[1]!==r?(s=Ln(iy,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},Tr=()=>KE(iy);var sm="confirmation-modal";function ht(t){let e=rP(33),{body:o,cancelLabel:n,className:r,confirmingLabel:s,confirmLabel:i,heading:l,modalSlug:a,onCancel:c,onConfirm:u}=t,d=Tr(),[f,m]=nP.useState(!1),{closeModal:h}=le(),{t:p}=$(),g;e[0]!==h||e[1]!==f||e[2]!==a||e[3]!==u?(g=async()=>{f||(m(!0),typeof u=="function"&&await u(),m(!1),h(a))},e[0]=h,e[1]=f,e[2]=a,e[3]=u,e[4]=g):g=e[4];let b=g,C;e[5]!==h||e[6]!==f||e[7]!==a||e[8]!==c?(C=()=>{f||(h(a),typeof c=="function"&&c())},e[5]=h,e[6]=f,e[7]=a,e[8]=c,e[9]=C):C=e[9];let v=C,x;e[10]!==r?(x=[sm,r].filter(Boolean),e[10]=r,e[11]=x):x=e[11];let y=x.join(" "),I=lg+d,w;if(e[12]!==o||e[13]!==n||e[14]!==i||e[15]!==f||e[16]!==s||e[17]!==l||e[18]!==a||e[19]!==v||e[20]!==b||e[21]!==p||e[22]!==y||e[23]!==I){let D;e[25]!==n||e[26]!==p?(D=n||p("general:cancel"),e[25]=n,e[26]=p,e[27]=D):D=e[27];let _;e[28]!==i||e[29]!==f||e[30]!==s||e[31]!==p?(_=f?s||`${p("general:loading")}...`:i||p("general:confirm"),e[28]=i,e[29]=f,e[30]=s,e[31]=p,e[32]=_):_=e[32],w=Kl(sr,{className:y,slug:a,style:{zIndex:I},children:cg("div",{className:`${sm}__wrapper`,children:[cg("div",{className:`${sm}__content`,children:[Kl("h1",{children:l}),Kl("p",{children:o})]}),cg("div",{className:`${sm}__controls`,children:[Kl(te,{buttonStyle:"secondary",disabled:f,id:"confirm-cancel",onClick:v,size:"large",type:"button",children:D}),Kl(te,{id:"confirm-action",onClick:b,size:"large",children:_})]})]})}),e[12]=o,e[13]=n,e[14]=i,e[15]=f,e[16]=s,e[17]=l,e[18]=a,e[19]=v,e[20]=b,e[21]=p,e[22]=y,e[23]=I,e[24]=w}else w=e[24];return w}var ug="stay-logged-in",ay=()=>{let t=sP(11),{refreshCookie:e}=Fe(),o=aP(),{config:n}=H(),{admin:r,routes:s}=n,{routes:i}=r,{logout:l}=i,{admin:a}=s,{t:c}=$(),{startRouteTransition:u}=Je(),d;t[0]!==a||t[1]!==l||t[2]!==o||t[3]!==u?(d=()=>u(()=>o.push(lP({adminRoute:a,path:l}))),t[0]=a,t[1]=l,t[2]=o,t[3]=u,t[4]=d):d=t[4];let f=d,m;t[5]!==e?(m=()=>{e()},t[5]=e,t[6]=m):m=t[6];let h=m,p;return t[7]!==h||t[8]!==f||t[9]!==c?(p=iP(ht,{body:c("authentication:youAreInactive"),cancelLabel:c("authentication:stayLoggedIn"),confirmLabel:c("authentication:logOut"),heading:c("authentication:stayLoggedIn"),modalSlug:ug,onCancel:h,onConfirm:f}),t[7]=h,t[8]=f,t[9]=c,t[10]=p):p=t[10],p};import{c as cP}from"react/compiler-runtime";import{useEffect as uP,useState as dP}from"react";function ar(t,e){let o=cP(4),[n,r]=dP(t),s,i;return o[0]!==e||o[1]!==t?(s=()=>{let l=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(l)}},i=[t,e],o[0]=e,o[1]=t,o[2]=s,o[3]=i):(s=o[2],i=o[3]),uP(s,i),n}import{c as mP}from"react/compiler-runtime";import{useInsertionEffect as fP,useRef as pP}from"react";function Gt(t){let e=mP(4),o=pP(t),n,r;e[0]!==t?(n=()=>{o.current=t},r=[t],e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]),fP(n,r);let s;return e[3]===Symbol.for("react.memo_cache_sentinel")?(s=(...i)=>{let l=i,a=o.current;return a(...l)},e[3]=s):s=e[3],s}import*as ly from"qs-esm";var tt={delete:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"delete"};return fetch(t,n)},get:(t,e={headers:{}})=>{let o="";return e.params&&(o=ly.stringify(e.params,{addQueryPrefix:!0})),fetch(`${t}${o}`,{credentials:"include",...e})},patch:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"PATCH"};return fetch(t,n)},post:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"post"};return fetch(`${t}`,n)},put:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"put"};return fetch(t,n)}};var my=CP({}),uy=2147483647;function dg({children:t,permissions:e,user:o}){let[n,r]=ec(o),[s,i]=ec(),[l,a]=ec(),c=gP(),u=bP(),{config:d}=H(),{admin:{routes:{inactivity:f},user:m},routes:{admin:h,api:p},serverURL:g}=d,[b,C]=ec(e),{i18n:v}=$(),{closeAllModals:x,openModal:y}=le(),[I,w]=ec(0),D=ar(I,1e4),_=cy.useRef(null),{startRouteTransition:R}=Je(),T=n?.id,S=di(()=>{R(()=>u.replace(vP({adminRoute:h,path:`${f}${window.location.pathname.startsWith(h)?`?redirect=${encodeURIComponent(window.location.pathname)}`:""}`}))),x()},[u,h,f,x,R]),F=di(()=>{i(void 0),a(void 0),clearTimeout(_.current)},[]),A=di(j=>{j?.user?(r(j.user),i(j.token),a(j.exp)):(r(null),F())},[F]),P=di(j=>{let B=Math.round(new Date().getTime()/1e3),V=(typeof l=="number"?l:0)-B;return(j||l&&V<120)&&(_.current=setTimeout(()=>{async function G(){try{let z=await tt.post(`${g}${p}/${m}/refresh-token?refresh`,{headers:{"Accept-Language":v.language}});if(z.status===200){let Y=await z.json();A(Y)}else A(null),S()}catch(z){ue.error(z.message)}}G()},1e3)),()=>{clearTimeout(_.current)}},[p,v.language,S,g,A,l,m]),E=di(async j=>{try{let B=await tt.post(`${g}${p}/${m}/refresh-token`,{headers:{"Accept-Language":v.language}});if(B.status===200){let V=await B.json();return j||A(V),V.user}return A(null),S(),null}catch(B){return ue.error(`Refreshing token failed: ${B.message}`),null}},[p,v.language,S,g,A,m]),k=di(async()=>{try{return await tt.post(`${g}${p}/${n.collection}/logout`),A(null),F(),!0}catch(j){return ue.error(`Logging out failed: ${j.message}`),!1}},[p,F,g,A,n]),M=di(async({locale:j}={})=>{let B=dy.stringify({locale:j},{addQueryPrefix:!0});try{let V=await tt.get(`${g}${p}/access${B}`,{headers:{"Accept-Language":v.language}});if(V.status===200){let G=await V.json();C(G)}else throw new Error(`Fetching permissions failed with status code ${V.status}`)}catch(V){ue.error(`Refreshing permissions failed: ${V.message}`)}},[g,p,v]),N=cy.useCallback(async()=>{try{let j=await tt.get(`${g}${p}/${m}/me`,{credentials:"include",headers:{"Accept-Language":v.language}});if(j.status===200){let B=await j.json(),V=null;return A(B),V}}catch(j){ue.error(`Fetching user failed: ${j.message}`)}return null},[g,p,m,v.language,A]),L=Gt(N);im(()=>{L()},[]);let O=Gt(()=>{T&&P()});return im(()=>{O()},[D]),im(()=>{w(Date.now())},[c]),im(()=>{let j,B,V=Math.round(new Date().getTime()/1e3),G=typeof l=="number"?l-V:0,z=Math.max(Math.min((G-60)*1e3,uy),0),Y=Math.max(Math.min(G*1e3,uy),0);if(!n){clearTimeout(j),clearTimeout(B);return}return G>0&&(j=setTimeout(()=>{y(ug)},z),B=setTimeout(()=>{A(null),S()},Y)),()=>{j&&clearTimeout(j),B&&clearTimeout(B)}},[l,y,v,A,n,S]),hP(my,{value:{fetchFullUser:N,logOut:k,permissions:b,refreshCookie:P,refreshCookieAsync:E,refreshPermissions:M,setPermissions:C,setUser:A,token:s,user:n},children:t})}var Fe=()=>xP(my);import{jsx as yP}from"react/jsx-runtime";import{dequal as fy}from"dequal/lite";import{createContext as wP,use as SP,useCallback as py,useEffect as IP,useRef as fg}from"react";function mg(t,e){let o={...t};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(typeof e[n]=="object"&&!Array.isArray(e[n])&&t[n]?o[n]=mg(t[n],e[n]):o[n]=e[n]);return o}var gy=wP({}),hy=(t,e)=>({body:JSON.stringify({value:t}),headers:{"Accept-Language":e,"Content-Type":"application/json"}}),pg=({children:t})=>{let e=fg({}),o=fg({}),n=fg({}),{config:r}=H(),{user:s}=Fe(),{i18n:i}=$(),{routes:{api:l},serverURL:a}=r;IP(()=>{s||(o.current={})},[s]);let c=py(async d=>{let f=o.current;if(typeof f[d]<"u")return f[d];let m=new Promise(h=>{(async()=>{let p=await tt.get(`${a}${l}/payload-preferences/${d}`,{credentials:"include",headers:{"Accept-Language":i.language}}),g=null;p.status===200&&(g=(await p.json()).value),o.current[d]=g,h(g)})()});return f[d]=m,m},[i.language,l,o,a]),u=py(async(d,f,m=!1)=>{if(m===!1){o.current[d]=f,await tt.post(`${a}${l}/payload-preferences/${d}`,hy(f,i.language));return}let h=f,p=await c(d);if(typeof f=="object"&&typeof p=="object"&&typeof h=="object"){if(p&&(h=mg(p,h)),fy(h,p))return;n.current[d]={...n.current[d],...h}}else{if(h===p)return;n.current[d]=h}let g=async()=>{fy(n.current[d],o.current[d])||(o.current[d]=n.current[d],await tt.post(`${a}${l}/payload-preferences/${d}`,hy(o.current[d],i.language)),delete n.current[d])};setTimeout(()=>{g()})},[l,c,i.language,n,a]);return e.current.getPreference=c,e.current.setPreference=u,yP(gy,{value:e.current,children:t})},mo=()=>SP(gy);var yy=Cy({}),wy=Cy({localeIsLoading:!1,setLocaleIsLoading:t=>{}}),AP=async(t,e)=>await fetch(`${e}/payload-preferences/${t}`,{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"})?.then(o=>o.json()),hg=t=>{let e=_P(27),{children:o,locale:n}=t,{config:r}=H(),{localization:s,routes:i,serverURL:l}=r,a=s===void 0?!1:s,{api:c}=i,{user:u}=Fe(),d=a?a.defaultLocale:"en",{getPreference:f}=mo(),m=DP(),h;e[0]!==m?(h=m.get("locale"),e[0]=m,e[1]=h):h=e[1];let p=h,g;e[2]!==d||e[3]!==n||e[4]!==p||e[5]!==a?(g=()=>!a||a&&!a.locales.length?{}:vs(a,p)||vs(a,n)||vs(a,d)||vs(a,a.locales[0].code),e[2]=d,e[3]=n,e[4]=p,e[5]=a,e[6]=g):g=e[6];let[b,C]=FP.useState(g),[v,x]=RP(!1),y=TP(b),I,w;e[7]!==b?(I=()=>{b.code!==y.current.code&&x(!1),y.current=b},w=[b],e[7]=b,e[8]=I,e[9]=w):(I=e[8],w=e[9]),vy(I,w);let D=`${l}${c}`,_;e[10]!==d||e[11]!==D||e[12]!==p||e[13]!==a||e[14]!==u?.id?(_=()=>{(async function(){if(a&&u?.id){let P=p||await AP("locale",D)?.then(EP),E=vs(a,P)||vs(a,d)||vs(a,a?.locales?.[0]?.code);E&&C(E)}})()},e[10]=d,e[11]=D,e[12]=p,e[13]=a,e[14]=u?.id,e[15]=_):_=e[15];let R=u?.id,T;e[16]!==d||e[17]!==D||e[18]!==f||e[19]!==p||e[20]!==a||e[21]!==R?(T=[d,f,a,D,p,R],e[16]=d,e[17]=D,e[18]=f,e[19]=p,e[20]=a,e[21]=R,e[22]=T):T=e[22],vy(_,T);let S;return e[23]!==o||e[24]!==v||e[25]!==b?(S=by(yy,{value:b,children:by(wy,{value:{localeIsLoading:v,setLocaleIsLoading:x},children:o})}),e[23]=o,e[24]=v,e[25]=b,e[26]=S):S=e[26],S},am=()=>xy(wy),Ie=()=>xy(yy);function EP(t){return t.value}var lm=(t,e,o)=>{if(t)return`field-${t.replace(/\./g,"__")}${e>1?`-${e}`:""}${o?`-${o}`:""}`};var we=t=>{let e=PP(25),{as:o,hideLocale:n,htmlFor:r,label:s,localized:i,path:l,required:a,unstyled:c}=t,u=o===void 0?"label":o,d=n===void 0?!1:n,f=i===void 0?!1:i,m=a===void 0?!1:a,h=c===void 0?!1:c,{uuid:p}=Be(),g=et(),b;e[0]!==g||e[1]!==r||e[2]!==l||e[3]!==p?(b=r||lm(l,g,p),e[0]=g,e[1]=r,e[2]=l,e[3]=p,e[4]=b):b=e[4];let C=b,{i18n:v}=$(),{code:x,label:y}=Ie(),I=u==="label"?C?"label":"span":u||"span";if(s){let w=`field-label${h?" unstyled":""}`,D;if(e[5]!==I||e[6]!==x||e[7]!==d||e[8]!==C||e[9]!==v||e[10]!==s||e[11]!==y||e[12]!==f||e[13]!==m||e[14]!==w||e[15]!==h){let _;e[17]!==m||e[18]!==h?(_=m&&!h&&NP("span",{className:"required",children:"*"}),e[17]=m,e[18]=h,e[19]=_):_=e[19];let R;e[20]!==x||e[21]!==d||e[22]!==y||e[23]!==f?(R=f&&!d&&Sy("span",{className:"localized",children:["\u2014 ",typeof y=="string"?y:x]}),e[20]=x,e[21]=d,e[22]=y,e[23]=f,e[24]=R):R=e[24],D=Sy(I,{className:w,htmlFor:C,children:[$P(s,v),_,R]}),e[5]=I,e[6]=x,e[7]=d,e[8]=C,e[9]=v,e[10]=s,e[11]=y,e[12]=f,e[13]=m,e[14]=w,e[15]=h,e[16]=D}else D=e[16];return D}return null};var cm=({collapsed:t,rowID:e,rows:o})=>o.reduce((n,r)=>(e===r.id&&(r.collapsed=t),r.collapsed&&n.collapsedIDs.push(r.id),n.updatedRows.push(r),n),{collapsedIDs:[],updatedRows:[]}),um=({collapsed:t,rows:e})=>e.reduce((o,n)=>(n.collapsed=t,t&&o.collapsedIDs.push(n.id),o.updatedRows.push(n),o),{collapsedIDs:[],updatedRows:[]});import{c as FN}from"react/compiler-runtime";import{jsx as Cw}from"react/jsx-runtime";import*as xw from"react";import{jsx as lc,jsxs as IN}from"react/jsx-runtime";import{useCallback as vw,useMemo as _N}from"react";import{c as yN}from"react/compiler-runtime";import{useRef as pw}from"react";import{c as LP}from"react/compiler-runtime";import{useEffect as kP,useRef as jP}from"react";var mi=(t,e,o)=>{let n=LP(9),r;n[0]!==o?(r=o===void 0?[]:o,n[0]=o,n[1]=r):r=n[1];let s=r,i;n[2]===Symbol.for("react.memo_cache_sentinel")?(i=Date.now(),n[2]=i):i=n[2];let l=jP(i),a;n[3]!==t||n[4]!==e?(a=()=>{let u=setTimeout(()=>{Date.now()-l.current>=e&&(t(),l.current=Date.now())},e-(Date.now()-l.current));return()=>{clearTimeout(u)}},n[3]=t,n[4]=e,n[5]=a):a=n[5];let c;n[6]!==e||n[7]!==s?(c=[e,...s],n[6]=e,n[7]=s,n[8]=c):c=n[8],kP(a,c)};import{jsx as hm}from"react/jsx-runtime";import*as uw from"qs-esm";import lw,{createContext as fN,use as pN,useCallback as wa,useEffect as cw,useMemo as hN,useRef as gN,useState as cr}from"react";import{getTranslation as nN}from"@payloadcms/translations";var MP={},tc={};function va(t,e){try{let n=(MP[t]||=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format)(e).split("GMT")[1]||"";return n in tc?tc[n]:Iy(n,n.split(":"))}catch{if(t in tc)return tc[t];let o=t?.match(BP);return o?Iy(t,o.slice(1)):NaN}}var BP=/([+-]\d\d):?(\d\d)?/;function Iy(t,e){let o=+e[0],n=+(e[1]||0);return tc[t]=o>0?o*60+n:o*60-n}var Yt=class t extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(va(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),Dy(this,NaN),gg(this)):this.setTime(Date.now())}static tz(e,...o){return o.length?new t(...o,e):new t(Date.now(),e)}withTimeZone(e){return new t(+this,e)}getTimezoneOffset(){return-va(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),gg(this),+this}[Symbol.for("constructDateFrom")](e){return new t(+new Date(e),this.timeZone)}},_y=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!_y.test(t))return;let e=t.replace(_y,"$1UTC");Yt.prototype[e]&&(t.startsWith("get")?Yt.prototype[t]=function(){return this.internal[e]()}:(Yt.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),OP(this),+this},Yt.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),gg(this),+this}))});function gg(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function OP(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),Dy(t)}function Dy(t){let e=va(t.timeZone,t),o=new Date(+t);o.setUTCHours(o.getUTCHours()-1);let n=-new Date(+t).getTimezoneOffset(),r=-new Date(+o).getTimezoneOffset(),s=n-r,i=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();s&&i&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+s);let l=n-e;l&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+l);let a=va(t.timeZone,t),u=-new Date(+t).getTimezoneOffset()-a,d=a!==e,f=u-l;if(d&&f){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+f);let m=va(t.timeZone,t),h=a-m;h&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+h),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h))}}var VP=Math.pow(10,8)*24*60*60*1e3,koe=-VP,dm=6048e5,Fy=864e5;var oc=43200,bg=1440;var GP=3600;var Ty=GP*24,joe=Ty*7,zP=Ty*365.2425,HP=zP/12,Moe=HP*3,vg=Symbol.for("constructDateFrom");function vo(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&vg in t?t[vg](e):t instanceof Date?new t.constructor(e):new Date(e)}function ot(t,e){return vo(e||t,t)}var WP={};function hn(){return WP}function jn(t,e){let o=hn(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,r=ot(t,e?.in),s=r.getDay(),i=(s<n?7:0)+s-n;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function fi(t,e){return jn(t,{...e,weekStartsOn:1})}function mm(t,e){let o=ot(t,e?.in),n=o.getFullYear(),r=vo(o,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);let s=fi(r),i=vo(o,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);let l=fi(i);return o.getTime()>=s.getTime()?n+1:o.getTime()>=l.getTime()?n:n-1}function Ca(t){let e=ot(t),o=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return o.setUTCFullYear(e.getFullYear()),+t-+o}function xs(t,...e){let o=vo.bind(null,t||e.find(n=>typeof n=="object"));return e.map(o)}function Cg(t,e){let o=ot(t,e?.in);return o.setHours(0,0,0,0),o}function Ry(t,e,o){let[n,r]=xs(o?.in,t,e),s=Cg(n),i=Cg(r),l=+s-Ca(s),a=+i-Ca(i);return Math.round((l-a)/Fy)}function Ay(t,e){let o=mm(t,e),n=vo(e?.in||t,0);return n.setFullYear(o,0,4),n.setHours(0,0,0,0),fi(n)}function xa(t,e){let o=+ot(t)-+ot(e);return o<0?-1:o>0?1:o}function Ey(t){return vo(t,Date.now())}function Py(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ny(t){return!(!Py(t)&&typeof t!="number"||isNaN(+ot(t)))}function $y(t,e,o){let[n,r]=xs(o?.in,t,e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Ly(t){return e=>{let n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function ky(t,e){return+ot(t)-+ot(e)}function jy(t,e){let o=ot(t,e?.in);return o.setHours(23,59,59,999),o}function My(t,e){let o=ot(t,e?.in),n=o.getMonth();return o.setFullYear(o.getFullYear(),n+1,0),o.setHours(23,59,59,999),o}function By(t,e){let o=ot(t,e?.in);return+jy(o,e)==+My(o,e)}function Oy(t,e,o){let[n,r,s]=xs(o?.in,t,t,e),i=xa(r,s),l=Math.abs($y(r,s));if(l<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*l);let a=xa(r,s)===-i;By(n)&&l===1&&xa(n,s)===1&&(a=!1);let c=i*(l-+a);return c===0?0:c}function Vy(t,e,o){let n=ky(t,e)/1e3;return Ly(o?.roundingMethod)(n)}function Gy(t,e){let o=ot(t,e?.in);return o.setFullYear(o.getFullYear(),0,1),o.setHours(0,0,0,0),o}function zy(t,e){let o=ot(t,e?.in);return Ry(o,Gy(o))+1}function Hy(t,e){let o=ot(t,e?.in),n=+fi(o)-+Ay(o);return Math.round(n/dm)+1}function fm(t,e){let o=ot(t,e?.in),n=o.getFullYear(),r=hn(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=vo(e?.in||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);let l=jn(i,e),a=vo(e?.in||t,0);a.setFullYear(n,0,s),a.setHours(0,0,0,0);let c=jn(a,e);return+o>=+l?n+1:+o>=+c?n:n-1}function Wy(t,e){let o=hn(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,r=fm(t,e),s=vo(e?.in||t,0);return s.setFullYear(r,0,n),s.setHours(0,0,0,0),jn(s,e)}function Uy(t,e){let o=ot(t,e?.in),n=+jn(o,e)-+Wy(o,e);return Math.round(n/dm)+1}function at(t,e){let o=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return o+n}var Mn={y(t,e){let o=t.getFullYear(),n=o>0?o:1-o;return at(e==="yy"?n%100:n,e.length)},M(t,e){let o=t.getMonth();return e==="M"?String(o+1):at(o+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){let o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){let o=e.length,n=t.getMilliseconds(),r=Math.trunc(n*Math.pow(10,o-3));return at(r,e.length)}};var ya={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xg={G:function(t,e,o){let n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return o.era(n,{width:"abbreviated"});case"GGGGG":return o.era(n,{width:"narrow"});case"GGGG":default:return o.era(n,{width:"wide"})}},y:function(t,e,o){if(e==="yo"){let n=t.getFullYear(),r=n>0?n:1-n;return o.ordinalNumber(r,{unit:"year"})}return Mn.y(t,e)},Y:function(t,e,o,n){let r=fm(t,n),s=r>0?r:1-r;if(e==="YY"){let i=s%100;return at(i,2)}return e==="Yo"?o.ordinalNumber(s,{unit:"year"}):at(s,e.length)},R:function(t,e){let o=mm(t);return at(o,e.length)},u:function(t,e){let o=t.getFullYear();return at(o,e.length)},Q:function(t,e,o){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return at(n,2);case"Qo":return o.ordinalNumber(n,{unit:"quarter"});case"QQQ":return o.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,o){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return at(n,2);case"qo":return o.ordinalNumber(n,{unit:"quarter"});case"qqq":return o.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,o){let n=t.getMonth();switch(e){case"M":case"MM":return Mn.M(t,e);case"Mo":return o.ordinalNumber(n+1,{unit:"month"});case"MMM":return o.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,o){let n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return at(n+1,2);case"Lo":return o.ordinalNumber(n+1,{unit:"month"});case"LLL":return o.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,o,n){let r=Uy(t,n);return e==="wo"?o.ordinalNumber(r,{unit:"week"}):at(r,e.length)},I:function(t,e,o){let n=Hy(t);return e==="Io"?o.ordinalNumber(n,{unit:"week"}):at(n,e.length)},d:function(t,e,o){return e==="do"?o.ordinalNumber(t.getDate(),{unit:"date"}):Mn.d(t,e)},D:function(t,e,o){let n=zy(t);return e==="Do"?o.ordinalNumber(n,{unit:"dayOfYear"}):at(n,e.length)},E:function(t,e,o){let n=t.getDay();switch(e){case"E":case"EE":case"EEE":return o.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(n,{width:"short",context:"formatting"});case"EEEE":default:return o.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,o,n){let r=t.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return at(s,2);case"eo":return o.ordinalNumber(s,{unit:"day"});case"eee":return o.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,o,n){let r=t.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return at(s,e.length);case"co":return o.ordinalNumber(s,{unit:"day"});case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,o){let n=t.getDay(),r=n===0?7:n;switch(e){case"i":return String(r);case"ii":return at(r,e.length);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return o.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(n,{width:"short",context:"formatting"});case"iiii":default:return o.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,o){let r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,o){let n=t.getHours(),r;switch(n===12?r=ya.noon:n===0?r=ya.midnight:r=n/12>=1?"pm":"am",e){case"b":case"bb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,o){let n=t.getHours(),r;switch(n>=17?r=ya.evening:n>=12?r=ya.afternoon:n>=4?r=ya.morning:r=ya.night,e){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,o){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),o.ordinalNumber(n,{unit:"hour"})}return Mn.h(t,e)},H:function(t,e,o){return e==="Ho"?o.ordinalNumber(t.getHours(),{unit:"hour"}):Mn.H(t,e)},K:function(t,e,o){let n=t.getHours()%12;return e==="Ko"?o.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},k:function(t,e,o){let n=t.getHours();return n===0&&(n=24),e==="ko"?o.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},m:function(t,e,o){return e==="mo"?o.ordinalNumber(t.getMinutes(),{unit:"minute"}):Mn.m(t,e)},s:function(t,e,o){return e==="so"?o.ordinalNumber(t.getSeconds(),{unit:"second"}):Mn.s(t,e)},S:function(t,e){return Mn.S(t,e)},X:function(t,e,o){let n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Yy(n);case"XXXX":case"XX":return pi(n);case"XXXXX":case"XXX":default:return pi(n,":")}},x:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"x":return Yy(n);case"xxxx":case"xx":return pi(n);case"xxxxx":case"xxx":default:return pi(n,":")}},O:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Xy(n,":");case"OOOO":default:return"GMT"+pi(n,":")}},z:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Xy(n,":");case"zzzz":default:return"GMT"+pi(n,":")}},t:function(t,e,o){let n=Math.trunc(+t/1e3);return at(n,e.length)},T:function(t,e,o){return at(+t,e.length)}};function Xy(t,e=""){let o=t>0?"-":"+",n=Math.abs(t),r=Math.trunc(n/60),s=n%60;return s===0?o+String(r):o+String(r)+e+at(s,2)}function Yy(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):pi(t,e)}function pi(t,e=""){let o=t>0?"-":"+",n=Math.abs(t),r=at(Math.trunc(n/60),2),s=at(n%60,2);return o+r+e+s}var Zy=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Jy=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},UP=(t,e)=>{let o=t.match(/(P+)(p+)?/)||[],n=o[1],r=o[2];if(!r)return Zy(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Zy(n,e)).replace("{{time}}",Jy(r,e))},qy={p:Jy,P:UP};var XP=/^D+$/,YP=/^Y+$/,ZP=["D","DD","YY","YYYY"];function Qy(t){return XP.test(t)}function Ky(t){return YP.test(t)}function ew(t,e,o){let n=JP(t,e,o);if(console.warn(n),ZP.includes(t))throw new RangeError(n)}function JP(t,e,o){let n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var qP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KP=/^'([^]*?)'?$/,eN=/''/g,tN=/[a-zA-Z]/;function yg(t,e,o){let n=hn(),r=o?.locale??n.locale??kl,s=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=ot(t,o?.in);if(!Ny(l))throw new RangeError("Invalid time value");let a=e.match(QP).map(u=>{let d=u[0];if(d==="p"||d==="P"){let f=qy[d];return f(u,r.formatLong)}return u}).join("").match(qP).map(u=>{if(u==="''")return{isToken:!1,value:"'"};let d=u[0];if(d==="'")return{isToken:!1,value:oN(u)};if(xg[d])return{isToken:!0,value:u};if(d.match(tN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});r.localize.preprocessor&&(a=r.localize.preprocessor(l,a));let c={firstWeekContainsDate:s,weekStartsOn:i,locale:r};return a.map(u=>{if(!u.isToken)return u.value;let d=u.value;(!o?.useAdditionalWeekYearTokens&&Ky(d)||!o?.useAdditionalDayOfYearTokens&&Qy(d))&&ew(d,e,String(t));let f=xg[d[0]];return f(l,d,r.localize,c)}).join("")}function oN(t){let e=t.match(KP);return e?e[1].replace(eN,"'"):t}function tw(t,e,o){let n=hn(),r=o?.locale??n.locale??kl,s=2520,i=xa(t,e);if(isNaN(i))throw new RangeError("Invalid time value");let l=Object.assign({},o,{addSuffix:o?.addSuffix,comparison:i}),[a,c]=xs(o?.in,...i>0?[e,t]:[t,e]),u=Vy(c,a),d=(Ca(c)-Ca(a))/1e3,f=Math.round((u-d)/60),m;if(f<2)return o?.includeSeconds?u<5?r.formatDistance("lessThanXSeconds",5,l):u<10?r.formatDistance("lessThanXSeconds",10,l):u<20?r.formatDistance("lessThanXSeconds",20,l):u<40?r.formatDistance("halfAMinute",0,l):u<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):f===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",f,l);if(f<45)return r.formatDistance("xMinutes",f,l);if(f<90)return r.formatDistance("aboutXHours",1,l);if(f<bg){let h=Math.round(f/60);return r.formatDistance("aboutXHours",h,l)}else{if(f<s)return r.formatDistance("xDays",1,l);if(f<oc){let h=Math.round(f/bg);return r.formatDistance("xDays",h,l)}else if(f<oc*2)return m=Math.round(f/oc),r.formatDistance("aboutXMonths",m,l)}if(m=Oy(c,a),m<12){let h=Math.round(f/oc);return r.formatDistance("xMonths",h,l)}else{let h=m%12,p=Math.trunc(m/12);return h<3?r.formatDistance("aboutXYears",p,l):h<9?r.formatDistance("overXYears",p,l):r.formatDistance("almostXYears",p+1,l)}}function ow(t,e){return tw(t,Ey(t),e)}function Yr(t,e){let o=rN(e)?new e(0):vo(e,0);return o.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),o.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),o}function rN(t){return typeof t=="function"&&t.prototype?.constructor===t}var Rr=({date:t,i18n:e,pattern:o,timezone:n})=>{let r=new Yt(new Date(t));if(n){let s=Yt.tz(n),i=r.withTimeZone(n),l=Yr(i,s);return e.dateFNS?yg(l,o,{locale:e.dateFNS}):`${e.t("general:loading")}...`}return e.dateFNS?yg(r,o,{locale:e.dateFNS}):`${e.t("general:loading")}...`},wg=({date:t,i18n:e})=>{let o=typeof t=="string"?new Date(t):t;return e?.dateFNS?ow(o,{locale:e.dateFNS}):`${e.t("general:loading")}...`};function Sg(t){return typeof t=="object"&&"root"in t}function pm(t,e){for(let o of t)"text"in o&&o.text?e+=o.text:"children"in o||(e+=`[${o.type}]`),"children"in o&&o.children&&(e+=pm(o.children,e));return e}var jo=({collectionConfig:t,data:e,dateFormat:o,fallback:n,globalConfig:r,i18n:s})=>{let i;if(t){let l=t?.admin?.useAsTitle;if(l&&(i=e?.[l]||i,i)){let a=t.fields.find(u=>"name"in u&&u.name===l);if(a?.type==="date"){let u="date"in a.admin&&a?.admin?.date?.displayFormat||o;i=Rr({date:i,i18n:s,pattern:u})||i}}}return r&&(i=nN(r?.label,s)||r?.slug),Sg(i)&&(i=pm(i.root.children?.[0]?.children||[],"")),!i&&Sg(n)&&(i=pm(n.root.children?.[0]?.children||[],"")),i||(i=typeof n=="string"?n:`[${s.t("general:untitled")}]`),i};import{jsx as sN}from"react/jsx-runtime";import{createContext as iN,use as aN,useEffect as lN,useState as cN}from"react";var rw=iN({}),lr=()=>aN(rw),nw=({children:t})=>{let{id:e,collectionSlug:o,docConfig:n,globalSlug:r,initialData:s,savedDocumentData:i}=Pe(),{config:{admin:{dateFormat:l}}}=H(),{i18n:a}=$(),[c,u]=cN(()=>jo({collectionConfig:o?n:void 0,data:{...s||{},id:e},dateFormat:l,fallback:e?.toString(),globalConfig:r?n:void 0,i18n:a}));return lN(()=>{u(jo({collectionConfig:o?n:void 0,data:{...i,id:e},dateFormat:l,fallback:e?.toString(),globalConfig:r?n:void 0,i18n:a}))},[i,l,a,e,o,n,r]),sN(rw,{value:{setDocumentTitle:u,title:c},children:t})};import{c as uN}from"react/compiler-runtime";import{jsx as dN}from"react/jsx-runtime";import Ig from"react";var sw=Ig.createContext({getUploadEdits:()=>{},resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),_g=t=>{let e=uN(10),{children:o,initialUploadEdits:n}=t,r;e[0]!==n?(r=n||{},e[0]=n,e[1]=r):r=e[1];let[s,i]=Ig.useState(r),l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{i({})},e[2]=l):l=e[2];let a=l,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=h=>{i(p=>({...p||{},...h||{}}))},e[3]=c):c=e[3];let u=c,d;e[4]!==s?(d=()=>s,e[4]=s,e[5]=d):d=e[5];let f=d,m;return e[6]!==o||e[7]!==f||e[8]!==s?(m=dN(sw,{value:{getUploadEdits:f,resetUploadEdits:a,updateUploadEdits:u,uploadEdits:s},children:o}),e[6]=o,e[7]=f,e[8]=s,e[9]=m):m=e[9],m},hi=()=>Ig.use(sw);import*as Dg from"qs-esm";import mN from"react";var rc=t=>{let{collectionSlug:e,docPermissions:o,globalSlug:n,isEditing:r}=t;return e?!!(r&&o?.update||!r&&o?.create):n?!!o?.update:!1};var iw=({id:t,collectionSlug:e,globalSlug:o})=>!!(o||e&&t);var aw=({id:t,api:e,collectionSlug:o,globalSlug:n,i18n:r,locale:s,permissions:i,serverURL:l,setDocPermissions:a,setHasPublishPermission:c,setHasSavePermission:u})=>mN.useCallback(async d=>{let f={locale:s||void 0},m=d?.id||t,h=iw({id:m,collectionSlug:o,globalSlug:n});if(h){let p=o?`/${o}/access/${m}`:n?`/globals/${n}/access`:null;if(p){let b=await(await fetch(`${l}${e}${p}?${Dg.stringify(f)}`,{body:JSON.stringify({...d||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),C=await fetch(`${l}${e}${p}?${Dg.stringify(f)}`,{body:JSON.stringify({...d||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(v=>v.json());a(b),u(rc({collectionSlug:o,docPermissions:b,globalSlug:n,isEditing:h})),c(C?.update)}}else{let p=o?i?.collections?.[o]:i?.globals?.[n];a(p),u(rc({collectionSlug:o,docPermissions:p,globalSlug:n,isEditing:h}))}},[l,e,t,i,r.language,s,o,n]);var dw=fN({}),Pe=()=>pN(dw),bN=({children:t,...e})=>{let{id:o,collectionSlug:n,currentEditor:r,docPermissions:s,globalSlug:i,hasPublishedDoc:l,hasPublishPermission:a,hasSavePermission:c,initialData:u,initialState:d,isLocked:f,lastUpdateTime:m,mostRecentVersionIsAutosaved:h,unpublishedVersionCount:p,versionCount:g}=e,[b,C]=cr(s),[v,x]=cr(c),[y,I]=cr(a),{permissions:w}=Fe(),{config:{admin:{dateFormat:D},routes:{api:_},serverURL:R},getEntityConfig:T}=H(),S=T({collectionSlug:n}),F=T({globalSlug:i}),A=gN(new AbortController),P=S||F,{i18n:E}=$(),{uploadEdits:k}=hi(),[M,N]=cr(()=>jo({collectionConfig:S,data:{...u||{},id:o},dateFormat:D,fallback:o?.toString(),globalConfig:F,i18n:E})),[L,O]=cr(h),[j,B]=cr(g),[V,G]=cr(l),[z,Y]=cr(p),[Q,Z]=cr(f),[X,q]=cr(r),[W,ee]=cr(m),[pe,ae]=cr(u),[Se,K]=cr("idle"),se=wa(qe=>{K(qe)},[]),{getPreference:ge,setPreference:ye}=mo(),{code:oe}=Ie(),{localeIsLoading:fe}=am(),he=hN(()=>d===void 0||u===void 0||fe,[u,d,fe]),ie=`${R}${_}`,de,U,ne;i&&(de=i,U="globals",ne=`global-${de}`),n&&(de=n,U="collections",o&&(ne=`collection-${de}-${o}`));let ve=wa(async(qe,Ke)=>{try{let St=Ke===i?`where[globalSlug][equals]=${Ke}`:`where[document.value][equals]=${qe}&where[document.relationTo][equals]=${Ke}`,Pt=await tt.get(`${R}${_}/payload-locked-documents?${St}`,{credentials:"include"}),{docs:Ct}=await Pt.json();if(Ct?.length>0){let Ze=Ct[0].id;await tt.delete(`${R}${_}/payload-locked-documents/${Ze}`,{credentials:"include",headers:{"Content-Type":"application/json"}}),Z(!1)}}catch(Qe){console.error("Failed to unlock the document",Qe)}},[R,_,i]),Ne=wa(async(qe,Ke,Qe)=>{try{let Pt=Ke===i?`where[globalSlug][equals]=${Ke}`:`where[document.value][equals]=${qe}&where[document.relationTo][equals]=${Ke}`,Ct=await tt.get(`${R}${_}/payload-locked-documents?${Pt}`,{credentials:"include"}),{docs:Ze}=await Ct.json();if(Ze?.length>0){let be=Ze[0].id,ce=typeof Qe=="object"?{relationTo:Qe.collection,value:Qe.id}:{relationTo:"users",value:Qe};await tt.patch(`${R}${_}/payload-locked-documents/${be}`,{body:JSON.stringify({user:ce}),credentials:"include",headers:{"Content-Type":"application/json"}})}}catch(St){console.error("Failed to update the document editor",St)}},[R,_,i]),Me=aw({id:o,api:_,collectionSlug:n,globalSlug:i,i18n:E,locale:oe,permissions:w,serverURL:R,setDocPermissions:C,setHasPublishPermission:I,setHasSavePermission:x}),Le=wa(()=>ge(ne),[ge,ne]),ct=wa(async(qe,Ke)=>{let Qe=await Le();if(ne)try{await ye(ne,{...Qe,fields:{...Qe?.fields||{},[qe]:{...Qe?.fields?.[qe],...Ke}}})}catch(St){console.error(St)}},[ye,ne,Le]),vt=wa(()=>{let qe=j+1;S&&S.versions?S.versions.maxPerDoc>0?B(Math.min(qe,S.versions.maxPerDoc)):B(qe):F&&F.versions&&(F.versions.max>0?B(Math.min(qe,F.versions.max)):B(qe))},[S,F,j]),Xe=lw.useCallback(qe=>{ae(qe)},[]);cw(()=>{N(jo({collectionConfig:S,data:{...pe,id:o},dateFormat:D,fallback:o?.toString(),globalConfig:F,i18n:E}))},[S,F,pe,D,E,o]),cw(()=>{let qe=A.current;return()=>{if(qe)try{qe.abort()}catch{}}},[]);let We=lw.useMemo(()=>`${`${ie}${U==="globals"?"/globals":""}/${de}${o?`/${o}`:""}`}${uw.stringify({depth:0,"fallback-locale":"null",locale:oe,uploadEdits:k||void 0},{addQueryPrefix:!0})}`,[ie,oe,U,o,de,k]),ho={...e,action:We,currentEditor:X,docConfig:P,docPermissions:b,documentIsLocked:Q,getDocPermissions:Me,getDocPreferences:Le,hasPublishedDoc:V,hasPublishPermission:y,hasSavePermission:v,incrementVersionCount:vt,initialData:u,initialState:d,isInitializing:he,lastUpdateTime:W,mostRecentVersionIsAutosaved:L,preferencesKey:ne,savedDocumentData:pe,setCurrentEditor:q,setDocFieldPreferences:ct,setDocumentIsLocked:Z,setDocumentTitle:N,setHasPublishedDoc:G,setLastUpdateTime:ee,setMostRecentVersionIsAutosaved:O,setUnpublishedVersionCount:Y,setUploadStatus:se,title:M,unlockDocument:ve,unpublishedVersionCount:z,updateDocumentEditor:Ne,updateSavedDocumentData:Xe,uploadStatus:Se,versionCount:j};return hm(dw,{value:ho,children:hm(nw,{children:t})})},nc=t=>hm(_g,{children:hm(bN,{...t})});import{jsx as vN}from"react/jsx-runtime";import{createContext as CN,use as xN}from"react";var gm=CN(""),sc=({children:t,operation:e})=>vN(gm,{value:e,children:t}),ur=()=>xN(gm);import mw from"react";var Fg=mw.createContext(void 0),fw=()=>{let t=mw.useContext(Fg);if(t)return t};var $e=t=>{let e=yN(65),o;e[0]!==t?(o=t||{},e[0]=t,e[1]=o):o=e[1];let{disableFormData:n,hasRows:r,path:s,potentiallyStalePath:i,validate:l}=o,a=n===void 0?!1:n,c=fw(),u=s||c||i,d=to(),f=Dr(),m=oi(),{user:h}=Fe(),{id:p,collectionSlug:g}=Pe(),b=ur(),C=Rt(wN),v;e[2]!==u?(v=K=>{let[se]=K;return se&&se?.[u]||null},e[2]=u,e[3]=v):v=e[3];let x=Rt(v),{t:y}=$(),{config:I}=H(),{getData:w,getDataByPath:D,getSiblingData:_,setModified:R}=Be(),T=ca(),S=oo(),F=x?.filterOptions,A=x?.value,P=x?.initialValue,E=typeof x?.valid=="boolean"?x.valid:!0,k=E===!1&&d,M=pw(E),N=pw(x?.errorMessage),L;e[4]!==u?(L=u?u.split("."):[],e[4]=u,e[5]=L):L=e[5];let O=L,j;e[6]!==a||e[7]!==C||e[8]!==r||e[9]!==S||e[10]!==u||e[11]!==R?(j=(K,se)=>{let ge=se===void 0?!1:se,ye=K&&K.target?K.target.value:K;C({type:"UPDATE",disableFormData:a||r&&ye>0,path:u,value:ye}),ge||typeof R=="function"&&S===!1&&setTimeout(()=>{R(!0)},10)},e[6]=a,e[7]=C,e[8]=r,e[9]=S,e[10]=u,e[11]=R,e[12]=j):j=e[12];let B=j,V,G=x?.customComponents,z=f||m,Y=x?.errorMessage,Q;e[13]!==x?.errorPaths?(Q=x?.errorPaths||[],e[13]=x?.errorPaths,e[14]=Q):Q=e[14];let Z=x?.rows,X=x?.selectFilterOptions,q=x?.valid,W;e[15]!==F||e[16]!==P||e[17]!==m||e[18]!==u||e[19]!==f||e[20]!==B||e[21]!==k||e[22]!==d||e[23]!==Z||e[24]!==X||e[25]!==q||e[26]!==G||e[27]!==z||e[28]!==Y||e[29]!==Q||e[30]!==A?(W={customComponents:G,disabled:z,errorMessage:Y,errorPaths:Q,filterOptions:F,formInitializing:m,formProcessing:f,formSubmitted:d,initialValue:P,path:u,rows:Z,selectFilterOptions:X,setValue:B,showError:k,valid:q,value:A},e[15]=F,e[16]=P,e[17]=m,e[18]=u,e[19]=f,e[20]=B,e[21]=k,e[22]=d,e[23]=Z,e[24]=X,e[25]=q,e[26]=G,e[27]=z,e[28]=Y,e[29]=Q,e[30]=A,e[31]=W):W=e[31],V=W;let ee=V,pe;e[32]!==g||e[33]!==I||e[34]!==a||e[35]!==C||e[36]!==T||e[37]!==x||e[38]!==w||e[39]!==D||e[40]!==_||e[41]!==r||e[42]!==p||e[43]!==b||e[44]!==u||e[45]!==O||e[46]!==y||e[47]!==h||e[48]!==l||e[49]!==A?(pe=()=>{(async()=>{let se=A;x?.rows&&Array.isArray(x.rows)&&(se=D(u));let ge=N.current,ye=M.current,oe=w(),fe=typeof l=="function"?await l(se,{id:p,blockData:void 0,collectionSlug:g,data:T?.getData?T.getData():oe,event:"onChange",operation:b,path:O,preferences:{},req:{payload:{config:I},t:y,user:h},siblingData:_(u)}):typeof N.current=="string"?N.current:M.current;if(typeof fe=="string"?(ye=!1,ge=fe):typeof fe=="boolean"&&(ye=fe,ge=void 0),ye!==M.current||ge!==N.current){M.current=ye,N.current=ge;let he={type:"UPDATE",errorMessage:ge,path:u,rows:x?.rows,valid:ye,validate:l,value:A};(a||r&&typeof A=="number"&&A>0)&&(he.disableFormData=!0),typeof C=="function"&&C(he)}})()},e[32]=g,e[33]=I,e[34]=a,e[35]=C,e[36]=T,e[37]=x,e[38]=w,e[39]=D,e[40]=_,e[41]=r,e[42]=p,e[43]=b,e[44]=u,e[45]=O,e[46]=y,e[47]=h,e[48]=l,e[49]=A,e[50]=pe):pe=e[50];let ae=x?.rows,Se;return e[51]!==g||e[52]!==a||e[53]!==C||e[54]!==w||e[55]!==D||e[56]!==_||e[57]!==p||e[58]!==b||e[59]!==u||e[60]!==ae||e[61]!==h||e[62]!==l||e[63]!==A?(Se=[A,a,C,w,_,D,p,b,u,h,l,ae,g],e[51]=g,e[52]=a,e[53]=C,e[54]=w,e[55]=D,e[56]=_,e[57]=p,e[58]=b,e[59]=u,e[60]=ae,e[61]=h,e[62]=l,e[63]=A,e[64]=Se):Se=e[64],mi(pe,150,Se),ee};function wN(t){let[,e]=t;return e}import{jsx as hw}from"react/jsx-runtime";import"react";import{c as SN}from"react/compiler-runtime";var Tg=t=>{let e=SN(2),{children:o,path:n}=t,r;e[0]!==n?(r=l=>{let[a]=l;return a&&a?.[n]||null},e[0]=n,e[1]=r):r=e[1];let s=Rt(r),{passesCondition:i}=s||{};return i===!1?null:o};var Ve=t=>o=>{let{path:n}=o;return hw(Tg,{path:n,children:hw(t,{...o})})};var st=t=>({...t?.admin?.style||{},...t?.admin?.width?{"--field-width":t.admin.width}:{flex:"1 1 auto"},...t?.admin?.style?.flex?{flex:t.admin.style.flex}:{}});var Te="field-type";function Sa({fieldLocalized:t,fieldRTL:e,locale:o,localizationConfig:n}){let r=o&&n&&n.locales&&n.locales.length>1,s=o?.code===n?.defaultLocale;return e!==!1&&o?.rtl===!0&&(t||!t&&!r||!t&&s)||e===!0}import{jsx as ic,jsxs as Eg}from"react/jsx-runtime";import"react";import{jsx as gw}from"react/jsx-runtime";import"react";var Rg=()=>gw("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:gw("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})});import{jsx as bw}from"react/jsx-runtime";import"react";var Ag=()=>bw("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:bw("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})});var ac="checkbox-input",Bn=({id:t,name:e,AfterInput:o,BeforeInput:n,checked:r,className:s,inputRef:i,Label:l,label:a,localized:c,onToggle:u,partialChecked:d,readOnly:f,required:m})=>Eg("div",{className:[s,ac,r&&`${ac}--checked`,f&&`${ac}--read-only`].filter(Boolean).join(" "),children:[Eg("div",{className:`${ac}__input`,children:[n,ic("input",{"aria-label":"",defaultChecked:!!r,disabled:f,id:t,name:e,onInput:u,ref:i,required:m,type:"checkbox"}),Eg("span",{className:[`${ac}__icon`,!r&&d?"partial":"check"].filter(Boolean).join(" "),children:[r&&ic(Rg,{}),!r&&d&&ic(Ag,{})]}),o]}),ic(me,{CustomComponent:l,Fallback:ic(we,{htmlFor:t,label:a,localized:c,required:m})})]});var Pg="checkbox";var DN=t=>{let{id:e,checked:o,disableFormData:n,field:r,field:{admin:{className:s,description:i}={},label:l,required:a}={},onChange:c,partialChecked:u,path:d,readOnly:f,validate:m}=t,{uuid:h}=Be(),p=et(),g=vw((P,E)=>{if(typeof m=="function")return m(P,{...E,required:a})},[m,a]),{customComponents:{AfterInput:b,BeforeInput:C,Description:v,Error:x,Label:y}={},disabled:I,path:w,setValue:D,showError:_,value:R}=$e({disableFormData:n,potentiallyStalePath:d,validate:g}),T=vw(()=>{f||(D(!R),typeof c=="function"&&c(!R))},[c,f,D,R]),S=o||!!R,F=e||lm(w,p,h),A=_N(()=>st(r),[r]);return IN("div",{className:[Te,Pg,_&&"error",s,R&&`${Pg}--checked`,(f||I)&&`${Pg}--read-only`].filter(Boolean).join(" "),style:A,children:[lc(me,{CustomComponent:x,Fallback:lc(Ue,{path:w,showError:_})}),lc(Bn,{AfterInput:b,BeforeInput:C,checked:S,id:F,inputRef:null,Label:y,label:l,name:w,onToggle:T,partialChecked:u,readOnly:f||I,required:a}),lc(me,{CustomComponent:v,Fallback:lc(He,{description:i,path:w})})]})},Ar=Ve(DN);var cc=t=>{let e=FN(4),{fieldValue:o,localized:n,path:r}=t,{code:s}=Ie(),{config:i}=H(),{localization:l}=i,[a,c]=xw.useState(typeof o!="number"),{t:u}=$();if(!n||!l||l.defaultLocale===s||!l.fallback)return null;if(o){let f=!1;if(typeof o=="number"&&o>0&&(f=!0),Array.isArray(o)&&o.length>0&&(f=!0),f)return a&&c(!1),null}let d;return e[0]!==a||e[1]!==r||e[2]!==u?(d=Cw(Hr,{children:Cw(Ar,{checked:a,field:{name:"",label:u("general:fallbackToDefaultLocale")},id:`field-${r.replace(/\./g,"__")}`,path:r,schemaPath:""})}),e[0]=a,e[1]=r,e[2]=u,e[3]=d):d=e[3],d};var Ia=t=>{let e=document.getElementById(t);if(e){let o=e.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:o.top-100})}};import{c as PV}from"react/compiler-runtime";import{jsx as Hs,jsxs as NV}from"react/jsx-runtime";import{getTranslation as $V}from"@payloadcms/translations";import"react";import{c as RN}from"react/compiler-runtime";import{jsx as On,jsxs as gi}from"react/jsx-runtime";import AN from"react";import{jsx as yw}from"react/jsx-runtime";import"react";var uc=()=>yw("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:yw("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})});import{jsx as Ng,jsxs as TN}from"react/jsx-runtime";import"react";var $g=({className:t})=>TN("svg",{className:["icon icon--more",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[Ng("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),Ng("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),Ng("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]});var dr="array-actions",bm=t=>{let e=RN(10),{addRow:o,duplicateRow:n,hasMaxRows:r,index:s,isSortable:i,moveRow:l,removeRow:a,rowCount:c}=t,{t:u}=$(),d;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==i||e[5]!==l||e[6]!==a||e[7]!==c||e[8]!==u?(d=On(yt,{button:On($g,{}),buttonClassName:`${dr}__button`,className:dr,horizontalAlign:"center",render:f=>{let{close:m}=f;return gi(_e.ButtonGroup,{buttonSize:"small",children:[i&&s!==0&&gi(_e.Button,{className:`${dr}__action ${dr}__move-up`,onClick:()=>{l(s,s-1),m()},children:[On("div",{className:`${dr}__action-chevron`,children:On(Ye,{direction:"up"})}),u("general:moveUp")]}),i&&s<c-1&&gi(_e.Button,{className:`${dr}__action`,onClick:()=>{l(s,s+1),m()},children:[On("div",{className:`${dr}__action-chevron`,children:On(Ye,{})}),u("general:moveDown")]}),!r&&gi(AN.Fragment,{children:[gi(_e.Button,{className:`${dr}__action ${dr}__add`,onClick:()=>{o(s+1),m()},children:[On(Yo,{}),u("general:addBelow")]}),gi(_e.Button,{className:`${dr}__action ${dr}__duplicate`,onClick:()=>{n(s),m()},children:[On(uc,{}),u("general:duplicate")]})]}),gi(_e.Button,{className:`${dr}__action ${dr}__remove`,onClick:()=>{a(s),m()},children:[On(pt,{}),u("general:remove")]})]})},size:"medium"}),e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=l,e[6]=a,e[7]=c,e[8]=u,e[9]=d):d=e[9],d};import{c as ON}from"react/compiler-runtime";import{jsx as Zr,jsxs as jg}from"react/jsx-runtime";import{useState as Dw}from"react";import{jsx as _a,jsxs as EN}from"react/jsx-runtime";import"react";var Vn=({className:t})=>EN("svg",{className:["icon icon--drag-handle",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[_a("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),_a("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),_a("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),_a("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),_a("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),_a("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]});import{jsx as Sw}from"react/jsx-runtime";import vm,{useEffect as LN,useRef as kg}from"react";import{useEffect as PN,useMemo as NN,useRef as Lg,useState as $N}from"react";var ww=({containerRef:t,contentRef:e,duration:o,open:n})=>{let r=NN(()=>typeof CSS<"u"&&CSS&&CSS.supports?CSS.supports("interpolate-size","allow-keywords"):!1,[]),s=Lg(!1),i=Lg(n),[l,a]=$N(!1),c=Lg(null);return PN(()=>{let u=t.current,d=e.current;if(!u||!d||r)return;let f=p=>{u.style.height=p},m=()=>{u&&(u.style.transition="",u.style.height=n?"auto":"0px",a(!1))};return(()=>{if(!s.current&&n){f("auto"),a(!1);return}s.current=!0,i.current!==n&&f(n?"0px":`${d.scrollHeight}px`),u.offsetHeight,a(!0),u.style.transition=`height ${o}ms ease`,f(n?`${d.scrollHeight}px`:"0px");let p=()=>{m(),u.removeEventListener("transitionend",p)};u.addEventListener("transitionend",p)})(),i.current=n,c.current=new ResizeObserver(()=>{l&&(u.style.height=n?`${d.scrollHeight}px`:"0px")}),c.current.observe(d),()=>{u&&(u.style.transition="",u.style.height=""),c.current?.disconnect()}},[n,o,t,e,r]),{browserSupportsKeywordAnimation:r}};var Er=({id:t,children:e,className:o,duration:n=300,height:r})=>{let[s,i]=vm.useState(()=>!!r),l=kg(s),[a,c]=vm.useState(()=>s?"":"none"),[u,d]=vm.useState(()=>s?"":"hidden"),[f,m]=vm.useState(!1),h=kg(null),p=kg(null);return LN(()=>{let g,b,C=!!r,v=l.current!==C;return l.current=C,v&&(m(!0),d("hidden"),C?c(""):g=window.setTimeout(()=>{c("none")},n),i(C),b=window.setTimeout(()=>{d(""),m(!1)},n)),()=>{g&&clearTimeout(g),b&&clearTimeout(b)}},[r,n]),ww({containerRef:h,contentRef:p,duration:n,open:s}),Sw("div",{"aria-hidden":!s,className:[o,"rah-static",s&&r==="auto"&&"rah-static--height-auto",f&&`rah-animating--${s?"down":"up"}`,f&&r==="auto"&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id:t,ref:h,style:{overflow:u,transition:`height ${n}ms ease`},children:Sw("div",{ref:p,...a?{style:{display:a}}:{},children:e})})};import{jsx as kN}from"react/jsx-runtime";import jN,{createContext as MN,use as BN}from"react";var Iw=MN({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),_w=({children:t,isCollapsed:e,isWithinCollapsible:o=!0,toggle:n})=>{let{isCollapsed:r,isVisible:s}=ys(),i=jN.useMemo(()=>({isCollapsed:e,isVisible:s&&!r,isWithinCollapsible:o,toggle:n}),[e,o,n,r,s]);return kN(Iw,{value:i,children:t})},ys=()=>BN(Iw);var Po="collapsible";var bi=t=>{let e=ON(26),{actions:o,children:n,className:r,collapsibleStyle:s,dragHandleProps:i,header:l,initCollapsed:a,isCollapsed:c,onToggle:u}=t,d=s===void 0?"default":s,[f,m]=Dw(!!a),[h,p]=Dw(!1),{isWithinCollapsible:g}=ys(),{t:b}=$(),C=typeof c=="boolean"?c:f,v;e[0]!==C||e[1]!==u?(v=()=>{typeof u=="function"&&u(!C),m(!C)},e[0]=C,e[1]=u,e[2]=v):v=e[2];let x=v,y=i&&`${Po}--has-drag-handle`,I=C&&`${Po}--collapsed`,w=g&&`${Po}--nested`,D=h&&`${Po}--hovered`,_=`${Po}--style-${d}`,R;e[3]!==r||e[4]!==y||e[5]!==I||e[6]!==w||e[7]!==D||e[8]!==_?(R=[Po,r,y,I,w,D,_].filter(Boolean),e[3]=r,e[4]=y,e[5]=I,e[6]=w,e[7]=D,e[8]=_,e[9]=R):R=e[9];let T=R.join(" "),S,F;e[10]===Symbol.for("react.memo_cache_sentinel")?(S=()=>p(!0),F=()=>p(!1),e[10]=S,e[11]=F):(S=e[10],F=e[11]);let A=`${Po}__toggle--${C?"collapsed":"open"}`,P;e[12]!==A?(P=[`${Po}__toggle`,A].filter(Boolean),e[12]=A,e[13]=P):P=e[13];let E=P.join(" "),k;if(e[14]!==o||e[15]!==n||e[16]!==i||e[17]!==l||e[18]!==C||e[19]!==b||e[20]!==E||e[21]!==T||e[22]!==x){let M;e[24]!==i?(M=i&&Zr("div",{className:`${Po}__drag`,...i.attributes,...i.listeners,children:Zr(Vn,{})}),e[24]=i,e[25]=M):M=e[25],k=Zr("div",{className:T,children:jg(_w,{isCollapsed:C,toggle:x,children:[jg("div",{className:`${Po}__toggle-wrap`,onMouseEnter:S,onMouseLeave:F,children:[Zr("button",{className:E,onClick:x,type:"button",children:Zr("span",{children:b("fields:toggleBlock")})}),M,l?Zr("div",{className:[`${Po}__header-wrap`,i&&`${Po}__header-wrap--has-drag-handle`].filter(Boolean).join(" "),children:l}):null,jg("div",{className:`${Po}__actions-wrap`,children:[o?Zr("div",{className:`${Po}__actions`,children:o}):null,Zr("div",{className:`${Po}__indicator`,children:Zr(Ye,{direction:C?void 0:"up"})})]})]}),Zr(Er,{height:C?0:"auto",children:Zr("div",{className:`${Po}__content`,children:n})})]})}),e[14]=o,e[15]=n,e[16]=i,e[17]=l,e[18]=C,e[19]=b,e[20]=E,e[21]=T,e[22]=x,e[23]=k}else k=e[23];return k};import{c as TV}from"react/compiler-runtime";import{jsx as cv}from"react/jsx-runtime";import{fieldIsHiddenOrDisabled as RV,getFieldPaths as AV,getFieldPermissions as EV}from"payload/shared";import"react";import{c as VN}from"react/compiler-runtime";import{jsx as GN}from"react/jsx-runtime";import Fw from"react";var Tw=t=>{let e=VN(9),{children:o,className:n,forceRender:r}=t,[s,i]=Fw.useState(!!r),l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={rootMargin:"1000px"},e[0]=l):l=e[0];let[a,c]=En(l,!!r),u=!!c?.isIntersecting,d=c?.boundingClientRect?.top<0,f=r||u||d,m,h;e[1]!==s||e[2]!==f?(m=()=>{f&&!s&&i(!0)},h=[f,s],e[1]=s,e[2]=f,e[3]=m,e[4]=h):(m=e[3],h=e[4]),Fw.useEffect(m,h);let p=s?o:null,g;return e[5]!==n||e[6]!==a||e[7]!==p?(g=GN("div",{className:n,ref:a,children:p}),e[5]=n,e[6]=a,e[7]=p,e[8]=g):g=e[8],g};import{c as FV}from"react/compiler-runtime";import{jsx as Bt}from"react/jsx-runtime";import"react";import{c as u9}from"react/compiler-runtime";import{jsx as ro,jsxs as Is}from"react/jsx-runtime";import{getTranslation as Gg}from"@payloadcms/translations";import d9,{Fragment as m9}from"react";import{c as a9}from"react/compiler-runtime";import{jsx as Jr,jsxs as Uw,Fragment as l9}from"react/jsx-runtime";import{getTranslation as c9}from"@payloadcms/translations";import"react";import{c as zN}from"react/compiler-runtime";import{jsx as dc,jsxs as HN}from"react/jsx-runtime";import"react";var Pr="pill",WN=t=>{let e=zN(12),{id:o,className:n}=t,r;e[0]!==o?(r={id:o},e[0]=o,e[1]=r):r=e[1];let{attributes:s,isDragging:i,listeners:l,setNodeRef:a,transform:c}=fa(r),u=i&&`${Pr}--is-dragging`,d;e[2]!==n||e[3]!==u?(d=[u,n].filter(Boolean),e[2]=n,e[3]=u,e[4]=d):d=e[4];let f=d.join(" "),m;return e[5]!==s||e[6]!==l||e[7]!==t||e[8]!==a||e[9]!==f||e[10]!==c?(m=dc(Rw,{...t,className:f,elementProps:{...l,...s,ref:a,style:{transform:c}}}),e[5]=s,e[6]=l,e[7]=t,e[8]=a,e[9]=f,e[10]=c,e[11]=m):m=e[11],m},Rw=t=>{let{id:e,alignIcon:o="right","aria-checked":n,"aria-controls":r,"aria-expanded":s,"aria-label":i,children:l,className:a,draggable:c,elementProps:u,icon:d,onClick:f,pillStyle:m="light",rounded:h,size:p="medium",to:g}=t,b=[Pr,`${Pr}--style-${m}`,`${Pr}--size-${p}`,a&&a,g&&`${Pr}--has-link`,(g||f)&&`${Pr}--has-action`,d&&`${Pr}--has-icon`,d&&`${Pr}--align-icon-${o}`,c&&`${Pr}--draggable`,h&&`${Pr}--rounded`].filter(Boolean).join(" "),C="div";return f&&!g&&(C="button"),g&&(C=Vt),HN(C,{...u,"aria-checked":n,"aria-controls":r,"aria-expanded":s,"aria-label":i,className:b,href:g||null,id:e,onClick:f,type:C==="button"?"button":void 0,children:[dc("span",{className:`${Pr}__label`,children:l}),!!d&&dc("span",{className:`${Pr}__icon`,children:d})]})},dt=t=>{let{draggable:e}=t;return e?dc(WN,{...t}):dc(Rw,{...t})};import{useEffect as UN,useState as XN}from"react";function Cm(t,e){let[o,n]=XN(t);return UN(()=>{let r=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(r)}},[t,e]),o}import{c as n9}from"react/compiler-runtime";import{jsx as Vw,jsxs as s9}from"react/jsx-runtime";import Gw from"react";import{jsx as gn,jsxs as Mw}from"react/jsx-runtime";import{getTranslation as wm}from"@payloadcms/translations";import{useEffect as Bw,useMemo as o9,useState as Ow}from"react";import{c as YN}from"react/compiler-runtime";import{jsx as Aw,jsxs as ZN}from"react/jsx-runtime";import"react";var mc="thumbnail-card",Ew=t=>{let e=YN(15),{alignLabel:o,className:n,collection:r,doc:s,label:i,onClick:l,thumbnail:a}=t,{config:c}=H(),{i18n:u}=$(),d=typeof l=="function"&&`${mc}--has-on-click`,f=o&&`${mc}--align-label-${o}`,m;e[0]!==n||e[1]!==d||e[2]!==f?(m=[mc,n,d,f].filter(Boolean),e[0]=n,e[1]=d,e[2]=f,e[3]=m):m=e[3];let h=m.join(" "),p=i;if(!p){let b=s?.filename,C;e[4]!==r||e[5]!==c.admin.dateFormat||e[6]!==s||e[7]!==u||e[8]!==b?(C=jo({collectionConfig:r,data:s,dateFormat:c.admin.dateFormat,fallback:b,i18n:u}),e[4]=r,e[5]=c.admin.dateFormat,e[6]=s,e[7]=u,e[8]=b,e[9]=C):C=e[9],p=C}let g;return e[10]!==h||e[11]!==l||e[12]!==a||e[13]!==p?(g=ZN("button",{className:h,onClick:l,title:p,type:"button",children:[Aw("div",{className:`${mc}__thumbnail`,children:a}),Aw("div",{className:`${mc}__label`,children:p})]}),e[10]=h,e[11]=l,e[12]=a,e[13]=p,e[14]=g):g=e[14],g};import{jsx as zn,jsxs as Nw}from"react/jsx-runtime";import{useState as KN}from"react";var _o=[];for(xm=0;xm<256;++xm)_o.push((xm+256).toString(16).slice(1));var xm;function Pw(t,e=0){return(_o[t[e+0]]+_o[t[e+1]]+_o[t[e+2]]+_o[t[e+3]]+"-"+_o[t[e+4]]+_o[t[e+5]]+"-"+_o[t[e+6]]+_o[t[e+7]]+"-"+_o[t[e+8]]+_o[t[e+9]]+"-"+_o[t[e+10]]+_o[t[e+11]]+_o[t[e+12]]+_o[t[e+13]]+_o[t[e+14]]+_o[t[e+15]]).toLowerCase()}var ym,JN=new Uint8Array(16);function Mg(){if(!ym&&(ym=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ym))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ym(JN)}var qN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Bg={randomUUID:qN};function QN(t,e,o){if(Bg.randomUUID&&!e&&!t)return Bg.randomUUID();t=t||{};var n=t.random||(t.rng||Mg)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){o=o||0;for(var r=0;r<16;++r)e[o+r]=n[r];return e}return Pw(n)}var Gn=QN;var Og=()=>{let[t]=KN(()=>`pattern${Gn()}`);return Nw("svg",{fill:"none",height:"151",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 231 151",width:"231",xmlns:"http://www.w3.org/2000/svg",children:[Nw("g",{clipPath:`url(#${t})`,children:[zn("rect",{fill:"#D9D9D9",height:"100%",rx:"2",width:"100%"}),zn("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 33.7051 79.3051)",width:"85.8593",x:"33.7051",y:"79.3051"}),zn("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 86.1219 92.6272)",width:"85.8593",x:"86.1219",y:"92.6272"}),zn("circle",{cx:"189",cy:"45",fill:"#BCBCBC",r:"19"}),zn("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"98",x:"66",y:"70"}),zn("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"76",x:"77",y:"82"})]}),zn("defs",{children:zn("clipPath",{id:`${t}`,children:zn("rect",{fill:"white",height:"151",width:"231"})})})]})};import{c as e9}from"react/compiler-runtime";import{jsx as Lw,jsxs as t9}from"react/jsx-runtime";import"react";import{jsx as $w}from"react/jsx-runtime";import"react";var vi=()=>$w("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:$w("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})});var kw="block-search",jw=t=>{let e=e9(5),{setSearchTerm:o}=t,{t:n}=$(),r;e[0]!==o?(r=l=>{o(l.target.value)},e[0]=o,e[1]=r):r=e[1];let s=r,i;return e[2]!==s||e[3]!==n?(i=t9("div",{className:kw,children:[Lw("input",{className:`${kw}__input`,onChange:s,placeholder:n("fields:searchForBlock")}),Lw(vi,{})]}),e[2]=s,e[3]=n,e[4]=i):i=e[4],i};var ws="blocks-drawer",r9=(t,e)=>typeof t.labels.singular=="string"?t.labels.singular.toLowerCase():typeof t.labels.singular=="object"?wm(t.labels.singular,e).toLowerCase():"",fc=t=>{let{addRow:e,addRowIndex:o,blocks:n,drawerSlug:r,labels:s}=t,[i,l]=Ow(""),[a,c]=Ow(n),{closeModal:u,isModalOpen:d}=le(),{i18n:f,t:m}=$(),{config:h}=H(),p=o9(()=>{let g={_none:[]};return a.forEach(b=>{if(typeof b=="object"&&b.admin?.group){let C=b.admin.group,v=typeof C=="string"?C:wm(C,f);Object.hasOwn(g,v)?g[v].push(b):g[v]=[b]}else g._none.push(b)}),g},[a,f]);return Bw(()=>{d(r)||l("")},[d,r]),Bw(()=>{let g=i.toLowerCase(),b=n?.reduce((C,v)=>{let x=typeof v=="string"?h.blocksMap[v]:v;return r9(x,f).includes(g)&&C.push(x),C},[]);c(b)},[i,n,f,h.blocksMap]),Mw($t,{slug:r,title:m("fields:addLabel",{label:wm(s.singular,f)}),children:[gn(jw,{setSearchTerm:l}),gn("div",{className:`${ws}__blocks-wrapper`,children:gn("ul",{className:`${ws}__block-groups`,children:Object.entries(p).map(([g,b])=>b.length?Mw("li",{className:[`${ws}__block-group`,g==="_none"&&`${ws}__block-group-none`].filter(Boolean).join(" "),children:[g!=="_none"&&gn("h3",{className:`${ws}__block-group-label`,children:g}),gn("ul",{className:`${ws}__blocks`,children:b.map((C,v)=>{let x=typeof C=="string"?h.blocksMap[C]:C,{slug:y,imageAltText:I,imageURL:w,labels:D}=x;return gn("li",{className:`${ws}__block`,children:gn(Ew,{alignLabel:"center",label:wm(D?.singular,f),onClick:()=>{e(o,y),u(r)},thumbnail:gn("div",{className:`${ws}__default-image`,children:w?gn("img",{alt:I,src:w}):gn(Og,{})})})},v)})})]},g):null)})})]})};var zw=t=>{let e=n9(26),{addRow:o,blocks:n,blockType:r,duplicateRow:s,hasMaxRows:i,isSortable:l,labels:a,moveRow:c,removeRow:u,rowCount:d,rowIndex:f}=t,{closeModal:m,openModal:h}=le(),p=ql("blocks-drawer"),[g,b]=Gw.useState(null),C;e[0]!==o||e[1]!==m||e[2]!==p||e[3]!==g?(C=(x,y)=>{typeof o=="function"&&o(g,y),m(p)},e[0]=o,e[1]=m,e[2]=p,e[3]=g,e[4]=C):C=e[4];let v;if(e[5]!==r||e[6]!==n||e[7]!==p||e[8]!==s||e[9]!==i||e[10]!==l||e[11]!==a||e[12]!==c||e[13]!==h||e[14]!==u||e[15]!==d||e[16]!==f||e[17]!==C){let x;e[19]!==p||e[20]!==h?(x=I=>{b(I),h(p)},e[19]=p,e[20]=h,e[21]=x):x=e[21];let y;e[22]!==r||e[23]!==s||e[24]!==f?(y=()=>s(f,r),e[22]=r,e[23]=s,e[24]=f,e[25]=y):y=e[25],v=s9(Gw.Fragment,{children:[Vw(fc,{addRow:C,addRowIndex:f,blocks:n,drawerSlug:p,labels:a}),Vw(bm,{addRow:x,duplicateRow:y,hasMaxRows:i,index:f,isSortable:l,moveRow:c,removeRow:u,rowCount:d})]}),e[5]=r,e[6]=n,e[7]=p,e[8]=s,e[9]=i,e[10]=l,e[11]=a,e[12]=c,e[13]=h,e[14]=u,e[15]=d,e[16]=f,e[17]=C,e[18]=v}else v=e[18];return v};import{c as i9}from"react/compiler-runtime";import{jsx as Hw}from"react/jsx-runtime";import"react";var Ww="section-title",Vg=t=>{let e=i9(14),{customOnChange:o,customValue:n,path:r,readOnly:s}=t,i;e[0]!==r?(i={path:r},e[0]=r,e[1]=i):i=e[1];let{setValue:l,value:a}=$e(i),{t:c}=$(),u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=[Ww].filter(Boolean),e[2]=u):u=e[2];let d=u.join(" "),f;e[3]!==o||e[4]!==l?(f=o||(g=>{g.stopPropagation(),g.preventDefault(),l(g.target.value)}),e[3]=o,e[4]=l,e[5]=f):f=e[5];let m=f,h=n||a,p;return e[6]!==n||e[7]!==m||e[8]!==r||e[9]!==s||e[10]!==c||e[11]!==h||e[12]!==a?(p=Hw("div",{className:d,"data-value":h,children:Hw("input",{className:`${Ww}__input`,id:r,name:r,onChange:m,placeholder:c("general:untitled"),readOnly:s,type:"text",value:n||a||""})}),e[6]=n,e[7]=m,e[8]=r,e[9]=s,e[10]=c,e[11]=h,e[12]=a,e[13]=p):p=e[13],p};var Ss="blocks-field",Xw=t=>{let e=a9(40),{addRow:o,attributes:n,block:r,blocks:s,duplicateRow:i,errorCount:l,fields:a,hasMaxRows:c,isLoading:u,isSortable:d,Label:f,labels:m,listeners:h,moveRow:p,parentPath:g,path:b,permissions:C,readOnly:v,removeRow:x,row:y,rowCount:I,rowIndex:w,schemaPath:D,setCollapse:_,setNodeRef:R,transform:T}=t,S=Cm(u,500),{i18n:F}=$(),P=to()&&l>0,E=!r.admin?.disableBlockName,k=P?`${Ss}__row--has-errors`:`${Ss}__row--no-errors`,M;e[0]!==k?(M=[`${Ss}__row`,k].filter(Boolean),e[0]=k,e[1]=M):M=e[1];let N=M.join(" "),L;if(C===!0)L=!0;else{let B=C?.blocks?.[r.slug];B===!0?L=!0:L=B?.fields}let O=`${g?.split(".").join("-")}-row-${w}`,j;if(e[2]!==f||e[3]!==o||e[4]!==n||e[5]!==r.fields||e[6]!==r.labels||e[7]!==L||e[8]!==s||e[9]!==N||e[10]!==i||e[11]!==l||e[12]!==P||e[13]!==a||e[14]!==c||e[15]!==F||e[16]!==S||e[17]!==d||e[18]!==m||e[19]!==h||e[20]!==p||e[21]!==g||e[22]!==b||e[23]!==v||e[24]!==x||e[25]!==y.blockType||e[26]!==y.collapsed||e[27]!==y.id||e[28]!==I||e[29]!==w||e[30]!==D||e[31]!==_||e[32]!==R||e[33]!==E||e[34]!==O||e[35]!==T){let B;e[37]!==y.id||e[38]!==_?(B=V=>_(y.id,V),e[37]=y.id,e[38]=_,e[39]=B):B=e[39],j=Jr("div",{id:O,ref:R,style:{transform:T},children:Jr(bi,{actions:v?void 0:Jr(zw,{addRow:o,blocks:s,blockType:y.blockType,duplicateRow:i,fields:r.fields,hasMaxRows:c,isSortable:d,labels:m,moveRow:p,removeRow:x,rowCount:I,rowIndex:w}),className:N,collapsibleStyle:P?"error":"default",dragHandleProps:d?{id:y.id,attributes:n,listeners:h}:void 0,header:S?Jr(Nt,{height:"1rem",width:"8rem"}):Uw("div",{className:`${Ss}__block-header`,children:[Jr(An,{CustomComponent:f,label:Uw(l9,{children:[Jr("span",{className:`${Ss}__block-number`,children:String(w+1).padStart(2,"0")}),Jr(dt,{className:`${Ss}__block-pill ${Ss}__block-pill-${y.blockType}`,pillStyle:"white",size:"small",children:c9(r.labels.singular,F)}),E&&Jr(Vg,{path:`${b}.blockName`,readOnly:v})]}),path:b,rowNumber:w}),P&&Jr(go,{count:l,i18n:F,withMessage:!0})]}),isCollapsed:y.collapsed,onToggle:B,children:S?Jr(Nt,{}):Jr(Do,{className:`${Ss}__fields`,fields:a,margins:"small",parentIndexPath:"",parentPath:b,parentSchemaPath:D,permissions:L,readOnly:v})},y.id)},`${g}-row-${w}`),e[2]=f,e[3]=o,e[4]=n,e[5]=r.fields,e[6]=r.labels,e[7]=L,e[8]=s,e[9]=N,e[10]=i,e[11]=l,e[12]=P,e[13]=a,e[14]=c,e[15]=F,e[16]=S,e[17]=d,e[18]=m,e[19]=h,e[20]=p,e[21]=g,e[22]=b,e[23]=v,e[24]=x,e[25]=y.blockType,e[26]=y.collapsed,e[27]=y.id,e[28]=I,e[29]=w,e[30]=D,e[31]=_,e[32]=R,e[33]=E,e[34]=O,e[35]=T,e[36]=j}else j=e[36];return j};var qr="blocks-field",f9=t=>{let e=u9(50),{i18n:o,t:n}=$(),{field:r,path:s,permissions:i,readOnly:l,schemaPath:a,validate:c}=t,{name:u,admin:d,blockReferences:f,blocks:m,label:h,labels:p,localized:g,maxRows:b,minRows:C,required:v}=r,x;e[0]!==d?(x=d===void 0?{}:d,e[0]=d,e[1]=x):x=e[1];let{className:y,description:I,isSortable:w}=x,D=w===void 0?!0:w,_=a??u,R=C??v?1:0,{setDocFieldPreferences:T}=Pe(),{addFieldRow:S,dispatchFields:F,moveFieldRow:A,removeFieldRow:P,setModified:E}=Be(),{code:k}=Ie(),{config:M,config:N}=H(),{localization:L}=M,O=ql("blocks-drawer"),j=to(),B={plural:n("fields:blocks"),singular:n("fields:block"),...p},V;e:{if(L&&L.fallback){let J=L.defaultLocale;V=k===J;break e}V=!0}let G=V,z;e[2]!==G||e[3]!==b||e[4]!==R||e[5]!==v||e[6]!==c?(z=(J,re)=>{if(!G&&J===null)return!0;if(typeof c=="function")return c(J,{...re,maxRows:b,minRows:R,required:v})},e[2]=G,e[3]=b,e[4]=R,e[5]=v,e[6]=c,e[7]=z):z=e[7];let Y=z,Q;e[8]!==Y||e[9]!==s?(Q={hasRows:!0,potentiallyStalePath:s,validate:Y},e[8]=Y,e[9]=s,e[10]=Q):Q=e[10];let{customComponents:Z,disabled:X,errorPaths:q,path:W,rows:ee,showError:pe,valid:ae,value:Se}=$e(Q),K;e[11]!==Z?(K=Z===void 0?{}:Z,e[11]=Z,e[12]=K):K=e[12];let{AfterInput:se,BeforeInput:ge,Description:ye,Error:oe,Label:fe}=K,he;e[13]!==ee?(he=ee===void 0?[]:ee,e[13]=ee,e[14]=he):he=e[14];let ie=he,de;e[15]!==S||e[16]!==W||e[17]!==_?(de=(J,re)=>{S({blockType:re,path:W,rowIndex:J,schemaPath:_}),setTimeout(()=>{Ia(`${W}-row-${J+1}`)},0)},e[15]=S,e[16]=W,e[17]=_,e[18]=de):de=e[18];let U=de,ne;e[19]!==F||e[20]!==W||e[21]!==E?(ne=J=>{F({type:"DUPLICATE_ROW",path:W,rowIndex:J}),E(!0),setTimeout(()=>{Ia(`${W}-row-${J+1}`)},0)},e[19]=F,e[20]=W,e[21]=E,e[22]=ne):ne=e[22];let ve=ne,Ne;e[23]!==W||e[24]!==P?(Ne=J=>{P({path:W,rowIndex:J})},e[23]=W,e[24]=P,e[25]=Ne):Ne=e[25];let Me=Ne,Le;e[26]!==A||e[27]!==W?(Le=(J,re)=>{A({moveFromIndex:J,moveToIndex:re,path:W})},e[26]=A,e[27]=W,e[28]=Le):Le=e[28];let ct=Le,vt;e[29]!==F||e[30]!==W||e[31]!==ie||e[32]!==T?(vt=J=>{let{collapsedIDs:re,updatedRows:Ce}=um({collapsed:J,rows:ie});F({type:"SET_ALL_ROWS_COLLAPSED",path:W,updatedRows:Ce}),T(W,{collapsed:re})},e[29]=F,e[30]=W,e[31]=ie,e[32]=T,e[33]=vt):vt=e[33];let Xe=vt,We;e[34]!==F||e[35]!==W||e[36]!==ie||e[37]!==T?(We=(J,re)=>{let{collapsedIDs:Ce,updatedRows:xe}=cm({collapsed:re,rowID:J,rows:ie});F({type:"SET_ROW_COLLAPSED",path:W,updatedRows:xe}),T(W,{collapsed:Ce})},e[34]=F,e[35]=W,e[36]=ie,e[37]=T,e[38]=We):We=e[38];let ho=We,qe=b&&ie.length>=b,Ke=q.length,Qe=j&&Ke+(ae?0:1)>0,St=ie.length<R||v&&ie.length===0,Pt=l&&ie.length===0,Ct=Qe?`${qr}--has-error`:`${qr}--has-no-error`,Ze;e[39]!==y||e[40]!==Ct?(Ze=[Te,qr,y,Ct].filter(Boolean),e[39]=y,e[40]=Ct,e[41]=Ze):Ze=e[41];let be;e[42]!==oe||e[43]!==W||e[44]!==pe?(be=pe&&ro(me,{CustomComponent:oe,Fallback:ro(Ue,{path:W,showError:pe})}),e[42]=oe,e[43]=W,e[44]=pe,e[45]=be):be=e[45];let ce;return e[46]!==Ke||e[47]!==Qe||e[48]!==o?(ce=Qe&&Ke>0&&ro(go,{count:Ke,i18n:o,withMessage:!0}),e[46]=Ke,e[47]=Qe,e[48]=o,e[49]=ce):ce=e[49],Is("div",{className:Ze.join(" "),id:`field-${W?.replace(/\./g,"__")}`,children:[be,Is("header",{className:`${qr}__header`,children:[Is("div",{className:`${qr}__header-wrap`,children:[Is("div",{className:`${qr}__heading-with-error`,children:[ro("h3",{children:ro(me,{CustomComponent:fe,Fallback:ro(we,{label:h,localized:g,path:W,required:v})})}),ce]}),ie.length>0&&Is("ul",{className:`${qr}__header-actions`,children:[ro("li",{children:ro("button",{className:`${qr}__header-action`,onClick:()=>Xe(!0),type:"button",children:n("fields:collapseAll")})}),ro("li",{children:ro("button",{className:`${qr}__header-action`,onClick:()=>Xe(!1),type:"button",children:n("fields:showAll")})})]})]}),ro(me,{CustomComponent:ye,Fallback:ro(He,{description:I,path:W})})]}),ge,ro(cc,{fieldValue:Se,localized:g,path:W}),(ie.length>0||!ae&&(Pt||St))&&Is(Fr,{className:`${qr}__rows`,ids:ie.map(p9),onDragEnd:J=>{let{moveFromIndex:re,moveToIndex:Ce}=J;return ct(re,Ce)},children:[ie.map((J,re)=>{let{blockType:Ce,isLoading:xe}=J,ke=N.blocksMap[Ce]??(f??m).find(je=>typeof je!="string"&&je.slug===Ce);if(ke){let je=`${W}.${re}`,Ge=q.filter(Oe=>Oe.startsWith(je+".")).length;return ro(pn,{disabled:l||X||!D,id:J.id,children:Oe=>ro(Xw,{...Oe,addRow:U,block:ke,blocks:f??m,duplicateRow:ve,errorCount:Ge,fields:ke.fields,hasMaxRows:qe,isLoading:xe,isSortable:D,Label:ie?.[re]?.customComponents?.RowLabel,labels:B,moveRow:ct,parentPath:W,path:je,permissions:i,readOnly:l||X,removeRow:Me,row:J,rowCount:ie.length,rowIndex:re,schemaPath:_+ke.slug,setCollapse:ho})},J.id)}return null}),!G&&Is(d9.Fragment,{children:[St&&ro(Hr,{type:"error",children:n("validation:requiresAtLeast",{count:R,label:Gg(R>1?B.plural:B.singular,o)||n(R>1?"general:row":"general:rows")})}),Pt&&ro(Hr,{children:n("validation:fieldHasNo",{label:Gg(B.plural,o)})})]})]}),!qe&&Is(m9,{children:[ro(kn,{className:`${qr}__drawer-toggler`,disabled:l||X,slug:O,children:ro(te,{buttonStyle:"icon-label",disabled:l||X,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:n("fields:addLabel",{label:Gg(B.singular,o)})})}),ro(fc,{addRow:U,addRowIndex:ie?.length||0,blocks:f??m,drawerSlug:O,labels:B})]}),se]})},pc=Ve(f9);function p9(t){return t.id}import{jsx as Ci,jsxs as Yw}from"react/jsx-runtime";import{useCallback as v9,useMemo as C9}from"react";import{jsx as zg}from"react/jsx-runtime";import{lazy as h9,Suspense as g9}from"react";var b9=h9(()=>import("./CodeEditor-Z3ZZJH7C.js")),hc=t=>zg(g9,{fallback:zg(Nt,{}),children:zg(b9,{...t})});var x9={js:"javascript",ts:"typescript"},y9="code-field",w9=t=>{let{field:e,field:{admin:{className:o,description:n,editorOptions:r={},language:s="javascript"}={},label:i,localized:l,required:a},onMount:c,path:u,readOnly:d,validate:f}=t,m=v9((_,R)=>{if(typeof f=="function")return f(_,{...R,required:a})},[f,a]),{customComponents:{AfterInput:h,BeforeInput:p,Description:g,Error:b,Label:C}={},disabled:v,path:x,setValue:y,showError:I,value:w}=$e({potentiallyStalePath:u,validate:m}),D=C9(()=>st(e),[e]);return Yw("div",{className:[Te,y9,o,I&&"error",(d||v)&&"read-only"].filter(Boolean).join(" "),style:D,children:[Ci(me,{CustomComponent:C,Fallback:Ci(we,{label:i,localized:l,path:x,required:a})}),Yw("div",{className:`${Te}__wrap`,children:[Ci(me,{CustomComponent:b,Fallback:Ci(Ue,{path:x,showError:I})}),p,Ci(hc,{defaultLanguage:x9[s]||s,onChange:d||v?()=>null:_=>y(_),onMount:c,options:r,readOnly:d||v,value:w||""}),h]}),Ci(me,{CustomComponent:g,Fallback:Ci(He,{description:n,path:x})})]})},gc=Ve(w9);import{jsx as yi,jsxs as Hg}from"react/jsx-runtime";import{getTranslation as I9}from"@payloadcms/translations";import{Fragment as _9,useCallback as D9,useEffect as F9,useMemo as T9,useState as Jw}from"react";import{c as S9}from"react/compiler-runtime";import{fieldAffectsData as Zw}from"payload/shared";var Sm=t=>t.reduce((e,o)=>{let n="fields"in o?o.fields:void 0;return n?Zw(o)?e.push(`${o.name}.`):e.push(...Sm(n)):o.type==="tabs"?"tabs"in o&&o.tabs?.forEach(r=>{"name"in r?e.push(`${r.name}.`):e.push(...Sm(r.fields))}):Zw(o)&&e.push(o.name),e},[]);var xi=t=>{let e=S9(12),{fields:o,path:n,setErrorCount:r}=t,[s]=ua(),i=to(),l;e[0]!==o?(l=Sm(o),e[0]=o,e[1]=l):l=e[1];let a=l,c;e[2]!==s||e[3]!==i||e[4]!==n||e[5]!==a||e[6]!==r?(c=()=>{if(i){let d=0;Object.entries(s).forEach(f=>{let[m]=f;if(a?.some(p=>{let g=[...n,p].join(".");return g.endsWith(".")?m.startsWith(g):m===g})){let p=s[m];"valid"in p&&!p.valid&&(d=d+1)}}),r(d)}},e[2]=s,e[3]=i,e[4]=n,e[5]=a,e[6]=r,e[7]=c):c=e[7];let u;return e[8]!==o||e[9]!==s||e[10]!==i?(u=[s,i,o],e[8]=o,e[9]=s,e[10]=i,e[11]=u):u=e[11],mi(c,250,u),null};var bc="collapsible-field",R9=t=>{let{field:e,field:{admin:{className:o,description:n,initCollapsed:r=!1}={},fields:s,label:i}={},indexPath:l,parentPath:a,parentSchemaPath:c,path:u,permissions:d,readOnly:f}=t,{i18n:m}=$(),{getPreference:h,setPreference:p}=mo(),{preferencesKey:g}=Pe(),[b,C]=Jw(),v=`collapsible-${u?.replace(/\./g,"__")}`,[x,y]=Jw(0),I=x>0,{customComponents:{AfterInput:w,BeforeInput:D,Description:_,Label:R}={},disabled:T}=$e({path:u}),S=D9(async A=>{let P=await h(g);g&&p(g,{...P,...u?{fields:{...P?.fields||{},[u]:{...P?.fields?.[u],collapsed:A}}}:{fields:{...P?.fields||{},[v]:{...P?.fields?.[v],collapsed:A}}}})},[g,v,h,p,u]);F9(()=>{(async()=>{if(g){let P=await h(g),E=u?P?.fields?.[u]?.collapsed:P?.fields?.[v]?.collapsed;C(E!==void 0?!!E:typeof r=="boolean"?r:!1)}else C(typeof r=="boolean"?r:!1)})()},[h,g,v,r,u]);let F=T9(()=>st(e),[e]);return typeof b!="boolean"?null:Hg(_9,{children:[yi(xi,{fields:s,path:u.split(".").slice(0,-1),setErrorCount:y}),Hg("div",{className:[Te,bc,o,I?`${bc}--has-error`:`${bc}--has-no-error`].filter(Boolean).join(" "),id:`field-${v}`,style:F,children:[D,yi(bi,{className:`${bc}__collapsible`,collapsibleStyle:I?"error":"default",header:Hg("div",{className:`${bc}__row-label-wrap`,children:[yi(An,{CustomComponent:R,label:I9(i,m),path:u}),I&&yi(go,{count:x,i18n:m,withMessage:!0})]}),initCollapsed:b,onToggle:S,children:yi(Do,{fields:s,margins:"small",parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:d,readOnly:f||T})}),w,yi(me,{CustomComponent:_,Fallback:yi(He,{description:n,path:u})})]})]})},vc=Ve(R9);import{jsx as Ts,jsxs as VS}from"react/jsx-runtime";import{getTranslation as Fk}from"@payloadcms/translations";import{useCallback as N1,useMemo as GS}from"react";import{jsx as Wg}from"react/jsx-runtime";import{lazy as A9,Suspense as E9}from"react";var P9=A9(()=>import("./DatePicker-QBWPYX2E.js")),Da=t=>Wg(E9,{fallback:Wg(Nt,{height:50}),children:Wg(P9,{...t})});import{jsx as OS,jsxs as _k}from"react/jsx-runtime";import{useMemo as Dk}from"react";import{jsx as Di}from"react/jsx-runtime";import{getTranslation as jS}from"@payloadcms/translations";import MS,{useEffect as yk,useId as wk}from"react";function Qr(t){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(t)}function qw(t,e){if(Qr(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(Qr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Im(t){var e=qw(t,"string");return Qr(e)=="symbol"?e:e+""}function wi(t,e,o){return(e=Im(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Qw(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,n)}return o}function Ae(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Qw(Object(o),!0).forEach(function(n){wi(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Qw(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function Kw(t){if(Array.isArray(t))return t}function e2(t,e){var o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var n,r,s,i,l=[],a=!0,c=!1;try{if(s=(o=o.call(t)).next,e===0){if(Object(o)!==o)return;a=!1}else for(;!(a=(n=s.call(o)).done)&&(l.push(n.value),l.length!==e);a=!0);}catch(u){c=!0,r=u}finally{try{if(!a&&o.return!=null&&(i=o.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}function Cc(t,e){(e==null||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}function _m(t,e){if(t){if(typeof t=="string")return Cc(t,e);var o={}.toString.call(t).slice(8,-1);return o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set"?Array.from(t):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Cc(t,e):void 0}}function t2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kr(t,e){return Kw(t)||e2(t,e)||_m(t,e)||t2()}function qo(t,e){if(t==null)return{};var o,n,r=pa(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)o=s[n],e.includes(o)||{}.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}import{useState as Ug,useCallback as Dm}from"react";var N9=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Fm(t){var e=t.defaultInputValue,o=e===void 0?"":e,n=t.defaultMenuIsOpen,r=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,a=t.menuIsOpen,c=t.onChange,u=t.onInputChange,d=t.onMenuClose,f=t.onMenuOpen,m=t.value,h=qo(t,N9),p=Ug(l!==void 0?l:o),g=Kr(p,2),b=g[0],C=g[1],v=Ug(a!==void 0?a:r),x=Kr(v,2),y=x[0],I=x[1],w=Ug(m!==void 0?m:i),D=Kr(w,2),_=D[0],R=D[1],T=Dm(function(M,N){typeof c=="function"&&c(M,N),R(M)},[c]),S=Dm(function(M,N){var L;typeof u=="function"&&(L=u(M,N)),C(L!==void 0?L:M)},[u]),F=Dm(function(){typeof f=="function"&&f(),I(!0)},[f]),A=Dm(function(){typeof d=="function"&&d(),I(!1)},[d]),P=l!==void 0?l:b,E=a!==void 0?a:y,k=m!==void 0?m:_;return Ae(Ae({},h),{},{inputValue:P,menuIsOpen:E,onChange:T,onInputChange:S,onMenuClose:A,onMenuOpen:F,value:k})}import*as gS from"react";import{forwardRef as rk,useMemo as Ife}from"react";function o2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r2(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Im(n.key),n)}}function n2(t,e,o){return e&&r2(t.prototype,e),o&&r2(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function s2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ha(t,e)}function xc(t){return xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xc(t)}function Xg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xg=function(){return!!t})()}function i2(t,e){if(e&&(Qr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kx(t)}function a2(t){var e=Xg();return function(){var o,n=xc(t);if(e){var r=xc(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return i2(this,o)}}function l2(t){if(Array.isArray(t))return Cc(t)}function c2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _s(t){return l2(t)||c2(t)||_m(t)||u2()}import*as ut from"react";import{useMemo as Rc,Fragment as g1,useRef as Oa,useCallback as Fs,useEffect as sS,Component as CL}from"react";import*as $r from"react";import{useContext as d$,forwardRef as m$}from"react";var $9=!1;function L9(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function k9(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var d2=function(){function t(o){var n=this;this._insertTag=function(r){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,s),n.tags.push(r)},this.isSpeedy=o.speedy===void 0?!$9:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(k9(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=L9(r);try{s.insertRule(n,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},t}();var Fo="-ms-",yc="-moz-",it="-webkit-",Tm="comm",Fa="rule",Ta="decl";var m2="@import";var Rm="@keyframes";var f2="@layer";var p2=Math.abs,Si=String.fromCharCode,h2=Object.assign;function g2(t,e){return Zt(t,0)^45?(((e<<2^Zt(t,0))<<2^Zt(t,1))<<2^Zt(t,2))<<2^Zt(t,3):0}function Am(t){return t.trim()}function Yg(t,e){return(t=e.exec(t))?t[0]:t}function rt(t,e,o){return t.replace(e,o)}function wc(t,e){return t.indexOf(e)}function Zt(t,e){return t.charCodeAt(e)|0}function Ds(t,e,o){return t.slice(e,o)}function Mo(t){return t.length}function Ra(t){return t.length}function Aa(t,e){return e.push(t),t}function Zg(t,e){return t.map(e).join("")}var Em=1,Ea=1,b2=0,Bo=0,no=0,Na="";function Sc(t,e,o,n,r,s,i){return{value:t,root:e,parent:o,type:n,props:r,children:s,line:Em,column:Ea,length:i,return:""}}function $a(t,e){return h2(Sc("",null,null,"",null,null,0),t,{length:-t.length},e)}function v2(){return no}function C2(){return no=Bo>0?Zt(Na,--Bo):0,Ea--,no===10&&(Ea=1,Em--),no}function Oo(){return no=Bo<b2?Zt(Na,Bo++):0,Ea++,no===10&&(Ea=1,Em++),no}function Nr(){return Zt(Na,Bo)}function Ic(){return Bo}function La(t,e){return Ds(Na,t,e)}function Pa(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Pm(t){return Em=Ea=1,b2=Mo(Na=t),Bo=0,[]}function Nm(t){return Na="",t}function ka(t){return Am(La(Bo-1,Jg(t===91?t+2:t===40?t+1:t)))}function x2(t){for(;(no=Nr())&&no<33;)Oo();return Pa(t)>2||Pa(no)>3?"":" "}function y2(t,e){for(;--e&&Oo()&&!(no<48||no>102||no>57&&no<65||no>70&&no<97););return La(t,Ic()+(e<6&&Nr()==32&&Oo()==32))}function Jg(t){for(;Oo();)switch(no){case t:return Bo;case 34:case 39:t!==34&&t!==39&&Jg(no);break;case 40:t===41&&Jg(t);break;case 92:Oo();break}return Bo}function w2(t,e){for(;Oo()&&t+no!==57;)if(t+no===84&&Nr()===47)break;return"/*"+La(e,Bo-1)+"*"+Si(t===47?t:Oo())}function S2(t){for(;!Pa(Nr());)Oo();return La(t,Bo)}function D2(t){return Nm($m("",null,null,null,[""],t=Pm(t),0,[0],t))}function $m(t,e,o,n,r,s,i,l,a){for(var c=0,u=0,d=i,f=0,m=0,h=0,p=1,g=1,b=1,C=0,v="",x=r,y=s,I=n,w=v;g;)switch(h=C,C=Oo()){case 40:if(h!=108&&Zt(w,d-1)==58){wc(w+=rt(ka(C),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:w+=ka(C);break;case 9:case 10:case 13:case 32:w+=x2(h);break;case 92:w+=y2(Ic()-1,7);continue;case 47:switch(Nr()){case 42:case 47:Aa(j9(w2(Oo(),Ic()),e,o),a);break;default:w+="/"}break;case 123*p:l[c++]=Mo(w)*b;case 125*p:case 59:case 0:switch(C){case 0:case 125:g=0;case 59+u:b==-1&&(w=rt(w,/\f/g,"")),m>0&&Mo(w)-d&&Aa(m>32?_2(w+";",n,o,d-1):_2(rt(w," ","")+";",n,o,d-2),a);break;case 59:w+=";";default:if(Aa(I=I2(w,e,o,c,u,r,l,v,x=[],y=[],d),s),C===123)if(u===0)$m(w,e,I,I,x,s,d,l,y);else switch(f===99&&Zt(w,3)===110?100:f){case 100:case 108:case 109:case 115:$m(t,I,I,n&&Aa(I2(t,I,I,0,0,r,l,v,r,x=[],d),y),r,y,d,l,n?x:y);break;default:$m(w,I,I,I,[""],y,0,l,y)}}c=u=m=0,p=b=1,v=w="",d=i;break;case 58:d=1+Mo(w),m=h;default:if(p<1){if(C==123)--p;else if(C==125&&p++==0&&C2()==125)continue}switch(w+=Si(C),C*p){case 38:b=u>0?1:(w+="\f",-1);break;case 44:l[c++]=(Mo(w)-1)*b,b=1;break;case 64:Nr()===45&&(w+=ka(Oo())),f=Nr(),u=d=Mo(v=w+=S2(Ic())),C++;break;case 45:h===45&&Mo(w)==2&&(p=0)}}return s}function I2(t,e,o,n,r,s,i,l,a,c,u){for(var d=r-1,f=r===0?s:[""],m=Ra(f),h=0,p=0,g=0;h<n;++h)for(var b=0,C=Ds(t,d+1,d=p2(p=i[h])),v=t;b<m;++b)(v=Am(p>0?f[b]+" "+C:rt(C,/&\f/g,f[b])))&&(a[g++]=v);return Sc(t,e,o,r===0?Fa:l,a,c,u)}function j9(t,e,o){return Sc(t,e,o,Tm,Si(v2()),Ds(t,2,-2),0)}function _2(t,e,o,n){return Sc(t,e,o,Ta,Ds(t,0,n),Ds(t,n+1,-1),n)}function Ii(t,e){for(var o="",n=Ra(t),r=0;r<n;r++)o+=e(t[r],r,t,e)||"";return o}function F2(t,e,o,n){switch(t.type){case f2:if(t.children.length)break;case m2:case Ta:return t.return=t.return||t.value;case Tm:return"";case Rm:return t.return=t.value+"{"+Ii(t.children,n)+"}";case Fa:t.value=t.props.join(",")}return Mo(o=Ii(t.children,n))?t.return=t.value+"{"+o+"}":""}function T2(t){var e=Ra(t);return function(o,n,r,s){for(var i="",l=0;l<e;l++)i+=t[l](o,n,r,s)||"";return i}}function R2(t){return function(e){e.root||(e=e.return)&&t(e)}}function A2(t){var e=Object.create(null);return function(o){return e[o]===void 0&&(e[o]=t(o)),e[o]}}var M9=function(e,o,n){for(var r=0,s=0;r=s,s=Nr(),r===38&&s===12&&(o[n]=1),!Pa(s);)Oo();return La(e,Bo)},B9=function(e,o){var n=-1,r=44;do switch(Pa(r)){case 0:r===38&&Nr()===12&&(o[n]=1),e[n]+=M9(Bo-1,o,n);break;case 2:e[n]+=ka(r);break;case 4:if(r===44){e[++n]=Nr()===58?"&\f":"",o[n]=e[n].length;break}default:e[n]+=Si(r)}while(r=Oo());return e},O9=function(e,o){return Nm(B9(Pm(e),o))},E2=new WeakMap,V9=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var o=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&o.charCodeAt(0)!==58&&!E2.get(n))&&!r){E2.set(e,!0);for(var s=[],i=O9(o,s),l=n.props,a=0,c=0;a<i.length;a++)for(var u=0;u<l.length;u++,c++)e.props[c]=s[a]?i[a].replace(/&\f/g,l[u]):l[u]+" "+i[a]}}},G9=function(e){if(e.type==="decl"){var o=e.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(e.return="",e.value="")}};function P2(t,e){switch(g2(t,e)){case 5103:return it+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return it+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return it+t+yc+t+Fo+t+t;case 6828:case 4268:return it+t+Fo+t+t;case 6165:return it+t+Fo+"flex-"+t+t;case 5187:return it+t+rt(t,/(\w+).+(:[^]+)/,it+"box-$1$2"+Fo+"flex-$1$2")+t;case 5443:return it+t+Fo+"flex-item-"+rt(t,/flex-|-self/,"")+t;case 4675:return it+t+Fo+"flex-line-pack"+rt(t,/align-content|flex-|-self/,"")+t;case 5548:return it+t+Fo+rt(t,"shrink","negative")+t;case 5292:return it+t+Fo+rt(t,"basis","preferred-size")+t;case 6060:return it+"box-"+rt(t,"-grow","")+it+t+Fo+rt(t,"grow","positive")+t;case 4554:return it+rt(t,/([^-])(transform)/g,"$1"+it+"$2")+t;case 6187:return rt(rt(rt(t,/(zoom-|grab)/,it+"$1"),/(image-set)/,it+"$1"),t,"")+t;case 5495:case 3959:return rt(t,/(image-set\([^]*)/,it+"$1$`$1");case 4968:return rt(rt(t,/(.+:)(flex-)?(.*)/,it+"box-pack:$3"+Fo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+it+t+t;case 4095:case 3583:case 4068:case 2532:return rt(t,/(.+)-inline(.+)/,it+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mo(t)-1-e>6)switch(Zt(t,e+1)){case 109:if(Zt(t,e+4)!==45)break;case 102:return rt(t,/(.+:)(.+)-([^]+)/,"$1"+it+"$2-$3$1"+yc+(Zt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~wc(t,"stretch")?P2(rt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Zt(t,e+1)!==115)break;case 6444:switch(Zt(t,Mo(t)-3-(~wc(t,"!important")&&10))){case 107:return rt(t,":",":"+it)+t;case 101:return rt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+it+(Zt(t,14)===45?"inline-":"")+"box$3$1"+it+"$2$3$1"+Fo+"$2box$3")+t}break;case 5936:switch(Zt(t,e+11)){case 114:return it+t+Fo+rt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return it+t+Fo+rt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return it+t+Fo+rt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return it+t+Fo+t+t}return t}var z9=function(e,o,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ta:e.return=P2(e.value,e.length);break;case Rm:return Ii([$a(e,{value:rt(e.value,"@","@"+it)})],r);case Fa:if(e.length)return Zg(e.props,function(s){switch(Yg(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ii([$a(e,{props:[rt(s,/:(read-\w+)/,":"+yc+"$1")]})],r);case"::placeholder":return Ii([$a(e,{props:[rt(s,/:(plac\w+)/,":"+it+"input-$1")]}),$a(e,{props:[rt(s,/:(plac\w+)/,":"+yc+"$1")]}),$a(e,{props:[rt(s,/:(plac\w+)/,Fo+"input-$1")]})],r)}return""})}},H9=[z9],qg=function(e){var o=e.key;if(o==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var g=p.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var r=e.stylisPlugins||H9,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(p){for(var g=p.getAttribute("data-emotion").split(" "),b=1;b<g.length;b++)s[g[b]]=!0;l.push(p)});var a,c=[V9,G9];{var u,d=[F2,R2(function(p){u.insert(p)})],f=T2(c.concat(r,d)),m=function(g){return Ii(D2(g),f)};a=function(g,b,C,v){u=C,m(g?g+"{"+b.styles+"}":b.styles),v&&(h.inserted[b.name]=!0)}}var h={key:o,sheet:new d2({key:o,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return h.sheet.hydrate(l),h};var r$=!0;function r1(t,e,o){var n="";return o.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(n+=r+" ")}),n}var Wm=function(e,o,n){var r=e.key+"-"+o.name;(n===!1||r$===!1)&&e.registered[r]===void 0&&(e.registered[r]=o.styles)},n1=function(e,o,n){Wm(e,o,n);var r=e.key+"-"+o.name;if(e.inserted[o.name]===void 0){var s=o;do e.insert(o===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function H2(t){for(var e=0,o,n=0,r=t.length;r>=4;++n,r-=4)o=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,e=(o&65535)*1540483477+((o>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var W2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var n$=!1,s$=/[A-Z]|^ms/g,i$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Z2=function(e){return e.charCodeAt(1)===45},U2=function(e){return e!=null&&typeof e!="boolean"},s1=A2(function(t){return Z2(t)?t:t.replace(s$,"-$&").toLowerCase()}),X2=function(e,o){switch(e){case"animation":case"animationName":if(typeof o=="string")return o.replace(i$,function(n,r,s){return bn={name:r,styles:s,next:bn},r})}return W2[e]!==1&&!Z2(e)&&typeof o=="number"&&o!==0?o+"px":o},a$="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function _c(t,e,o){if(o==null)return"";var n=o;if(n.__emotion_styles!==void 0)return n;switch(typeof o){case"boolean":return"";case"object":{var r=o;if(r.anim===1)return bn={name:r.name,styles:r.styles,next:bn},r.name;var s=o;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)bn={name:i.name,styles:i.styles,next:bn},i=i.next;var l=s.styles+";";return l}return l$(t,e,o)}case"function":{if(t!==void 0){var a=bn,c=o(t);return bn=a,_c(t,e,c)}break}}var u=o;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function l$(t,e,o){var n="";if(Array.isArray(o))for(var r=0;r<o.length;r++)n+=_c(t,e,o[r])+";";else for(var s in o){var i=o[s];if(typeof i!="object"){var l=i;e!=null&&e[l]!==void 0?n+=s+"{"+e[l]+"}":U2(l)&&(n+=s1(s)+":"+X2(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&n$)throw new Error(a$);if(Array.isArray(i)&&typeof i[0]=="string"&&(e==null||e[i[0]]===void 0))for(var a=0;a<i.length;a++)U2(i[a])&&(n+=s1(s)+":"+X2(s,i[a])+";");else{var c=_c(t,e,i);switch(s){case"animation":case"animationName":{n+=s1(s)+":"+c+";";break}default:n+=s+"{"+c+"}"}}}}return n}var Y2=/label:\s*([^\s;{]+)\s*(;|$)/g,bn;function Um(t,e,o){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,r="";bn=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,r+=_c(o,e,s);else{var i=s;r+=i[0]}for(var l=1;l<t.length;l++)if(r+=_c(o,e,t[l]),n){var a=s;r+=a[l]}Y2.lastIndex=0;for(var c="",u;(u=Y2.exec(r))!==null;)c+="-"+u[1];var d=H2(r)+c;return{name:d,styles:r,next:bn}}import*as Xm from"react";var c$=function(e){return e()},u$=Xm.useInsertionEffect?Xm.useInsertionEffect:!1,i1=u$||c$;var J2=!1,q2=$r.createContext(typeof HTMLElement<"u"?qg({key:"css"}):null),Eme=q2.Provider;var Q2=function(e){return m$(function(o,n){var r=d$(q2);return e(o,r,n)})},K2=$r.createContext({});var Ym={}.hasOwnProperty,a1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",e3=function(e,o){var n={};for(var r in o)Ym.call(o,r)&&(n[r]=o[r]);return n[a1]=e,n},f$=function(e){var o=e.cache,n=e.serialized,r=e.isStringTag;return Wm(o,n,r),i1(function(){return n1(o,n,r)}),null},p$=Q2(function(t,e,o){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var r=t[a1],s=[n],i="";typeof t.className=="string"?i=r1(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=Um(s,void 0,$r.useContext(K2));i+=e.key+"-"+l.name;var a={};for(var c in t)Ym.call(t,c)&&c!=="css"&&c!==a1&&!J2&&(a[c]=t[c]);return a.className=i,o&&(a.ref=o),$r.createElement($r.Fragment,null,$r.createElement(f$,{cache:e,serialized:l,isStringTag:typeof r=="string"}),$r.createElement(r,a))}),t3=p$;import*as ja from"react";var Vme=Ks(z2()),Ee=function(e,o){var n=arguments;if(o==null||!Ym.call(o,"css"))return ja.createElement.apply(void 0,n);var r=n.length,s=new Array(r);s[0]=t3,s[1]=e3(e,o);for(var i=2;i<r;i++)s[i]=n[i];return ja.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ee||(Ee={}));function Dc(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return Um(e)}function o3(){var t=Dc.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function r3(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}YR();import{useContext as g$,useRef as u1,useState as Qm,useMemo as b$,useCallback as l1,createContext as v$}from"react";import{createPortal as C$}from"react-dom";import{useLayoutEffect as h$}from"react";var Zm=h$;var x$=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Fc=function(){};function y$(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function s3(t,e){for(var o=arguments.length,n=new Array(o>2?o-2:0),r=2;r<o;r++)n[r-2]=arguments[r];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(y$(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Ma=function(e){return F$(e)?e.filter(Boolean):Qr(e)==="object"&&e!==null?[e]:[]},i3=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var o=qo(e,x$);return Ae({},o)},zt=function(e,o,n){var r=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(o,e),className:r(n??{},i(o,e),l)}};function Tc(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function w$(t){return Tc(t)?window.innerHeight:t.clientHeight}function a3(t){return Tc(t)?window.pageYOffset:t.scrollTop}function Km(t,e){if(Tc(t)){window.scrollTo(0,e);return}t.scrollTop=e}function S$(t){var e=getComputedStyle(t),o=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var r=t;r=r.parentElement;)if(e=getComputedStyle(r),!(o&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return r;return document.documentElement}function I$(t,e,o,n){return o*((t=t/n-1)*t*t+1)+e}function Jm(t,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Fc,r=a3(t),s=e-r,i=10,l=0;function a(){l+=i;var c=I$(l,r,s,o);Km(t,c),l<o?window.requestAnimationFrame(a):n(t)}a()}function d1(t,e){var o=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=e.offsetHeight/3;n.bottom+r>o.bottom?Km(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+r,t.scrollHeight)):n.top-r<o.top&&Km(t,Math.max(e.offsetTop-r,0))}function _$(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function m1(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function l3(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var c3=!1,D$={get passive(){return c3=!0}},qm=typeof window<"u"?window:{};qm.addEventListener&&qm.removeEventListener&&(qm.addEventListener("p",Fc,D$),qm.removeEventListener("p",Fc,!1));var u3=c3;function d3(t){return t!=null}function F$(t){return Array.isArray(t)}function _i(t,e,o){return t?e:o}var m3=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];var s=Object.entries(e).filter(function(i){var l=Kr(i,1),a=l[0];return!n.includes(a)});return s.reduce(function(i,l){var a=Kr(l,2),c=a[0],u=a[1];return i[c]=u,i},{})},T$=["children","innerProps"],R$=["children","innerProps"];function A$(t){var e=t.maxHeight,o=t.menuEl,n=t.minHeight,r=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,a=S$(o),c={placement:"bottom",maxHeight:e};if(!o||!o.offsetParent)return c;var u=a.getBoundingClientRect(),d=u.height,f=o.getBoundingClientRect(),m=f.bottom,h=f.height,p=f.top,g=o.offsetParent.getBoundingClientRect(),b=g.top,C=i?window.innerHeight:w$(a),v=a3(a),x=parseInt(getComputedStyle(o).marginBottom,10),y=parseInt(getComputedStyle(o).marginTop,10),I=b-y,w=C-p,D=I+v,_=d-v-p,R=m-C+v+x,T=v+p-y,S=160;switch(r){case"auto":case"bottom":if(w>=h)return{placement:"bottom",maxHeight:e};if(_>=h&&!i)return s&&Jm(a,R,S),{placement:"bottom",maxHeight:e};if(!i&&_>=n||i&&w>=n){s&&Jm(a,R,S);var F=i?w-x:_-x;return{placement:"bottom",maxHeight:F}}if(r==="auto"||i){var A=e,P=i?I:D;return P>=n&&(A=Math.min(P-x-l,e)),{placement:"top",maxHeight:A}}if(r==="bottom")return s&&Km(a,R),{placement:"bottom",maxHeight:e};break;case"top":if(I>=h)return{placement:"top",maxHeight:e};if(D>=h&&!i)return s&&Jm(a,T,S),{placement:"top",maxHeight:e};if(!i&&D>=n||i&&I>=n){var E=e;return(!i&&D>=n||i&&I>=n)&&(E=i?I-y:D-y),s&&Jm(a,T,S),{placement:"top",maxHeight:E}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}function E$(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var f3=function(e){return e==="auto"?"bottom":e},p3=function(e,o){var n,r=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,a=s.colors;return Ae((n={label:"menu"},wi(n,E$(r),"100%"),wi(n,"position","absolute"),wi(n,"width","100%"),wi(n,"zIndex",1),n),o?{}:{backgroundColor:a.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},h3=v$(null),g3=function(e){var o=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,a=e.theme,c=g$(h3)||{},u=c.setPortalPlacement,d=u1(null),f=Qm(r),m=Kr(f,2),h=m[0],p=m[1],g=Qm(null),b=Kr(g,2),C=b[0],v=b[1],x=a.spacing.controlHeight;return Zm(function(){var y=d.current;if(y){var I=i==="fixed",w=l&&!I,D=A$({maxHeight:r,menuEl:y,minHeight:n,placement:s,shouldScroll:w,isFixedPosition:I,controlHeight:x});p(D.maxHeight),v(D.placement),u?.(D.placement)}},[r,s,i,l,n,u,x]),o({ref:d,placerProps:Ae(Ae({},e),{},{placement:C||f3(s),maxHeight:h})})},P$=function(e){var o=e.children,n=e.innerRef,r=e.innerProps;return Ee("div",Re({},zt(e,"menu",{menu:!0}),{ref:n},r),o)},N$=P$,b3=function(e,o){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return Ae({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},o?{}:{paddingBottom:r,paddingTop:r})},$$=function(e){var o=e.children,n=e.innerProps,r=e.innerRef,s=e.isMulti;return Ee("div",Re({},zt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:r},n),o)},v3=function(e,o){var n=e.theme,r=n.spacing.baseUnit,s=n.colors;return Ae({textAlign:"center"},o?{}:{color:s.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},C3=v3,x3=v3,L$=function(e){var o=e.children,n=o===void 0?"No options":o,r=e.innerProps,s=qo(e,T$);return Ee("div",Re({},zt(Ae(Ae({},s),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},k$=function(e){var o=e.children,n=o===void 0?"Loading...":o,r=e.innerProps,s=qo(e,R$);return Ee("div",Re({},zt(Ae(Ae({},s),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},y3=function(e){var o=e.rect,n=e.offset,r=e.position;return{left:o.left,position:r,top:n,width:o.width,zIndex:1}},j$=function(e){var o=e.appendTo,n=e.children,r=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,a=u1(null),c=u1(null),u=Qm(f3(i)),d=Kr(u,2),f=d[0],m=d[1],h=b$(function(){return{setPortalPlacement:m}},[]),p=Qm(null),g=Kr(p,2),b=g[0],C=g[1],v=l1(function(){if(r){var w=_$(r),D=l==="fixed"?0:window.pageYOffset,_=w[f]+D;(_!==b?.offset||w.left!==b?.rect.left||w.width!==b?.rect.width)&&C({offset:_,rect:w})}},[r,l,f,b?.offset,b?.rect.left,b?.rect.width]);Zm(function(){v()},[v]);var x=l1(function(){typeof c.current=="function"&&(c.current(),c.current=null),r&&a.current&&(c.current=_C(r,a.current,v,{elementResize:"ResizeObserver"in window}))},[r,v]);Zm(function(){x()},[x]);var y=l1(function(w){a.current=w,x()},[x]);if(!o&&l!=="fixed"||!b)return null;var I=Ee("div",Re({ref:y},zt(Ae(Ae({},e),{},{offset:b.offset,position:l,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Ee(h3.Provider,{value:h},o?C$(I,o):I)},w3=function(e){var o=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:o?"none":void 0,position:"relative"}},M$=function(e){var o=e.children,n=e.innerProps,r=e.isDisabled,s=e.isRtl;return Ee("div",Re({},zt(e,"container",{"--is-disabled":r,"--is-rtl":s}),n),o)},S3=function(e,o){var n=e.theme.spacing,r=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Ae({alignItems:"center",display:r&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},o?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},B$=function(e){var o=e.children,n=e.innerProps,r=e.isMulti,s=e.hasValue;return Ee("div",Re({},zt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":s}),n),o)},I3=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},O$=function(e){var o=e.children,n=e.innerProps;return Ee("div",Re({},zt(e,"indicatorsContainer",{indicators:!0}),n),o)},n3,V$=["size"],G$=["innerProps","isRtl","size"];var z$={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},_3=function(e){var o=e.size,n=qo(e,V$);return Ee("svg",Re({height:o,width:o,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:z$},n))},f1=function(e){return Ee(_3,Re({size:20},e),Ee("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},D3=function(e){return Ee(_3,Re({size:20},e),Ee("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},F3=function(e,o){var n=e.isFocused,r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Ae({label:"indicatorContainer",display:"flex",transition:"color 150ms"},o?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},T3=F3,H$=function(e){var o=e.children,n=e.innerProps;return Ee("div",Re({},zt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),o||Ee(D3,null))},R3=F3,W$=function(e){var o=e.children,n=e.innerProps;return Ee("div",Re({},zt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),o||Ee(f1,null))},A3=function(e,o){var n=e.isDisabled,r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Ae({label:"indicatorSeparator",alignSelf:"stretch",width:1},o?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},U$=function(e){var o=e.innerProps;return Ee("span",Re({},o,zt(e,"indicatorSeparator",{"indicator-separator":!0})))},X$=o3(n3||(n3=r3([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),E3=function(e,o){var n=e.isFocused,r=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Ae({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},o?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},c1=function(e){var o=e.delay,n=e.offset;return Ee("span",{css:Dc({animation:"".concat(X$," 1s ease-in-out ").concat(o,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Y$=function(e){var o=e.innerProps,n=e.isRtl,r=e.size,s=r===void 0?4:r,i=qo(e,G$);return Ee("div",Re({},zt(Ae(Ae({},i),{},{innerProps:o,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),o),Ee(c1,{delay:0,offset:n}),Ee(c1,{delay:160,offset:!0}),Ee(c1,{delay:320,offset:!n}))},P3=function(e,o){var n=e.isDisabled,r=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,a=s.spacing;return Ae({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},o?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:r?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:r?i.primary:i.neutral30}})},Z$=function(e){var o=e.children,n=e.isDisabled,r=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Ee("div",Re({ref:s},zt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),o)},J$=Z$,q$=["data"],N3=function(e,o){var n=e.theme.spacing;return o?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},Q$=function(e){var o=e.children,n=e.cx,r=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,a=e.innerProps,c=e.label,u=e.theme,d=e.selectProps;return Ee("div",Re({},zt(e,"group",{group:!0}),a),Ee(i,Re({},l,{selectProps:d,theme:u,getStyles:r,getClassNames:s,cx:n}),c),Ee("div",null,o))},$3=function(e,o){var n=e.theme,r=n.colors,s=n.spacing;return Ae({label:"group",cursor:"default",display:"block"},o?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},K$=function(e){var o=i3(e);o.data;var n=qo(o,q$);return Ee("div",Re({},zt(e,"groupHeading",{"group-heading":!0}),n))},eL=Q$,tL=["innerRef","isDisabled","isHidden","inputClassName"],L3=function(e,o){var n=e.isDisabled,r=e.value,s=e.theme,i=s.spacing,l=s.colors;return Ae(Ae({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},oL),o?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},k3={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},oL={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ae({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},k3)},rL=function(e){return Ae({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},k3)},nL=function(e){var o=e.cx,n=e.value,r=i3(e),s=r.innerRef,i=r.isDisabled,l=r.isHidden,a=r.inputClassName,c=qo(r,tL);return Ee("div",Re({},zt(e,"input",{"input-container":!0}),{"data-value":n||""}),Ee("input",Re({className:o({input:!0},a),ref:s,style:rL(l),disabled:i},c)))},sL=nL,j3=function(e,o){var n=e.theme,r=n.spacing,s=n.borderRadius,i=n.colors;return Ae({label:"multiValue",display:"flex",minWidth:0},o?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:r.baseUnit/2})},M3=function(e,o){var n=e.theme,r=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Ae({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},o?{}:{borderRadius:r/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},B3=function(e,o){var n=e.theme,r=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Ae({alignItems:"center",display:"flex"},o?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},O3=function(e){var o=e.children,n=e.innerProps;return Ee("div",n,o)},iL=O3,aL=O3;function lL(t){var e=t.children,o=t.innerProps;return Ee("div",Re({role:"button"},o),e||Ee(f1,{size:14}))}var cL=function(e){var o=e.children,n=e.components,r=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,a=e.selectProps,c=n.Container,u=n.Label,d=n.Remove;return Ee(c,{data:r,innerProps:Ae(Ae({},zt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:a},Ee(u,{data:r,innerProps:Ae({},zt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},o),Ee(d,{data:r,innerProps:Ae(Ae({},zt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(o||"option")},l),selectProps:a}))},uL=cL,V3=function(e,o){var n=e.isDisabled,r=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,a=i.colors;return Ae({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},o?{}:{backgroundColor:s?a.primary:r?a.primary25:"transparent",color:n?a.neutral20:s?a.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?a.primary:a.primary50}})},dL=function(e){var o=e.children,n=e.isDisabled,r=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return Ee("div",Re({},zt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),o)},mL=dL,G3=function(e,o){var n=e.theme,r=n.spacing,s=n.colors;return Ae({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},o?{}:{color:s.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},fL=function(e){var o=e.children,n=e.innerProps;return Ee("div",Re({},zt(e,"placeholder",{placeholder:!0}),n),o)},pL=fL,z3=function(e,o){var n=e.isDisabled,r=e.theme,s=r.spacing,i=r.colors;return Ae({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},hL=function(e){var o=e.children,n=e.isDisabled,r=e.innerProps;return Ee("div",Re({},zt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),o)},gL=hL,xo={ClearIndicator:W$,Control:J$,DropdownIndicator:H$,DownChevron:D3,CrossIcon:f1,Group:eL,GroupHeading:K$,IndicatorsContainer:O$,IndicatorSeparator:U$,Input:sL,LoadingIndicator:Y$,Menu:N$,MenuList:$$,MenuPortal:j$,LoadingMessage:k$,NoOptionsMessage:L$,MultiValue:uL,MultiValueContainer:iL,MultiValueLabel:aL,MultiValueRemove:lL,Option:mL,Placeholder:pL,SelectContainer:M$,SingleValue:gL,ValueContainer:B$},H3=function(e){return Ae(Ae({},xo),e.components)};var W3=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function bL(t,e){return!!(t===e||W3(t)&&W3(e))}function vL(t,e){if(t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(!bL(t[o],e[o]))return!1;return!0}function U3(t,e){e===void 0&&(e=vL);var o=null;function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(o&&o.lastThis===this&&e(r,o.lastArgs))return o.lastResult;var i=t.apply(this,r);return o={lastResult:i,lastArgs:r,lastThis:this},i}return n.clear=function(){o=null},n}var xL={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},yL=function(e){return Ee("span",Re({css:xL},e))},X3=yL,wL={guidance:function(e){var o=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(o?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var o=e.action,n=e.label,r=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(o){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var o=e.context,n=e.focused,r=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,a=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,d=function(p,g){return p&&p.length?"".concat(p.indexOf(g)+1," of ").concat(p.length):""};if(o==="value"&&l)return"value ".concat(i," focused, ").concat(d(l,n),".");if(o==="menu"&&u){var f=a?" disabled":"",m="".concat(c?" selected":"").concat(f);return"".concat(i).concat(m,", ").concat(d(r,n),".")}return""},onFilter:function(e){var o=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(o?" for search term "+o:"",".")}},SL=function(e){var o=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,a=e.selectProps,c=e.id,u=e.isAppleDevice,d=a.ariaLiveMessages,f=a.getOptionLabel,m=a.inputValue,h=a.isMulti,p=a.isOptionDisabled,g=a.isSearchable,b=a.menuIsOpen,C=a.options,v=a.screenReaderStatus,x=a.tabSelectsValue,y=a.isLoading,I=a["aria-label"],w=a["aria-live"],D=Rc(function(){return Ae(Ae({},wL),d||{})},[d]),_=Rc(function(){var P="";if(o&&D.onChange){var E=o.option,k=o.options,M=o.removedValue,N=o.removedValues,L=o.value,O=function(Q){return Array.isArray(Q)?null:Q},j=M||E||O(L),B=j?f(j):"",V=k||N||void 0,G=V?V.map(f):[],z=Ae({isDisabled:j&&p(j,l),label:B,labels:G},o);P=D.onChange(z)}return P},[o,D,p,l,f]),R=Rc(function(){var P="",E=n||r,k=!!(n&&l&&l.includes(n));if(E&&D.onFocus){var M={focused:E,label:f(E),isDisabled:p(E,l),isSelected:k,options:s,context:E===n?"menu":"value",selectValue:l,isAppleDevice:u};P=D.onFocus(M)}return P},[n,r,f,p,D,s,l,u]),T=Rc(function(){var P="";if(b&&C.length&&!y&&D.onFilter){var E=v({count:s.length});P=D.onFilter({inputValue:m,resultsMessage:E})}return P},[s,m,b,D,C,v,y]),S=o?.action==="initial-input-focus",F=Rc(function(){var P="";if(D.guidance){var E=r?"value":b?"menu":"input";P=D.guidance({"aria-label":I,context:E,isDisabled:n&&p(n,l),isMulti:h,isSearchable:g,tabSelectsValue:x,isInitialFocus:S})}return P},[I,n,r,h,p,g,b,D,l,x,S]),A=Ee(g1,null,Ee("span",{id:"aria-selection"},_),Ee("span",{id:"aria-focused"},R),Ee("span",{id:"aria-results"},T),Ee("span",{id:"aria-guidance"},F));return Ee(g1,null,Ee(X3,{id:c},S&&A),Ee(X3,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!S&&A))},IL=SL,b1=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],_L=new RegExp("["+b1.map(function(t){return t.letters}).join("")+"]","g"),iS={};for(ef=0;ef<b1.length;ef++)for(tf=b1[ef],of=0;of<tf.letters.length;of++)iS[tf.letters[of]]=tf.base;var tf,of,ef,aS=function(e){return e.replace(_L,function(o){return iS[o]})},DL=U3(aS),Y3=function(e){return e.replace(/^\s+|\s+$/g,"")},FL=function(e){return"".concat(e.label," ").concat(e.value)},TL=function(e){return function(o,n){if(o.data.__isNew__)return!0;var r=Ae({ignoreCase:!0,ignoreAccents:!0,stringify:FL,trim:!0,matchFrom:"any"},e),s=r.ignoreCase,i=r.ignoreAccents,l=r.stringify,a=r.trim,c=r.matchFrom,u=a?Y3(n):n,d=a?Y3(l(o)):l(o);return s&&(u=u.toLowerCase(),d=d.toLowerCase()),i&&(u=DL(u),d=aS(d)),c==="start"?d.substr(0,u.length)===u:d.indexOf(u)>-1}},RL=["innerRef"];function AL(t){var e=t.innerRef,o=qo(t,RL),n=m3(o,"onExited","in","enter","exit","appear");return Ee("input",Re({ref:e},n,{css:Dc({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var EL=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function PL(t){var e=t.isEnabled,o=t.onBottomArrive,n=t.onBottomLeave,r=t.onTopArrive,s=t.onTopLeave,i=Oa(!1),l=Oa(!1),a=Oa(0),c=Oa(null),u=Fs(function(g,b){if(c.current!==null){var C=c.current,v=C.scrollTop,x=C.scrollHeight,y=C.clientHeight,I=c.current,w=b>0,D=x-y-v,_=!1;D>b&&i.current&&(n&&n(g),i.current=!1),w&&l.current&&(s&&s(g),l.current=!1),w&&b>D?(o&&!i.current&&o(g),I.scrollTop=x,_=!0,i.current=!0):!w&&-b>v&&(r&&!l.current&&r(g),I.scrollTop=0,_=!0,l.current=!0),_&&EL(g)}},[o,n,r,s]),d=Fs(function(g){u(g,g.deltaY)},[u]),f=Fs(function(g){a.current=g.changedTouches[0].clientY},[]),m=Fs(function(g){var b=a.current-g.changedTouches[0].clientY;u(g,b)},[u]),h=Fs(function(g){if(g){var b=u3?{passive:!1}:!1;g.addEventListener("wheel",d,b),g.addEventListener("touchstart",f,b),g.addEventListener("touchmove",m,b)}},[m,f,d]),p=Fs(function(g){g&&(g.removeEventListener("wheel",d,!1),g.removeEventListener("touchstart",f,!1),g.removeEventListener("touchmove",m,!1))},[m,f,d]);return sS(function(){if(e){var g=c.current;return h(g),function(){p(g)}}},[e,h,p]),function(g){c.current=g}}var Z3=["boxSizing","height","overflow","paddingRight","position"],J3={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function q3(t){t.cancelable&&t.preventDefault()}function Q3(t){t.stopPropagation()}function K3(){var t=this.scrollTop,e=this.scrollHeight,o=t+this.offsetHeight;t===0?this.scrollTop=1:o===e&&(this.scrollTop=t-1)}function eS(){return"ontouchstart"in window||navigator.maxTouchPoints}var tS=!!(typeof window<"u"&&window.document&&window.document.createElement),Ac=0,Ba={capture:!1,passive:!1};function NL(t){var e=t.isEnabled,o=t.accountForScrollbars,n=o===void 0?!0:o,r=Oa({}),s=Oa(null),i=Fs(function(a){if(tS){var c=document.body,u=c&&c.style;if(n&&Z3.forEach(function(h){var p=u&&u[h];r.current[h]=p}),n&&Ac<1){var d=parseInt(r.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,m=window.innerWidth-f+d||0;Object.keys(J3).forEach(function(h){var p=J3[h];u&&(u[h]=p)}),u&&(u.paddingRight="".concat(m,"px"))}c&&eS()&&(c.addEventListener("touchmove",q3,Ba),a&&(a.addEventListener("touchstart",K3,Ba),a.addEventListener("touchmove",Q3,Ba))),Ac+=1}},[n]),l=Fs(function(a){if(tS){var c=document.body,u=c&&c.style;Ac=Math.max(Ac-1,0),n&&Ac<1&&Z3.forEach(function(d){var f=r.current[d];u&&(u[d]=f)}),c&&eS()&&(c.removeEventListener("touchmove",q3,Ba),a&&(a.removeEventListener("touchstart",K3,Ba),a.removeEventListener("touchmove",Q3,Ba)))}},[n]);return sS(function(){if(e){var a=s.current;return i(a),function(){l(a)}}},[e,i,l]),function(a){s.current=a}}var $L=function(e){var o=e.target;return o.ownerDocument.activeElement&&o.ownerDocument.activeElement.blur()},LL={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function kL(t){var e=t.children,o=t.lockEnabled,n=t.captureEnabled,r=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,a=t.onTopLeave,c=PL({isEnabled:r,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:a}),u=NL({isEnabled:o}),d=function(m){c(m),u(m)};return Ee(g1,null,o&&Ee("div",{onClick:$L,css:LL}),e(d))}var jL={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},ML=function(e){var o=e.name,n=e.onFocus;return Ee("input",{required:!0,name:o,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:jL,value:"",onChange:function(){}})},BL=ML;function v1(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function OL(){return v1(/^iPhone/i)}function lS(){return v1(/^Mac/i)}function VL(){return v1(/^iPad/i)||lS()&&navigator.maxTouchPoints>1}function GL(){return OL()||VL()}function zL(){return lS()||GL()}var HL=function(e){return e.label},C1=function(e){return e.label},x1=function(e){return e.value},WL=function(e){return!!e.isDisabled},UL={clearIndicator:R3,container:w3,control:P3,dropdownIndicator:T3,group:N3,groupHeading:$3,indicatorsContainer:I3,indicatorSeparator:A3,input:L3,loadingIndicator:E3,loadingMessage:x3,menu:p3,menuList:b3,menuPortal:y3,multiValue:j3,multiValueLabel:M3,multiValueRemove:B3,noOptionsMessage:C3,option:V3,placeholder:G3,singleValue:z3,valueContainer:S3};var XL={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},YL=4,cS=4,ZL=38,JL=cS*2,qL={baseUnit:cS,controlHeight:ZL,menuGutter:JL},p1={borderRadius:YL,colors:XL,spacing:qL},QL={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:m1(),captureMenuScroll:!m1(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:TL(),formatGroupLabel:HL,getOptionLabel:C1,getOptionValue:x1,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:WL,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!l3(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var o=e.count;return"".concat(o," result").concat(o!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function oS(t,e,o,n){var r=mS(t,e,o),s=fS(t,e,o),i=dS(t,e),l=nf(t,e);return{type:"option",data:e,isDisabled:r,isSelected:s,label:i,value:l,index:n}}function rf(t,e){return t.options.map(function(o,n){if("options"in o){var r=o.options.map(function(i,l){return oS(t,i,e,l)}).filter(function(i){return nS(t,i)});return r.length>0?{type:"group",data:o,options:r,index:n}:void 0}var s=oS(t,o,e,n);return nS(t,s)?s:void 0}).filter(d3)}function uS(t){return t.reduce(function(e,o){return o.type==="group"?e.push.apply(e,_s(o.options.map(function(n){return n.data}))):e.push(o.data),e},[])}function rS(t,e){return t.reduce(function(o,n){return n.type==="group"?o.push.apply(o,_s(n.options.map(function(r){return{data:r.data,id:"".concat(e,"-").concat(n.index,"-").concat(r.index)}}))):o.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),o},[])}function KL(t,e){return uS(rf(t,e))}function nS(t,e){var o=t.inputValue,n=o===void 0?"":o,r=e.data,s=e.isSelected,i=e.label,l=e.value;return(!hS(t)||!s)&&pS(t,{label:i,value:l,data:r},n)}function ek(t,e){var o=t.focusedValue,n=t.selectValue,r=n.indexOf(o);if(r>-1){var s=e.indexOf(o);if(s>-1)return o;if(r<e.length)return e[r]}return null}function tk(t,e){var o=t.focusedOption;return o&&e.indexOf(o)>-1?o:e[0]}var h1=function(e,o){var n,r=(n=e.find(function(s){return s.data===o}))===null||n===void 0?void 0:n.id;return r||null},dS=function(e,o){return e.getOptionLabel(o)},nf=function(e,o){return e.getOptionValue(o)};function mS(t,e,o){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,o):!1}function fS(t,e,o){if(o.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,o);var n=nf(t,e);return o.some(function(r){return nf(t,r)===n})}function pS(t,e,o){return t.filterOption?t.filterOption(e,o):!0}var hS=function(e){var o=e.hideSelectedOptions,n=e.isMulti;return o===void 0?n:o},ok=1,Ec=function(t){s2(o,t);var e=a2(o);function o(n){var r;if(o2(this,o),r=e.call(this,n),r.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.isAppleDevice=zL(),r.controlRef=null,r.getControlRef=function(a){r.controlRef=a},r.focusedOptionRef=null,r.getFocusedOptionRef=function(a){r.focusedOptionRef=a},r.menuListRef=null,r.getMenuListRef=function(a){r.menuListRef=a},r.inputRef=null,r.getInputRef=function(a){r.inputRef=a},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(a,c){var u=r.props,d=u.onChange,f=u.name;c.name=f,r.ariaOnChange(a,c),d(a,c)},r.setValue=function(a,c,u){var d=r.props,f=d.closeMenuOnSelect,m=d.isMulti,h=d.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:h}),f&&(r.setState({inputIsHiddenAfterUpdate:!m}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(a,{action:c,option:u})},r.selectOption=function(a){var c=r.props,u=c.blurInputOnSelect,d=c.isMulti,f=c.name,m=r.state.selectValue,h=d&&r.isOptionSelected(a,m),p=r.isOptionDisabled(a,m);if(h){var g=r.getOptionValue(a);r.setValue(m.filter(function(b){return r.getOptionValue(b)!==g}),"deselect-option",a)}else if(!p)d?r.setValue([].concat(_s(m),[a]),"select-option",a):r.setValue(a,"select-option");else{r.ariaOnChange(a,{action:"select-option",option:a,name:f});return}u&&r.blurInput()},r.removeValue=function(a){var c=r.props.isMulti,u=r.state.selectValue,d=r.getOptionValue(a),f=u.filter(function(h){return r.getOptionValue(h)!==d}),m=_i(c,f,f[0]||null);r.onChange(m,{action:"remove-value",removedValue:a}),r.focusInput()},r.clearValue=function(){var a=r.state.selectValue;r.onChange(_i(r.props.isMulti,[],null),{action:"clear",removedValues:a})},r.popValue=function(){var a=r.props.isMulti,c=r.state.selectValue,u=c[c.length-1],d=c.slice(0,c.length-1),f=_i(a,d,d[0]||null);u&&r.onChange(f,{action:"pop-value",removedValue:u})},r.getFocusedOptionId=function(a){return h1(r.state.focusableOptionsWithIds,a)},r.getFocusableOptionsWithIds=function(){return rS(rf(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return s3.apply(void 0,[r.props.classNamePrefix].concat(c))},r.getOptionLabel=function(a){return dS(r.props,a)},r.getOptionValue=function(a){return nf(r.props,a)},r.getStyles=function(a,c){var u=r.props.unstyled,d=UL[a](c,u);d.boxSizing="border-box";var f=r.props.styles[a];return f?f(d,c):d},r.getClassNames=function(a,c){var u,d;return(u=(d=r.props.classNames)[a])===null||u===void 0?void 0:u.call(d,c)},r.getElementId=function(a){return"".concat(r.state.instancePrefix,"-").concat(a)},r.getComponents=function(){return H3(r.props)},r.buildCategorizedOptions=function(){return rf(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return uS(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(a,c){r.setState({ariaSelection:Ae({value:a},c)})},r.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(a){r.blockOptionHover=!1},r.onControlMouseDown=function(a){if(!a.defaultPrevented){var c=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&r.onMenuClose():c&&r.openMenu("first"):(c&&(r.openAfterFocus=!0),r.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},r.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!r.props.isDisabled){var c=r.props,u=c.isMulti,d=c.menuIsOpen;r.focusInput(),d?(r.setState({inputIsHiddenAfterUpdate:!u}),r.onMenuClose()):r.openMenu("first"),a.preventDefault()}},r.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(r.clearValue(),a.preventDefault(),r.openAfterFocus=!1,a.type==="touchend"?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(a){typeof r.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Tc(a.target)&&r.props.onMenuClose():typeof r.props.closeMenuOnScroll=="function"&&r.props.closeMenuOnScroll(a)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(a){var c=a.touches,u=c&&c.item(0);u&&(r.initialTouchX=u.clientX,r.initialTouchY=u.clientY,r.userIsDragging=!1)},r.onTouchMove=function(a){var c=a.touches,u=c&&c.item(0);if(u){var d=Math.abs(u.clientX-r.initialTouchX),f=Math.abs(u.clientY-r.initialTouchY),m=5;r.userIsDragging=d>m||f>m}},r.onTouchEnd=function(a){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(a.target)&&r.menuListRef&&!r.menuListRef.contains(a.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(a){r.userIsDragging||r.onControlMouseDown(a)},r.onClearIndicatorTouchEnd=function(a){r.userIsDragging||r.onClearIndicatorMouseDown(a)},r.onDropdownIndicatorTouchEnd=function(a){r.userIsDragging||r.onDropdownIndicatorMouseDown(a)},r.handleInputChange=function(a){var c=r.props.inputValue,u=a.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(u,{action:"input-change",prevInputValue:c}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(a){r.props.onFocus&&r.props.onFocus(a),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(a){var c=r.props.inputValue;if(r.menuListRef&&r.menuListRef.contains(document.activeElement)){r.inputRef.focus();return}r.props.onBlur&&r.props.onBlur(a),r.onInputChange("",{action:"input-blur",prevInputValue:c}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1})},r.onOptionHover=function(a){if(!(r.blockOptionHover||r.state.focusedOption===a)){var c=r.getFocusableOptions(),u=c.indexOf(a);r.setState({focusedOption:a,focusedOptionId:u>-1?r.getFocusedOptionId(a):null})}},r.shouldHideSelectedOptions=function(){return hS(r.props)},r.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),r.focus()},r.onKeyDown=function(a){var c=r.props,u=c.isMulti,d=c.backspaceRemovesValue,f=c.escapeClearsValue,m=c.inputValue,h=c.isClearable,p=c.isDisabled,g=c.menuIsOpen,b=c.onKeyDown,C=c.tabSelectsValue,v=c.openMenuOnFocus,x=r.state,y=x.focusedOption,I=x.focusedValue,w=x.selectValue;if(!p&&!(typeof b=="function"&&(b(a),a.defaultPrevented))){switch(r.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||m)return;r.focusValue("previous");break;case"ArrowRight":if(!u||m)return;r.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(I)r.removeValue(I);else{if(!d)return;u?r.popValue():h&&r.clearValue()}break;case"Tab":if(r.isComposing||a.shiftKey||!g||!C||!y||v&&r.isOptionSelected(y,w))return;r.selectOption(y);break;case"Enter":if(a.keyCode===229)break;if(g){if(!y||r.isComposing)return;r.selectOption(y);break}return;case"Escape":g?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:m}),r.onMenuClose()):h&&f&&r.clearValue();break;case" ":if(m)return;if(!g){r.openMenu("first");break}if(!y)return;r.selectOption(y);break;case"ArrowUp":g?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":g?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!g)return;r.focusOption("pageup");break;case"PageDown":if(!g)return;r.focusOption("pagedown");break;case"Home":if(!g)return;r.focusOption("first");break;case"End":if(!g)return;r.focusOption("last");break;default:return}a.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++ok),r.state.selectValue=Ma(n.value),n.menuIsOpen&&r.state.selectValue.length){var s=r.getFocusableOptionsWithIds(),i=r.buildFocusableOptions(),l=i.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=s,r.state.focusedOption=i[l],r.state.focusedOptionId=h1(s,i[l])}return r}return n2(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&d1(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(r){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,a=this.state.isFocused;(a&&!i&&r.isDisabled||a&&l&&!r.menuIsOpen)&&this.focusInput(),a&&i&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!i&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(d1(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,s){this.props.onInputChange(r,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var s=this,i=this.state,l=i.selectValue,a=i.isFocused,c=this.buildFocusableOptions(),u=r==="first"?0:c.length-1;if(!this.props.isMulti){var d=c.indexOf(l[0]);d>-1&&(u=d)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(r){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=i.indexOf(l);l||(a=-1);var c=i.length-1,u=-1;if(i.length){switch(r){case"previous":a===0?u=0:a===-1?u=c:u=a-1;break;case"next":a>-1&&a<c&&(u=a+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:i[u]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var a=0,c=l.indexOf(i);i||(c=-1),r==="up"?a=c>0?c-1:l.length-1:r==="down"?a=(c+1)%l.length:r==="pageup"?(a=c-s,a<0&&(a=0)):r==="pagedown"?(a=c+s,a>l.length-1&&(a=l.length-1)):r==="last"&&(a=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(p1):Ae(Ae({},p1),this.props.theme):p1}},{key:"getCommonProps",value:function(){var r=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,a=this.getValue,c=this.selectOption,u=this.setValue,d=this.props,f=d.isMulti,m=d.isRtl,h=d.options,p=this.hasValue();return{clearValue:r,cx:s,getStyles:i,getClassNames:l,getValue:a,hasValue:p,isMulti:f,isRtl:m,options:h,selectOption:c,selectProps:d,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,s=r.isClearable,i=r.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(r,s){return mS(this.props,r,s)}},{key:"isOptionSelected",value:function(r,s){return fS(this.props,r,s)}},{key:"filterOption",value:function(r,s){return pS(this.props,r,s)}},{key:"formatOptionLabel",value:function(r,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(r,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,s=r.isDisabled,i=r.isSearchable,l=r.inputId,a=r.inputValue,c=r.tabIndex,u=r.form,d=r.menuIsOpen,f=r.required,m=this.getComponents(),h=m.Input,p=this.state,g=p.inputIsHidden,b=p.ariaSelection,C=this.commonProps,v=l||this.getElementId("input"),x=Ae(Ae(Ae({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?b?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?ut.createElement(h,Re({},C,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:a},x)):ut.createElement(AL,Re({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Fc,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:u,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,a=s.MultiValueLabel,c=s.MultiValueRemove,u=s.SingleValue,d=s.Placeholder,f=this.commonProps,m=this.props,h=m.controlShouldRenderValue,p=m.isDisabled,g=m.isMulti,b=m.inputValue,C=m.placeholder,v=this.state,x=v.selectValue,y=v.focusedValue,I=v.isFocused;if(!this.hasValue()||!h)return b?null:ut.createElement(d,Re({},f,{key:"placeholder",isDisabled:p,isFocused:I,innerProps:{id:this.getElementId("placeholder")}}),C);if(g)return x.map(function(D,_){var R=D===y,T="".concat(r.getOptionLabel(D),"-").concat(r.getOptionValue(D));return ut.createElement(i,Re({},f,{components:{Container:l,Label:a,Remove:c},isFocused:R,isDisabled:p,key:T,index:_,removeProps:{onClick:function(){return r.removeValue(D)},onTouchEnd:function(){return r.removeValue(D)},onMouseDown:function(F){F.preventDefault()}},data:D}),r.formatOptionLabel(D,"value"))});if(b)return null;var w=x[0];return ut.createElement(u,Re({},f,{data:w,isDisabled:p}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),s=r.ClearIndicator,i=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,u=this.state.isFocused;if(!this.isClearable()||!s||a||!this.hasValue()||c)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ut.createElement(s,Re({},i,{innerProps:d,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),s=r.LoadingIndicator,i=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,u=this.state.isFocused;if(!s||!c)return null;var d={"aria-hidden":"true"};return ut.createElement(s,Re({},i,{innerProps:d,isDisabled:a,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator,i=r.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,a=this.props.isDisabled,c=this.state.isFocused;return ut.createElement(i,Re({},l,{isDisabled:a,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,a=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ut.createElement(s,Re({},i,{innerProps:c,isDisabled:l,isFocused:a}))}},{key:"renderMenu",value:function(){var r=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,a=s.Menu,c=s.MenuList,u=s.MenuPortal,d=s.LoadingMessage,f=s.NoOptionsMessage,m=s.Option,h=this.commonProps,p=this.state.focusedOption,g=this.props,b=g.captureMenuScroll,C=g.inputValue,v=g.isLoading,x=g.loadingMessage,y=g.minMenuHeight,I=g.maxMenuHeight,w=g.menuIsOpen,D=g.menuPlacement,_=g.menuPosition,R=g.menuPortalTarget,T=g.menuShouldBlockScroll,S=g.menuShouldScrollIntoView,F=g.noOptionsMessage,A=g.onMenuScrollToTop,P=g.onMenuScrollToBottom;if(!w)return null;var E=function(B,V){var G=B.type,z=B.data,Y=B.isDisabled,Q=B.isSelected,Z=B.label,X=B.value,q=p===z,W=Y?void 0:function(){return r.onOptionHover(z)},ee=Y?void 0:function(){return r.selectOption(z)},pe="".concat(r.getElementId("option"),"-").concat(V),ae={id:pe,onClick:ee,onMouseMove:W,onMouseOver:W,tabIndex:-1,role:"option","aria-selected":r.isAppleDevice?void 0:Q};return ut.createElement(m,Re({},h,{innerProps:ae,data:z,isDisabled:Y,isSelected:Q,key:pe,label:Z,type:G,value:X,isFocused:q,innerRef:q?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(B.data,"menu"))},k;if(this.hasOptions())k=this.getCategorizedOptions().map(function(j){if(j.type==="group"){var B=j.data,V=j.options,G=j.index,z="".concat(r.getElementId("group"),"-").concat(G),Y="".concat(z,"-heading");return ut.createElement(i,Re({},h,{key:z,data:B,options:V,Heading:l,headingProps:{id:Y,data:j.data},label:r.formatGroupLabel(j.data)}),j.options.map(function(Q){return E(Q,"".concat(G,"-").concat(Q.index))}))}else if(j.type==="option")return E(j,"".concat(j.index))});else if(v){var M=x({inputValue:C});if(M===null)return null;k=ut.createElement(d,h,M)}else{var N=F({inputValue:C});if(N===null)return null;k=ut.createElement(f,h,N)}var L={minMenuHeight:y,maxMenuHeight:I,menuPlacement:D,menuPosition:_,menuShouldScrollIntoView:S},O=ut.createElement(g3,Re({},h,L),function(j){var B=j.ref,V=j.placerProps,G=V.placement,z=V.maxHeight;return ut.createElement(a,Re({},h,L,{innerRef:B,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:v,placement:G}),ut.createElement(kL,{captureEnabled:b,onTopArrive:A,onBottomArrive:P,lockEnabled:T},function(Y){return ut.createElement(c,Re({},h,{innerRef:function(Z){r.getMenuListRef(Z),Y(Z)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:r.getElementId("listbox")},isLoading:v,maxHeight:z,focusedOption:p}),k)}))});return R||_==="fixed"?ut.createElement(u,Re({},h,{appendTo:R,controlElement:this.controlRef,menuPlacement:D,menuPosition:_}),O):O}},{key:"renderFormField",value:function(){var r=this,s=this.props,i=s.delimiter,l=s.isDisabled,a=s.isMulti,c=s.name,u=s.required,d=this.state.selectValue;if(u&&!this.hasValue()&&!l)return ut.createElement(BL,{name:c,onFocus:this.onValueInputFocus});if(!(!c||l))if(a)if(i){var f=d.map(function(p){return r.getOptionValue(p)}).join(i);return ut.createElement("input",{name:c,type:"hidden",value:f})}else{var m=d.length>0?d.map(function(p,g){return ut.createElement("input",{key:"i-".concat(g),name:c,type:"hidden",value:r.getOptionValue(p)})}):ut.createElement("input",{name:c,type:"hidden",value:""});return ut.createElement("div",null,m)}else{var h=d[0]?this.getOptionValue(d[0]):"";return ut.createElement("input",{name:c,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,a=s.focusedValue,c=s.isFocused,u=s.selectValue,d=this.getFocusableOptions();return ut.createElement(IL,Re({},r,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:a,isFocused:c,selectValue:u,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),s=r.Control,i=r.IndicatorsContainer,l=r.SelectContainer,a=r.ValueContainer,c=this.props,u=c.className,d=c.id,f=c.isDisabled,m=c.menuIsOpen,h=this.state.isFocused,p=this.commonProps=this.getCommonProps();return ut.createElement(l,Re({},p,{className:u,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:h}),this.renderLiveRegion(),ut.createElement(s,Re({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:h,menuIsOpen:m}),ut.createElement(a,Re({},p,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),ut.createElement(i,Re({},p,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,a=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,u=s.isFocused,d=s.prevWasFocused,f=s.instancePrefix,m=r.options,h=r.value,p=r.menuIsOpen,g=r.inputValue,b=r.isMulti,C=Ma(h),v={};if(i&&(h!==i.value||m!==i.options||p!==i.menuIsOpen||g!==i.inputValue)){var x=p?KL(r,C):[],y=p?rS(rf(r,C),"".concat(f,"-option")):[],I=l?ek(s,C):null,w=tk(s,x),D=h1(y,w);v={selectValue:C,focusedOption:w,focusedOptionId:D,focusableOptionsWithIds:y,focusedValue:I,clearFocusValueOnUpdate:!1}}var _=a!=null&&r!==i?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},R=c,T=u&&d;return u&&!T&&(R={value:_i(b,C,C[0]||null),options:C,action:"initial-input-focus"},T=!d),c?.action==="initial-input-focus"&&(R=null),Ae(Ae(Ae({},v),_),{},{prevProps:r,ariaSelection:R,prevWasFocused:T})}}]),o}(CL);Ec.defaultProps=QL;import"react-dom";var nk=rk(function(t,e){var o=Fm(t);return gS.createElement(Ec,Re({ref:e},o))}),bS=nk;import*as yS from"react";import{forwardRef as ak}from"react";import{useMemo as vS,useCallback as sk}from"react";var ik=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],CS=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=String(e).toLowerCase(),s=String(n.getOptionValue(o)).toLowerCase(),i=String(n.getOptionLabel(o)).toLowerCase();return s===r||i===r},y1={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,o,n,r){return!(!e||o.some(function(s){return CS(e,s,r)})||n.some(function(s){return CS(e,s,r)}))},getNewOptionData:function(e,o){return{label:o,value:e,__isNew__:!0}}};function xS(t){var e=t.allowCreateWhileLoading,o=e===void 0?!1:e,n=t.createOptionPosition,r=n===void 0?"last":n,s=t.formatCreateLabel,i=s===void 0?y1.formatCreateLabel:s,l=t.isValidNewOption,a=l===void 0?y1.isValidNewOption:l,c=t.getNewOptionData,u=c===void 0?y1.getNewOptionData:c,d=t.onCreateOption,f=t.options,m=f===void 0?[]:f,h=t.onChange,p=qo(t,ik),g=p.getOptionValue,b=g===void 0?x1:g,C=p.getOptionLabel,v=C===void 0?C1:C,x=p.inputValue,y=p.isLoading,I=p.isMulti,w=p.value,D=p.name,_=vS(function(){return a(x,Ma(w),m,{getOptionValue:b,getOptionLabel:v})?u(x,i(x)):void 0},[i,u,v,b,x,a,m,w]),R=vS(function(){return(o||!y)&&_?r==="first"?[_].concat(_s(m)):[].concat(_s(m),[_]):m},[o,r,y,_,m]),T=sk(function(S,F){if(F.action!=="select-option")return h(S,F);var A=Array.isArray(S)?S:[S];if(A[A.length-1]===_){if(d)d(x);else{var P=u(x,x),E={action:"create-option",name:D,option:P};h(_i(I,[].concat(_s(Ma(w)),[P]),P),E)}return}h(S,F)},[u,x,I,D,_,d,h,w]);return Ae(Ae({},p),{},{options:R,onChange:T})}import"react-dom";var lk=ak(function(t,e){var o=Fm(t),n=xS(o);return yS.createElement(Ec,Re({ref:e},n))}),wS=lk;import{jsx as SS}from"react/jsx-runtime";import"react";var IS="clear-indicator",w1=t=>{let{clearValue:e,innerProps:{ref:o,...n}}=t;return SS("div",{className:IS,ref:typeof o=="string"?null:o,...n,onKeyDown:r=>{r.key==="Enter"&&(e(),r.stopPropagation())},role:"button",tabIndex:0,children:SS(pt,{className:`${IS}__icon`})})};import{jsx as _S}from"react/jsx-runtime";import ck from"react";var S1=t=>{let{children:e,innerProps:o,selectProps:{customProps:{disableKeyDown:n,disableMouseDown:r}={}}={}}=t;return _S(ck.Fragment,{children:_S(xo.Control,{...t,innerProps:{...o,onKeyDown:s=>{if(n){s.stopPropagation();let i=new CustomEvent("bypassKeyDown",{detail:s});document.dispatchEvent(i)}},onMouseDown:s=>{r||o.onMouseDown(s)}},children:e})})};import{jsx as DS}from"react/jsx-runtime";import"react";var FS="dropdown-indicator",I1=t=>{let{innerProps:{ref:e,...o}}=t;return DS("button",{className:FS,ref:e,...o,onKeyDown:n=>{n.key==="Enter"&&(n.key=" ")},type:"button",children:DS(Ye,{className:`${FS}__icon`})})};import{jsx as TS}from"react/jsx-runtime";import uk from"react";var _1=t=>TS(uk.Fragment,{children:TS(xo.Input,{...t,"aria-activedescendant":void 0})});import{c as dk}from"react/compiler-runtime";import{jsx as RS}from"react/jsx-runtime";import mk from"react";var AS="multi-value";function D1(t,e){return typeof e=="function"?e(t):t.value}var F1=t=>{let e=dk(26),{className:o,data:n,innerProps:r,isDisabled:s,selectProps:i}=t,l;e[0]!==i?(l=i===void 0?{}:i,e[0]=i,e[1]=l):l=e[1];let{customProps:a,getOptionValue:c,isSortable:u}=l,d;e[2]!==a?(d=a===void 0?{}:a,e[2]=a,e[3]=d):d=e[3];let{disableMouseDown:f}=d,m;e[4]!==n||e[5]!==c?(m=D1(n,c),e[4]=n,e[5]=c,e[6]=m):m=e[6];let h=!u,p;e[7]!==m||e[8]!==h?(p={id:m,disabled:h},e[7]=m,e[8]=h,e[9]=p):p=e[9];let{attributes:g,isDragging:b,listeners:C,setNodeRef:v,transform:x}=fa(p),y=!s&&u&&"draggable",I=b&&`${AS}--is-dragging`,w;e[10]!==o||e[11]!==y||e[12]!==I?(w=[AS,o,y,I].filter(Boolean),e[10]=o,e[11]=y,e[12]=I,e[13]=w):w=e[13];let D=w.join(" "),_;if(e[14]!==g||e[15]!==D||e[16]!==f||e[17]!==r||e[18]!==u||e[19]!==C||e[20]!==t||e[21]!==v||e[22]!==x){let R;e[24]!==f?(R=T=>{f||T.stopPropagation()},e[24]=f,e[25]=R):R=e[25],_=RS(mk.Fragment,{children:RS(xo.MultiValue,{...t,className:D,innerProps:{...u?{...g,...C}:{},...r,onMouseDown:R,ref:v,style:u?{transform:x,...g?.style}:{}}})}),e[14]=g,e[15]=D,e[16]=f,e[17]=r,e[18]=u,e[19]=C,e[20]=t,e[21]=v,e[22]=x,e[23]=_}else _=e[23];return _};import{jsx as ES}from"react/jsx-runtime";import"react";var PS="multi-value-label",T1=t=>{let{data:e,selectProps:{customProps:{draggableProps:o,editableProps:n}={}}={}}=t,r=`${PS}__text`;return ES("div",{className:PS,children:ES(xo.MultiValueLabel,{...t,innerProps:{className:r,...n&&n(e,r,t.selectProps)||{},...o||{}}})})};import{c as fk}from"react/compiler-runtime";import{jsx as NS,jsxs as pk}from"react/jsx-runtime";import hk from"react";var R1="multi-value-remove",A1=t=>{let e=fk(12),{innerProps:o}=t,{className:n,onClick:r,onTouchEnd:s}=o,[i,l]=hk.useState(!1),{t:a}=$(),c;if(e[0]!==n||e[1]!==r||e[2]!==s||e[3]!==i||e[4]!==a){let u=a("general:remove"),d;e[6]!==n?(d=[R1,n].filter(Boolean),e[6]=n,e[7]=d):d=e[7];let f;e[8]!==r?(f=p=>{l(!1),r(p)},e[8]=r,e[9]=f):f=e[9];let m,h;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=()=>l(!0),h=()=>l(!1),e[10]=m,e[11]=h):(m=e[10],h=e[11]),c=pk("button",{"aria-label":u,className:d.join(" "),onClick:f,onKeyDown:gk,onMouseDown:bk,onMouseEnter:m,onMouseLeave:h,onTouchEnd:s,type:"button",children:[NS(Io,{className:`${R1}__tooltip`,show:i,children:a("general:remove")}),NS(pt,{className:`${R1}__icon`})]}),e[0]=n,e[1]=r,e[2]=s,e[3]=i,e[4]=a,e[5]=c}else c=e[5];return c};function gk(t){t.key==="Enter"&&t.stopPropagation()}function bk(t){return t.stopPropagation()}import{jsx as $S}from"react/jsx-runtime";import vk from"react";var Ck="react-select--single-value",E1=t=>{let{children:e,className:o}=t;return $S(vk.Fragment,{children:$S(xo.SingleValue,{...t,className:[Ck,o].filter(Boolean).join(" "),children:e})})};import{jsx as LS,jsxs as xk}from"react/jsx-runtime";import"react";var kS="value-container",P1=t=>{let{selectProps:{customProps:e}={}}=t;return xk("div",{className:kS,ref:e?.droppableRef,children:[e?.valueContainerLabel&&LS("span",{className:`${kS}__label`,children:e?.valueContainerLabel}),LS(xo.ValueContainer,{...t})]})};var Sk=t=>({label:t,value:t}),BS=t=>{let{i18n:e,t:o}=$(),[n,r]=MS.useState(""),s=wk(),[i,l]=MS.useState(!1);yk(()=>{l(!0)},[]);let{className:a,components:c,customProps:u,disabled:d=!1,filterOption:f=void 0,getOptionValue:m,isClearable:h=!0,isCreatable:p,isLoading:g,isSearchable:b=!0,noOptionsMessage:C=()=>o("general:noOptions"),numberOnly:v=!1,onChange:x,onMenuClose:y,onMenuOpen:I,options:w,placeholder:D=o("general:selectValue"),showError:_,value:R}=t,T=()=>o("general:loading")+"...",S=[a,"react-select",_&&"react-select--error"].filter(Boolean).join(" "),F={menu:P=>({...P,zIndex:void 0})};if(!i)return Di(Nt,{height:"calc(var(--base) * 2 + 2px)"});if(!p)return Di(bS,{captureMenuScroll:!0,customProps:u,isLoading:g,...t,className:S,classNamePrefix:"rs",components:{ClearIndicator:w1,Control:S1,DropdownIndicator:I1,Input:_1,MultiValue:F1,MultiValueLabel:T1,MultiValueRemove:A1,SingleValue:E1,ValueContainer:P1,...c},filterOption:f,getOptionValue:m,instanceId:s,isClearable:h,isDisabled:d,isSearchable:b,loadingMessage:T,menuPlacement:"auto",noOptionsMessage:C,onChange:x,onMenuClose:y,onMenuOpen:I,options:w,placeholder:jS(D,e),styles:F,unstyled:!0,value:R});let A=P=>{if(v===!0){let E=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],k=!/\D/.test(P.key),M=E.includes(P.key);if(!k&&!M){P.preventDefault();return}}if(!(!R||!n||n.trim()==="")&&!(f&&!f(null,n)))switch(P.key){case"Enter":case"Tab":x([...R,Sk(n)]),r(""),P.preventDefault();break;default:break}};return Di(wS,{captureMenuScroll:!0,isLoading:g,...t,className:S,classNamePrefix:"rs",components:{ClearIndicator:w1,Control:S1,DropdownIndicator:I1,Input:_1,MultiValue:F1,MultiValueLabel:T1,MultiValueRemove:A1,SingleValue:E1,ValueContainer:P1,...c},filterOption:f,inputValue:n,instanceId:s,isClearable:h,isDisabled:d,isSearchable:b,loadingMessage:T,menuPlacement:"auto",noOptionsMessage:C,onChange:x,onInputChange:P=>r(P),onKeyDown:A,onMenuClose:y,onMenuOpen:I,options:w,placeholder:jS(D,e),styles:F,unstyled:!0,value:R})},Ik=t=>{let{getOptionValue:e,onChange:o,value:n}=t,r=[];return n&&(r=(Array.isArray(n)?n:[n]).map(s=>D1(s,e))),Di(Fr,{className:"react-select-container",ids:r,onDragEnd:({moveFromIndex:s,moveToIndex:i})=>{let l=n;n&&Array.isArray(n)&&(l=zd(n,s,i)),o(l)},children:Di(BS,{...t})})},ft=t=>{let{isMulti:e,isSortable:o}=t;return e&&o?Di(Ik,{...t}):Di(BS,{...t})};var Pc=t=>t.map(e=>typeof e=="object"&&(e.value||e.value==="")?e:{label:e,value:e});var Nc=t=>{let{id:e,onChange:o,options:n,required:r,selectedTimezone:s}=t,{t:i}=$(),l=Pc(n),a=Dk(()=>l.find(c=>(typeof c=="string"?c:c.value)===(s||"UTC")),[l,s]);return _k("div",{className:"timezone-picker-wrapper",children:[OS(we,{htmlFor:e,label:`${i("general:timezone")} ${r?"*":""}`,required:r,unstyled:!0}),OS(ft,{className:"timezone-picker",inputId:e,isClearable:!0,isCreatable:!1,onChange:c=>{o&&o(c?.value||"")},options:l,value:a})]})};var zS="date-time-field",Tk=t=>{let{field:e,field:{admin:{className:o,date:n,description:r,placeholder:s}={},label:i,localized:l,required:a,timezone:c},path:u,readOnly:d,validate:f}=t,m=n?.pickerAppearance||"default",h=Intl.DateTimeFormat().resolvedOptions().timeZone,{config:p}=H(),{i18n:g}=$(),{dispatchFields:b,setModified:C}=Be(),v=N1((B,V)=>{if(typeof f=="function")return f(B,{...V,required:a})},[f,a]),{customComponents:{AfterInput:x,BeforeInput:y,Description:I,Error:w,Label:D}={},disabled:_,path:R,setValue:T,showError:S,value:F}=$e({potentiallyStalePath:u,validate:v}),A=R+"_tz",P=Rt(([B,V])=>B?.[A]),E=p.admin.timezones.supportedTimezones,k=["dayOnly","default","monthOnly"].includes(m),M=P?.value,N=GS(()=>{if(c&&M&&h&&F){let B=Yt.tz(M),V=Yt.tz(h),G=new Yt(F).withTimeZone(M),z=Yr(G,B);return Yr(z,V).toISOString()}return F},[c,M,F,h]),L=GS(()=>st(e),[e]),O=N1(B=>{if(!(d||_))if(c&&M&&B){let V=Yt.tz(M);if(k){let G=B.getTimezoneOffset()/60,z=B.getHours()+G;B.setHours(z);let Y=Yr(B,V);T(Y.toISOString()||null)}else{let G=new Yt(B),z=Yr(G,V);T(z.toISOString()||null)}}else T(B?.toISOString()||null)},[d,_,c,M,k,T]),j=N1(B=>{A&&(b({type:"UPDATE",path:A,value:B}),C(!0))},[b,C,A]);return VS("div",{className:[Te,zS,o,S&&`${zS}--has-error`,(d||_)&&"read-only"].filter(Boolean).join(" "),style:L,children:[Ts(me,{CustomComponent:D,Fallback:Ts(we,{label:i,localized:l,required:a})}),VS("div",{className:`${Te}__wrap`,id:`field-${R.replace(/\./g,"__")}`,children:[Ts(me,{CustomComponent:w,Fallback:Ts(Ue,{path:R,showError:S})}),y,Ts(Da,{...n,onChange:O,overrides:{...n?.overrides},placeholder:Fk(s,g),readOnly:d||_,value:N}),c&&E.length>0&&Ts(Nc,{id:`${R}-timezone-picker`,onChange:j,options:E,required:a,selectedTimezone:M}),x]}),Ts(me,{CustomComponent:I,Fallback:Ts(He,{description:r,path:R})})]})},$c=Ve(Tk);import{jsx as Fi,jsxs as HS}from"react/jsx-runtime";import{getTranslation as Rk}from"@payloadcms/translations";import{useCallback as Ak,useMemo as Ek}from"react";var Pk=t=>{let{field:e,field:{admin:{autoComplete:o,className:n,description:r,placeholder:s}={},label:i,localized:l,required:a}={},path:c,readOnly:u,validate:d}=t,{i18n:f}=$(),m=Ak((_,R)=>{if(typeof d=="function")return d(_,{...R,required:a})},[d,a]),{customComponents:{AfterInput:h,BeforeInput:p,Description:g,Error:b,Label:C}={},disabled:v,path:x,setValue:y,showError:I,value:w}=$e({potentiallyStalePath:c,validate:m}),D=Ek(()=>st(e),[e]);return HS("div",{className:[Te,"email",n,I&&"error",(u||v)&&"read-only"].filter(Boolean).join(" "),style:D,children:[Fi(me,{CustomComponent:C,Fallback:Fi(we,{label:i,localized:l,path:x,required:a})}),HS("div",{className:`${Te}__wrap`,children:[Fi(me,{CustomComponent:b,Fallback:Fi(Ue,{path:x,showError:I})}),p,Fi("input",{autoComplete:o,disabled:u||v,id:`field-${x.replace(/\./g,"__")}`,name:x,onChange:y,placeholder:Rk(s,f),required:a,type:"email",value:w||""}),h]}),Fi(me,{CustomComponent:g,Fallback:Fi(He,{description:r,path:x})})]})},Ti=Ve(Pk);import{jsx as Hn,jsxs as sf}from"react/jsx-runtime";import{getTranslation as Gk}from"@payloadcms/translations";import{groupHasName as KS}from"payload/shared";import{useMemo as zk}from"react";import{jsx as Nk}from"react/jsx-runtime";import{createContext as $k,use as Lk}from"react";var WS=$k(!1),US=({children:t,withinRow:e=!0})=>Nk(WS,{value:e,children:t}),XS=()=>Lk(WS);import{jsx as kk}from"react/jsx-runtime";import{createContext as jk,use as Mk}from"react";var YS=jk(!1),$1=({children:t,withinTab:e=!0})=>kk(YS,{value:e,children:t}),ZS=()=>Mk(YS);import{jsx as Bk}from"react/jsx-runtime";import{createContext as Ok,use as Vk}from"react";var JS=Ok(!1),qS=({children:t,withinGroup:e=!0})=>Bk(JS,{value:e,children:t}),QS=()=>Vk(JS);var en="group-field",Hk=t=>{let{field:e,field:{admin:{className:o,description:n,hideGutter:r}={},fields:s,label:i},indexPath:l,parentPath:a,parentSchemaPath:c,path:u,permissions:d,readOnly:f,schemaPath:m}=t,h=m??(e.type==="group"&&KS(e)?e.name:u),{i18n:p}=$(),{isWithinCollapsible:g}=ys(),b=QS(),C=XS(),v=ZS(),{customComponents:{AfterInput:x,BeforeInput:y,Description:I,Label:w}={},errorPaths:D}=$e({path:u}),_=to(),R=D.length,T=_&&R>0,S=!(g||b||C),F=zk(()=>st(e),[e]);return sf("div",{className:[Te,en,S&&`${en}--top-level`,g&&`${en}--within-collapsible`,b&&`${en}--within-group`,C&&`${en}--within-row`,v&&`${en}--within-tab`,!r&&b&&`${en}--gutter`,T&&`${en}--has-error`,o].filter(Boolean).join(" "),id:`field-${u?.replace(/\./g,"__")}`,style:F,children:[Hn(qS,{children:sf("div",{className:`${en}__wrap`,children:[!!(w||I||i||T)&&sf("div",{className:`${en}__header`,children:[!!(w||I||i)&&sf("header",{children:[Hn(me,{CustomComponent:w,Fallback:Hn("h3",{className:`${en}__title`,children:Hn(we,{as:"span",label:Gk(i,p),localized:!1,path:u,required:!1})})}),Hn(me,{CustomComponent:I,Fallback:Hn(He,{description:n,path:u})})]}),T&&Hn(go,{count:R,i18n:p,withMessage:!0})]}),y,KS(e)?Hn(Do,{fields:s,margins:"small",parentIndexPath:"",parentPath:u,parentSchemaPath:h,permissions:d===!0?d:d?.fields,readOnly:f}):Hn(Do,{fields:s,margins:"small",parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:d,readOnly:f})]})}),x]})};var Lc=Ve(Hk);import{c as Wk}from"react/compiler-runtime";import{jsx as Uk}from"react/jsx-runtime";import{useEffect as Xk}from"react";var Yk=t=>{let e=Wk(12),{disableModifyingForm:o,path:n,value:r}=t,s=o===void 0?!0:o,i;e[0]!==n?(i={potentiallyStalePath:n},e[0]=n,e[1]=i):i=e[1];let{path:l,setValue:a,value:c}=$e(i),u,d;e[2]!==s||e[3]!==a||e[4]!==r?(u=()=>{r!==void 0&&a(r,s)},d=[r,a,s],e[2]=s,e[3]=a,e[4]=r,e[5]=u,e[6]=d):(u=e[5],d=e[6]),Xk(u,d);let f=`field-${l?.replace(/\./g,"__")}`,m=c||"",h;return e[7]!==l||e[8]!==a||e[9]!==f||e[10]!==m?(h=Uk("input",{id:f,name:l,onChange:a,type:"hidden",value:m}),e[7]=l,e[8]=a,e[9]=f,e[10]=m,e[11]=h):h=e[11],h},kc=Ve(Yk);var ub=Ks(k1(),1);import{jsx as Ni,jsxs as OM}from"react/jsx-runtime";import{fieldAffectsData as VM,flattenTopLevelFields as GM}from"payload/shared";import{useMemo as i4}from"react";import{jsx as po,jsxs as Pi}from"react/jsx-runtime";import{getTranslation as ab}from"@payloadcms/translations";import{hoistQueryParamsToAnd as BM,transformColumnsToPreferences as n4}from"payload/shared";import{Fragment as s4,useCallback as Sf,useEffect as lb,useState as Wn}from"react";import{jsx as uI}from"react/jsx-runtime";import{useRouter as oj,useSearchParams as rj}from"next/navigation.js";import{isNumber as nj,transformColumnsToSearchParams as sj}from"payload/shared";import*as B1 from"qs-esm";import ij,{useCallback as Va,useEffect as aj,useMemo as lj,useRef as cj,useState as dI}from"react";import{jsx as Qk}from"react/jsx-runtime";import{createContext as Kk,use as ej}from"react";var iI=Kk({}),j1=({children:t,...e})=>Qk(iI,{value:{isInDrawer:!!e.drawerSlug,...e},children:t}),fr=()=>{let t=ej(iI);if(!t)throw new Error("useListDrawerContext must be used within a ListDrawerContextProvider");return t};import*as aI from"qs-esm";function fo(t){let e=t.toString();return aI.parse(e,{depth:10,ignoreQueryPrefix:!0})}import{createContext as lI,use as tj}from"react";var M1=lI({}),Lt=()=>tj(M1),cI=lI(!1);var O1=({children:t,collectionSlug:e,columns:o,data:n,defaultLimit:r,defaultSort:s,listPreferences:i,modifySearchParams:l,onQueryChange:a,orderableFieldName:c})=>{"use no memo";let u=oj(),d=rj(),{startRouteTransition:f}=Je(),[m,h]=dI(!1),p=lj(()=>fo(d),[d]),g=cj({});g.current.modified=m;let{onQueryChange:b}=fr(),[C,v]=dI(()=>l?p:{limit:String(r),sort:s}),x=Va((S={})=>{let F="page"in S?S.page:C?.page;return("where"in S||"search"in S)&&(F="1"),{...C,...S,columns:"columns"in S?S.columns:C.columns,limit:"limit"in S?S.limit:C?.limit??String(r),page:F,preset:"preset"in S?S.preset:C?.preset,search:"search"in S?S.search:C?.search,sort:"sort"in S?S.sort:C?.sort??s,where:"where"in S?S.where:C?.where}},[C,r,s]),y=Va(async(S,F)=>{h(F!==void 0?F:!0);let A=x(S);l?f(()=>u.replace(`${B1.stringify({...A,columns:JSON.stringify(A.columns)},{addQueryPrefix:!0})}`)):(typeof b=="function"||typeof a=="function")&&(b||a)(A),v(A)},[x,l,b,a,f,u]),I=Va(async S=>{await y({page:String(S)})},[y]),w=ij.useCallback(async S=>{await y({limit:String(S),page:"1"})},[y]),D=Va(async S=>{await y({search:S===""?void 0:S})},[y]),_=Va(async S=>{await y({sort:S})},[y]),R=Va(async S=>{await y({where:S})},[y]),T=Gt(()=>{let S=!1,F={...C||{}};nj(r)&&!("limit"in C)&&(F.limit=String(r),S=!0),s&&!("sort"in C)&&(F.sort=s,S=!0),o&&i?.columns&&!("columns"in C)&&(F.columns=sj(o),S=!0),S&&(v(F),window.history.replaceState(null,"",`?${B1.stringify({...F,columns:JSON.stringify(F.columns)})}`))});return aj(()=>{l&&T()},[s,r,l,o]),uI(M1,{value:{collectionSlug:e,data:n,handlePageChange:I,handlePerPageChange:w,handleSearchChange:D,handleSortChange:_,handleWhereChange:R,orderableFieldName:c,query:C,refineListData:y,setModified:h,...g.current},children:uI(cI,{value:m,children:t})})};import{jsx as uj}from"react/jsx-runtime";import dj,{createContext as mj,useCallback as Ri}from"react";var mI=mj(void 0),At=()=>{let t=dj.use(mI);if(t===void 0)throw new Error("useServerFunctions must be used within a ServerFunctionsProvider");return t},V1=({children:t,serverFunction:e})=>{if(!e)throw new Error("ServerFunctionsProvider requires a serverFunction prop");let o=Ri(async c=>await e({name:"render-document-slots",args:c}),[e]),n=Ri(async c=>{let{signal:u,...d}=c;try{if(!u?.aborted){let m=await e({name:"schedule-publish",args:{...d}});if(!u?.aborted)return m}}catch(m){console.error(m)}let f=`Error scheduling ${d.type}`;return d.doc&&(f+=` for document with ID ${d.doc.value} in collection ${d.doc.relationTo}`),{error:f}},[e]),r=Ri(async c=>{let{signal:u,...d}=c||{};try{if(!u?.aborted){let f=await e({name:"form-state",args:{fallbackLocale:!1,...d}});if(!u?.aborted)return f}}catch(f){console.error(f)}return{state:null}},[e]),s=Ri(async c=>{let{signal:u,...d}=c||{};try{if(!u?.aborted){let f=await e({name:"table-state",args:{fallbackLocale:!1,...d}});if(!u?.aborted)return f}}catch(f){console.error(f)}},[e]),i=Ri(async c=>{let{signal:u,...d}=c||{};try{return await e({name:"render-document",args:{fallbackLocale:!1,...d}})}catch(f){console.error(f)}},[e]),l=Ri(async c=>{let{signal:u,...d}=c||{};try{let f=await e({name:"copy-data-from-locale",args:d});if(!u?.aborted)return f}catch(f){console.error(f)}},[e]),a=Ri(async c=>{let{signal:u,...d}=c||{};try{let f=await e({name:"get-folder-results-component-and-data",args:d});if(!u?.aborted)return f}catch(f){console.error(f)}},[e]);return uj(mI,{value:{copyDataFromLocale:l,getDocumentSlots:o,getFolderResultsComponentAndData:a,getFormState:r,getTableState:s,renderDocument:i,schedulePublish:n,serverFunction:e},children:t})};import{jsx as hj}from"react/jsx-runtime";import{transformColumnsToSearchParams as fI}from"payload/shared";import pI,{startTransition as hI,useCallback as z1,useRef as gj}from"react";import{createContext as fj,use as pj}from"react";var G1=fj({}),Ga=()=>pj(G1);var Mc=({children:t,collectionSlug:e,columnState:o,LinkedCellOverride:n})=>{let{getEntityConfig:r}=H(),{query:s,refineListData:i}=Lt(),{admin:{defaultColumns:l}={}}=r({collectionSlug:e}),[a,c]=pI.useOptimistic(o,(p,g)=>g),u=gj({}),d=z1(async p=>{let g=(a||[]).map(b=>b.accessor===p?{...b,active:!b.active}:b);hI(()=>{c(g)}),await i({columns:fI(g)})},[i,a,c]),f=z1(async p=>{let{fromIndex:g,toIndex:b}=p,C=[...a||[]],[v]=C.splice(g,1);C.splice(b,0,v),hI(()=>{c(C)}),await i({columns:fI(C)})},[a,i,c]),m=z1(async p=>{let g=s.columns;p.forEach(b=>{let C=g.findIndex(v=>b===v);C!==void 0&&g[C][0]==="-"&&(g[C]=b.slice(1))}),await i({columns:g})},[s,i]),h=pI.useCallback(async()=>{await i({columns:l||[]})},[l,i]);return hj(G1,{value:{columns:a,LinkedCellOverride:n,moveColumn:f,resetColumnsState:h,setActiveColumns:m,toggleColumn:d,...u.current},children:t})};import{jsx as gI}from"react/jsx-runtime";import{fieldIsHiddenOrDisabled as vj,fieldIsID as Cj}from"payload/shared";import{useId as xj,useMemo as bI}from"react";import{jsx as Ai}from"react/jsx-runtime";import bj from"react";var Bc="pill-selector",H1=({draggable:t,onClick:e,pills:o})=>{let n=bj.useMemo(()=>t?({children:r})=>Ai(Fr,{className:Bc,ids:o.map(s=>s.name),onDragEnd:({moveFromIndex:s,moveToIndex:i})=>{t.onDragEnd({moveFromIndex:s,moveToIndex:i})},children:r}):({children:r})=>Ai("div",{className:Bc,children:r}),[t,o]);return Ai(n,{children:o.map((r,s)=>Ai(dt,{alignIcon:"left","aria-checked":r.selected,className:[`${Bc}__pill`,r.selected&&`${Bc}__pill--selected`].filter(Boolean).join(" "),draggable:!!t,icon:r.selected?Ai(pt,{}):Ai(Yo,{}),id:r.name,onClick:()=>{e&&e({pill:r})},size:"small",children:r.Label??Ai("span",{className:`${Bc}__pill-label`,children:r.name})},r.key??`${r.name}-${s}`))})};var lf=({collectionSlug:t})=>{let{columns:e,moveColumn:o,toggleColumn:n}=Ga(),r=xj(),s=et(),i=bI(()=>e.filter(a=>!(vj(a.field)&&!Cj(a.field))&&!a?.field?.admin?.disableListColumn),[e]),l=bI(()=>i?i.map((a,c)=>{let{accessor:u,active:d,field:f}=a,m="labelWithPrefix"in f&&f.labelWithPrefix!==void 0?f.labelWithPrefix:"label"in f&&f.label!==void 0?f.label:"name"in f&&f.name!==void 0?f.name:void 0;return{name:u,key:`${t}-${u}-${c}${s?`-${s}-`:""}${r}`,Label:gI(we,{label:m,unstyled:!0}),selected:d}}):null,[t,s,i,r]);return l?gI(H1,{draggable:{onDragEnd:({moveFromIndex:a,moveToIndex:c})=>{o({fromIndex:a,toIndex:c})}},onClick:({pill:a})=>{n(a.name)},pills:l}):null};import{c as AI}from"react/compiler-runtime";import{jsx as df}from"react/jsx-runtime";import{createElement as kj}from"react";import{useEffect as jj,useId as Mj,useState as Bj}from"react";import{c as yj}from"react/compiler-runtime";import{useState as wj}from"react";var cf=t=>{let e=yj(3),{getEntityConfig:o}=H(),n;e[0]!==o||e[1]!==t?(n=()=>t?(typeof t=="string"?[t]:t).map(i=>o({collectionSlug:i})):[],e[0]=o,e[1]=t,e[2]=n):n=e[2];let[r]=wj(n);return r};import{jsx as FI}from"react/jsx-runtime";import $j,{useCallback as Vc,useEffect as TI,useRef as Lj,useState as Y1}from"react";import{c as X1}from"react/compiler-runtime";import{jsx as Ei,jsxs as SI}from"react/jsx-runtime";import{getTranslation as Tj}from"@payloadcms/translations";import Rj from"react";import{c as Ij}from"react/compiler-runtime";import{jsx as _j,jsxs as Dj}from"react/jsx-runtime";import xI,{createContext as Fj}from"react";import{c as Sj}from"react/compiler-runtime";import*as Rs from"react";var W1=t=>{let e=Sj(13),{delayBeforeShow:o,inTimeout:n,minShowTime:r,outTimeout:s,show:i}=t,l=n+r+s,[a,c]=ph(o),[u,d]=Rs.useState(!1),[f,m]=Rs.useState(!1),h=Rs.useRef(0),p=Rs.useRef(void 0),g;e[0]!==s?(g=()=>{m(!0),p.current=setTimeout(()=>{d(!1),m(!1)},s)},e[0]=s,e[1]=g):g=e[1];let b=g,C,v;e[2]!==a||e[3]!==u||e[4]!==i||e[5]!==l||e[6]!==b?(C=()=>{let y=a&&!u&&i,I=u&&!i;if(y)h.current=Date.now(),d(!0);else if(I){let w=Date.now()-h.current,D=l-w;clearTimeout(p.current),p.current=setTimeout(b,Math.max(0,D))}},v=[u,i,b,l,a],e[2]=a,e[3]=u,e[4]=i,e[5]=l,e[6]=b,e[7]=C,e[8]=v):(C=e[7],v=e[8]),Rs.useEffect(C,v);let x;return e[9]!==u||e[10]!==f||e[11]!==c?(x={isMounted:u,isUnmounting:f,triggerDelayedRender:c},e[9]=u,e[10]=f,e[11]=c,e[12]=x):x=e[12],x};var vI={isLoading:!1,loaders:[],loadingText:"",overlayType:null},CI=(t,e)=>{let o=[...t.loaders],{type:n="fullscreen",key:r="user",loadingText:s}=e.payload;if(e.type==="add")o.push({type:n,key:r,loadingText:s});else if(e.type==="remove"){let l=o.findIndex(a=>a.key===r&&a.type===n);o.splice(l,1)}let i=o?.length>0?o[o.length-1]:null;return{isLoading:!!i,loaders:o,loadingText:i?.loadingText||t?.loadingText,overlayType:i?.type||t?.overlayType}};var U1=250,yI=Fj({isOnScreen:!1,toggleLoadingOverlay:void 0}),wI=t=>{let e=Ij(21),{children:o}=t,{t:n}=$(),r;e[0]!==n?(r=n("general:loading"),e[0]=n,e[1]=r):r=e[1];let s=r,[i,l]=xI.useReducer(CI,vI),a;e[2]!==i.isLoading?(a={delayBeforeShow:1e3,inTimeout:U1,minShowTime:500,outTimeout:U1,show:i.isLoading},e[2]=i.isLoading,e[3]=a):a=e[3];let{isMounted:c,isUnmounting:u,triggerDelayedRender:d}=W1(a),f;e[4]!==s||e[5]!==d?(f=p=>{let{type:g,isLoading:b,key:C,loadingText:v}=p,x=v===void 0?s:v;b?(d(),l({type:"add",payload:{type:g,key:C,loadingText:x}})):l({type:"remove",payload:{type:g,key:C}})},e[4]=s,e[5]=d,e[6]=f):f=e[6];let m=f,h;if(e[7]!==o||e[8]!==s||e[9]!==c||e[10]!==u||e[11]!==i.loadingText||e[12]!==i.overlayType||e[13]!==m){let p;e[15]!==s||e[16]!==c||e[17]!==u||e[18]!==i.loadingText||e[19]!==i.overlayType?(p=c&&_j(tn,{animationDuration:`${U1}ms`,loadingText:i.loadingText||s,overlayType:i.overlayType,show:!u}),e[15]=s,e[16]=c,e[17]=u,e[18]=i.loadingText,e[19]=i.overlayType,e[20]=p):p=e[20],h=Dj(yI,{value:{isOnScreen:c,toggleLoadingOverlay:m},children:[p,o]}),e[7]=o,e[8]=s,e[9]=c,e[10]=u,e[11]=i.loadingText,e[12]=i.overlayType,e[13]=m,e[14]=h}else h=e[14];return h},uf=()=>{let t=xI.use(yI);if(t===void 0)throw new Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return t};var on="loading-overlay",tn=t=>{let e=X1(11),{animationDuration:o,loadingText:n,overlayType:r,show:s}=t,i=s===void 0?!0:s,{t:l}=$(),a=i?`${on}--entering`:`${on}--exiting`,c=r?`${on}--${r}`:"",u;e[0]!==a||e[1]!==c?(u=[on,a,c].filter(Boolean),e[0]=a,e[1]=c,e[2]=u):u=e[2];let d=u.join(" "),f=o||"500ms",m;if(e[3]!==n||e[4]!==l||e[5]!==d||e[6]!==f){let h;e[8]!==n||e[9]!==l?(h=n||l("general:loading"),e[8]=n,e[9]=l,e[10]=h):h=e[10],m=SI("div",{className:d,style:{animationDuration:f},children:[SI("div",{className:`${on}__bars`,children:[Ei("div",{className:`${on}__bar`}),Ei("div",{className:`${on}__bar`}),Ei("div",{className:`${on}__bar`}),Ei("div",{className:`${on}__bar`}),Ei("div",{className:`${on}__bar`})]}),Ei("span",{className:`${on}__text`,children:h})]}),e[3]=n,e[4]=l,e[5]=d,e[6]=f,e[7]=m}else m=e[7];return m},II=t=>{let e=X1(7),{name:o,type:n,loadingText:r,show:s}=t,i=n===void 0?"fullscreen":n,{toggleLoadingOverlay:l}=uf(),a,c;return e[0]!==o||e[1]!==r||e[2]!==s||e[3]!==l||e[4]!==i?(a=()=>(l({type:i,isLoading:s,key:o,loadingText:r||void 0}),()=>{l({type:i,isLoading:!1,key:o})}),c=[s,l,o,i,r],e[0]=o,e[1]=r,e[2]=s,e[3]=l,e[4]=i,e[5]=a,e[6]=c):(a=e[5],c=e[6]),Rj.useEffect(a,c),null},Aj=t=>{let e=X1(6),{name:o,type:n,action:r,formIsLoading:s,loadingSuffix:i}=t,l=n===void 0?"fullscreen":n,a=s===void 0?!1:s,c=Dr(),{i18n:u,t:d}=$(),m=`${{create:d("general:creating"),loading:d("general:loading"),update:d("general:updating")}[r]} ${i?Tj(i,u):""}`,h;return e[0]!==a||e[1]!==c||e[2]!==o||e[3]!==m||e[4]!==l?(h=Ei(II,{loadingText:m.trim(),name:o,show:a||c,type:l}),e[0]=a,e[1]=c,e[2]=o,e[3]=m,e[4]=l,e[5]=h):h=e[5],h};function pr(t){if(t)try{t.abort()}catch{}}function hr(t){let e=new AbortController;if(t.current)try{t.current.abort()}catch{}return t.current=e,e}import{jsx as Ej}from"react/jsx-runtime";import{createContext as Pj,use as Nj}from"react";var _I=Pj({}),DI=({children:t,...e})=>Ej(_I,{value:e,children:t}),Oc=()=>{let t=Nj(_I);if(!t)throw new Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return t};var RI=({id:t,collectionSlug:e,disableActions:o,drawerSlug:n,initialData:r,onDelete:s,onDuplicate:i,onSave:l,overrideEntityVisibility:a=!0,redirectAfterCreate:c,redirectAfterDelete:u,redirectAfterDuplicate:d})=>{let{getEntityConfig:f}=H(),m=Ie(),[h]=Y1(()=>f({collectionSlug:e})),p=$j.useRef(null),{closeModal:g}=le(),{t:b}=$(),{renderDocument:C}=At(),[v,x]=Y1(void 0),[y,I]=Y1(!0),w=Lj(!1),D=Vc(F=>{let A=hr(p);(async()=>{I(!0);try{let E=await C({collectionSlug:e,disableActions:o,docID:F,drawerSlug:n,initialData:r,locale:m,overrideEntityVisibility:a,redirectAfterCreate:c,redirectAfterDelete:u!==void 0?u:!1,redirectAfterDuplicate:d!==void 0?d:!1,signal:A.signal});E?.Document&&(x(E.Document),I(!1))}catch(E){ue.error(E?.message||b("error:unspecific")),g(n)}p.current=null})()},[e,o,n,r,u,d,C,c,g,a,b,m]),_=Vc(F=>{D(F.doc.id),typeof l=="function"&&l({...F,collectionConfig:h})},[l,h,D]),R=Vc(F=>{D(F.doc.id),typeof i=="function"&&i({...F,collectionConfig:h})},[i,h,D]),T=Vc(F=>{typeof s=="function"&&s({...F,collectionConfig:h}),g(n)},[s,g,n,h]),S=Vc(()=>{D()},[D]);return TI(()=>{!v&&!w.current&&(D(t),w.current=!0)},[v,D,t]),TI(()=>{let F=p.current;return()=>{pr(F)}},[]),y?FI(tn,{}):FI(DI,{clearDoc:S,drawerSlug:n,onDelete:T,onDuplicate:R,onSave:_,children:v})};var As="doc-drawer",Oj=({id:t,collectionSlug:e,depth:o,uuid:n})=>`doc-drawer_${e}_${o}${t?`_${t}`:""}_${n}`,Vj=t=>{let e=AI(21),o,n,r,s,i,l,a,c;e[0]!==t?({id:l,children:o,className:n,collectionSlug:r,disabled:s,drawerSlug:i,onClick:a,...c}=t,e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=a,e[8]=c):(o=e[1],n=e[2],r=e[3],s=e[4],i=e[5],l=e[6],a=e[7],c=e[8]);let{t:u}=$(),[d]=cf(r),f=l?"general:editLabel":"fields:addNewLabel",m=d?.labels.singular,h;if(e[9]!==o||e[10]!==n||e[11]!==s||e[12]!==i||e[13]!==a||e[14]!==c||e[15]!==u||e[16]!==f||e[17]!==m){let p=u(f,{label:m}),g;e[19]!==n?(g=[n,`${As}__toggler`].filter(Boolean),e[19]=n,e[20]=g):g=e[20],h=df(kn,{"aria-label":p,className:g.join(" "),disabled:s,onClick:a,slug:i,...c,children:o}),e[9]=o,e[10]=n,e[11]=s,e[12]=i,e[13]=a,e[14]=c,e[15]=u,e[16]=f,e[17]=m,e[18]=h}else h=e[18];return h},Z1=t=>{let{drawerSlug:e}=t;return df($t,{className:As,gutter:!1,Header:null,slug:e,children:df(RI,{...t})})},bt=t=>{let e=AI(38),{id:o,collectionSlug:n,overrideEntityVisibility:r}=t,s=et(),i=Mj(),{closeModal:l,modalState:a,openModal:c,toggleModal:u}=le(),[d,f]=Bj(!1),m;e[0]!==n||e[1]!==s||e[2]!==o||e[3]!==i?(m=Oj({id:o,collectionSlug:n,depth:s,uuid:i}),e[0]=n,e[1]=s,e[2]=o,e[3]=i,e[4]=m):m=e[4];let h=m,p,g;e[5]!==h||e[6]!==a?(p=()=>{f(!!a[h]?.isOpen)},g=[a,h],e[5]=h,e[6]=a,e[7]=p,e[8]=g):(p=e[7],g=e[8]),jj(p,g);let b;e[9]!==h||e[10]!==u?(b=()=>{u(h)},e[9]=h,e[10]=u,e[11]=b):b=e[11];let C=b,v;e[12]!==l||e[13]!==h?(v=()=>{l(h)},e[12]=l,e[13]=h,e[14]=v):v=e[14];let x=v,y;e[15]!==h||e[16]!==c?(y=()=>{c(h)},e[15]=h,e[16]=c,e[17]=y):y=e[17];let I=y,w,D;e[18]!==n||e[19]!==h||e[20]!==o||e[21]!==r?(D=k=>kj(Z1,{...k,collectionSlug:n,drawerSlug:h,id:o,key:h,overrideEntityVisibility:r}),e[18]=n,e[19]=h,e[20]=o,e[21]=r,e[22]=D):D=e[22],w=D;let _=w,R,T;e[23]!==n||e[24]!==h||e[25]!==o?(T=k=>df(Vj,{...k,collectionSlug:n,drawerSlug:h,id:o}),e[23]=n,e[24]=h,e[25]=o,e[26]=T):T=e[26],R=T;let S=R,F,A;e[27]!==x||e[28]!==h||e[29]!==s||e[30]!==d||e[31]!==I||e[32]!==C?(A={closeDrawer:x,drawerDepth:s,drawerSlug:h,isDrawerOpen:d,openDrawer:I,toggleDrawer:C},e[27]=x,e[28]=h,e[29]=s,e[30]=d,e[31]=I,e[32]=C,e[33]=A):A=e[33],F=A;let P=F,E;return e[34]!==_||e[35]!==P||e[36]!==S?(E=[_,S,P],e[34]=_,e[35]=P,e[36]=S,e[37]=E):E=e[37],E};import{c as Gj}from"react/compiler-runtime";import{jsx as zj}from"react/jsx-runtime";import{createContext as Hj,use as Wj,useEffect as Uj,useReducer as Xj,useRef as Yj}from"react";function EI(t,e){switch(e.type){case"ADD_LOADED":{let o={...t};typeof o[e.relationTo]!="object"&&(o[e.relationTo]={});let n=[...e.idsToLoad];return Array.isArray(e.docs)&&e.docs.forEach(r=>{n.splice(n.indexOf(r.id),1),o[e.relationTo][r.id]=r}),n.forEach(r=>{o[e.relationTo][r]=!1}),o}case"REQUEST":{let o={...t};return e.docs.forEach(({relationTo:n,value:r})=>{typeof o[n]!="object"&&(o[n]={}),o[n][r]=null}),o}default:return t}}var PI=Hj({}),Gc=t=>{let e=Gj(15),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];let[r,s]=Xj(EI,n),i=ar(r,100),{config:l}=H(),{routes:a,serverURL:c}=l,{api:u}=a,{i18n:d}=$(),{code:f}=Ie(),m=Yj(f),h;e[1]!==u||e[2]!==i||e[3]!==d||e[4]!==f||e[5]!==c?(h=y=>{let I=y===void 0?!1:y;Object.entries(i).forEach(async w=>{let[D,_]=w,R=[];if(Object.entries(_).forEach(T=>{let[S,F]=T;(F===null||I)&&R.push(S)}),R.length>0){let T=`${c}${u}/${D}`,S=new URLSearchParams;if(S.append("depth","0"),S.append("limit","250"),f&&S.append("locale",f),R&&R.length>0){let P=R.map(Zj);S.append("where[id][in]",P.join(","))}let F=`?${S.toString()}`,A=await fetch(`${T}${F}`,{credentials:"include",headers:{"Accept-Language":d.language}});if(A.ok){let P=await A.json();P.docs&&s({type:"ADD_LOADED",docs:P.docs,idsToLoad:R,relationTo:D})}else s({type:"ADD_LOADED",docs:[],idsToLoad:R,relationTo:D})}})},e[1]=u,e[2]=i,e[3]=d,e[4]=f,e[5]=c,e[6]=h):h=e[6];let p=h,g,b;e[7]!==p||e[8]!==f?(g=()=>{p(f&&m.current!==f),m.current=f},b=[f,p],e[7]=p,e[8]=f,e[9]=g,e[10]=b):(g=e[9],b=e[10]),Uj(g,b);let C;e[11]===Symbol.for("react.memo_cache_sentinel")?(C=y=>{s({type:"REQUEST",docs:y})},e[11]=C):C=e[11];let v=C,x;return e[12]!==o||e[13]!==r?(x=zj(PI,{value:{documents:r,getRelationships:v},children:o}),e[12]=o,e[13]=r,e[14]=x):x=e[14],x},J1=()=>Wj(PI);function Zj(t){return String(t)}import{c as EM}from"react/compiler-runtime";import{jsx as yf,jsxs as PM}from"react/jsx-runtime";import"react";import{c as TM}from"react/compiler-runtime";import{jsx as JI}from"react/jsx-runtime";import qI from"react";import{c as yM}from"react/compiler-runtime";import{jsx as Ha,jsxs as wM}from"react/jsx-runtime";import{getTranslation as SM}from"@payloadcms/translations";import{fieldAffectsData as IM,fieldIsID as _M}from"payload/shared";import DM from"react";import{formatAdminURL as mf}from"payload/shared";import{getTranslation as Jj}from"@payloadcms/translations";import qj from"react";var NI=(t,e,o)=>{if((e?.type==="select"||e?.type==="radio")&&Array.isArray(e.options)){let n=e.options.find(r=>typeof r=="object"?r.value===t:r===t);if(n)return typeof n=="object"&&"label"in n?qj.isValidElement(n.label)?n.label:Jj(n.label,o)||n.value:n}return t};import{jsx as $I}from"react/jsx-runtime";import"react";var ff=({cellData:t,nowrap:e})=>{let o=t?.length>100?`${t.substring(0,100)}\u2026`:t;return $I("code",{className:"code-cell",style:e?{whiteSpace:"nowrap"}:{},children:$I("span",{children:o})})};import{c as Qj}from"react/compiler-runtime";import{jsx as Kj}from"react/jsx-runtime";import{getTranslation as LI}from"@payloadcms/translations";import"react";var kI=t=>{let e=Qj(2),{cellData:o,field:n}=t,{labels:r}=n,{i18n:s}=$(),i=o??[],l=i.length===1?`${i.length} ${LI(r?.singular||s.t("general:rows"),s)}`:`${i.length} ${LI(r?.plural||s.t("general:rows"),s)}`,a;return e[0]!==l?(a=Kj("span",{children:l}),e[0]=l,e[1]=a):a=e[1],a};import{c as eM}from"react/compiler-runtime";import{jsx as tM}from"react/jsx-runtime";import{getTranslation as pf}from"@payloadcms/translations";import"react";var jI=t=>{let e=eM(2),{cellData:o,field:n}=t,{blockReferences:r,blocks:s,labels:i}=n,{i18n:l}=$(),{config:a}=H(),c=Array.isArray(o)?o.map(oM):[],u=(r??s)?.map(h=>{let p=typeof h=="string"?a.blocksMap[h]:h;return{slug:p.slug,label:pf(p.labels.singular,l)}}),d=`0 ${pf(i?.plural,l)}`,f=h=>h.map(p=>u.filter(b=>b.slug===p)?.[0]?.label).join(", ");if(c.length>5){let h=c.length-5;d=`${c.length} ${pf(i?.plural,l)} - ${l.t("fields:itemsAndMore",{count:h,items:f(c.slice(0,5))})}`}else c.length>0&&(d=`${c.length} ${pf(c.length===1?i?.singular:i?.plural,l)} - ${f(c)}`);let m;return e[0]!==d?(m=tM("span",{children:d}),e[0]=d,e[1]=m):m=e[1],m};function oM(t){let{blockType:e}=t;return e}import{c as rM}from"react/compiler-runtime";import{jsx as MI}from"react/jsx-runtime";import"react";var BI=t=>{let e=rM(3),{cellData:o}=t,{t:n}=$(),r=`general:${o}`,s;return e[0]!==n||e[1]!==r?(s=MI("code",{className:"bool-cell",children:MI("span",{children:n(r).toLowerCase()})}),e[0]=n,e[1]=r,e[2]=s):s=e[2],s};import{c as nM}from"react/compiler-runtime";import{jsx as sM}from"react/jsx-runtime";import"react";var q1=t=>{let e=nM(8),{cellData:o,field:n}=t,{admin:r}=n,s;e[0]!==r?(s=r===void 0?{}:r,e[0]=r,e[1]=s):s=e[1];let{date:i}=s,{config:l}=H(),{admin:a}=l,{dateFormat:c}=a,u=i?.displayFormat||c,{i18n:d}=$(),f;e[2]!==o||e[3]!==u||e[4]!==d?(f=o&&Rr({date:o,i18n:d,pattern:u}),e[2]=o,e[3]=u,e[4]=d,e[5]=f):f=e[5];let m;return e[6]!==f?(m=sM("span",{children:f}),e[6]=f,e[7]=m):m=e[7],m};import{jsx as K1,jsxs as aM,Fragment as lM}from"react/jsx-runtime";import{getBestFitFromSizes as cM,isImage as uM}from"payload/shared";import"react";import{c as OI}from"react/compiler-runtime";import{jsx as za,jsxs as VI}from"react/jsx-runtime";import gf from"react";import{jsx as Q1,jsxs as iM}from"react/jsx-runtime";import"react";var hf=()=>iM("svg",{height:"150",viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[Q1("rect",{fill:"#333333",height:"150",transform:"translate(0 0.5)",width:"150"}),Q1("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),Q1("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]});var bf="thumbnail",gr=t=>{let e=OI(17),{className:o,doc:n,fileSrc:r,imageCacheTag:s,size:i}=t,l=o===void 0?"":o,a;e[0]!==n?(a=n===void 0?{}:n,e[0]=n,e[1]=a):a=e[1];let{filename:c}=a,[u,d]=gf.useState(void 0),f=`${bf}--size-${i||"medium"}`,m;e[2]!==l||e[3]!==f?(m=[bf,f,l],e[2]=l,e[3]=f,e[4]=m):m=e[4];let h=m.join(" "),p,g;e[5]!==r?(p=()=>{if(!r){d(!1);return}d(void 0);let v=new Image;v.src=r,v.onload=()=>{d(!0)},v.onerror=()=>{d(!1)}},g=[r],e[5]=r,e[6]=p,e[7]=g):(p=e[6],g=e[7]),gf.useEffect(p,g);let b=null;if(r){let v=r?.includes("?")?"&":"?";b=s?`${r}${v}${encodeURIComponent(s)}`:r}let C;if(e[8]!==h||e[9]!==u||e[10]!==c||e[11]!==b){let v;e[13]!==u||e[14]!==c||e[15]!==b?(v=u&&za("img",{alt:c,src:b}),e[13]=u,e[14]=c,e[15]=b,e[16]=v):v=e[16],C=VI("div",{className:h,children:[u===void 0&&za(Nt,{height:"100%"}),v,u===!1&&za(hf,{})]}),e[8]=h,e[9]=u,e[10]=c,e[11]=b,e[12]=C}else C=e[12];return C};function GI(t){let e=OI(17),{alt:o,className:n,filename:r,fileSrc:s,imageCacheTag:i,size:l}=t,a=n===void 0?"":n,[c,u]=gf.useState(void 0),d=`${bf}--size-${l||"medium"}`,f;e[0]!==a||e[1]!==d?(f=[bf,d,a],e[0]=a,e[1]=d,e[2]=f):f=e[2];let m=f.join(" "),h,p;e[3]!==s?(h=()=>{if(!s){u(!1);return}u(void 0);let C=new Image;C.src=s,C.onload=()=>{u(!0)},C.onerror=()=>{u(!1)}},p=[s],e[3]=s,e[4]=h,e[5]=p):(h=e[4],p=e[5]),gf.useEffect(h,p);let g="";if(s){let C=s?.includes("?")?"&":"?";g=i?`${s}${C}${encodeURIComponent(i)}`:s}let b;if(e[6]!==o||e[7]!==m||e[8]!==c||e[9]!==r||e[10]!==g){let C;e[12]!==o||e[13]!==c||e[14]!==r||e[15]!==g?(C=c&&za("img",{alt:o||r,src:g}),e[12]=o,e[13]=c,e[14]=r,e[15]=g,e[16]=C):C=e[16],b=VI("div",{className:m,children:[c===void 0&&za(Nt,{height:"100%"}),C,c===!1&&za(hf,{})]}),e[6]=o,e[7]=m,e[8]=c,e[9]=r,e[10]=g,e[11]=b}else b=e[11];return b}var eb="file",vf=({cellData:t,collectionConfig:e,field:o,rowData:n})=>{if(("displayPreview"in o?o.displayPreview:void 0)??e.upload?.displayPreview??!0){let i=uM(n?.mimeType),l=i?n?.thumbnailURL||n?.url:n?.thumbnailURL;return i&&(l=cM({sizes:n?.sizes,thumbnailURL:n?.thumbnailURL,url:n?.url,width:n?.width})),aM("div",{className:eb,children:[K1(gr,{className:`${eb}__thumbnail`,collectionSlug:e?.slug,doc:{...n,filename:t},fileSrc:l,size:"small",uploadConfig:e?.upload}),K1("span",{className:`${eb}__filename`,children:String(t)})]})}else return K1(lM,{children:String(t)})};import{jsx as zI}from"react/jsx-runtime";import"react";var HI=({cellData:t})=>{let e=t?.length>100?`${t.substring(0,100)}\u2026`:t;return zI("code",{className:"json-cell",children:zI("span",{children:JSON.stringify(e)})})};import{c as dM}from"react/compiler-runtime";import{jsx as mM,jsxs as UI}from"react/jsx-runtime";import{getTranslation as fM}from"@payloadcms/translations";import pM,{useEffect as XI,useState as YI}from"react";var WI=!!(typeof window<"u"&&window.document&&window.document.createElement);var hM="relationship-cell",Cf=3,xf=t=>{let e=dM(40),{cellData:o,customCellProps:n,field:r,field:s}=t,{label:i}=s,l="relationTo"in r&&r.relationTo||"collection"in r&&r.collection,a;a="collection"in r?o?.docs:o;let c=a,{config:u,getEntityConfig:d}=H(),{collections:f,routes:m}=u,[h,p]=En(),g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],e[0]=g):g=e[0];let[b,C]=YI(g),{documents:v,getRelationships:x}=J1(),[y,I]=YI(!1),{i18n:w,t:D}=$(),_=WI?p?.boundingClientRect?.top<window.innerHeight:!1,R;e[1]!==c||e[2]!==x||e[3]!==y||e[4]!==_||e[5]!==l?(R=()=>{if((c||typeof c=="number")&&_&&!y){let P=[],E=Array.isArray(c)?c:[c];E.slice(0,E.length<Cf?E.length:Cf).forEach(k=>{typeof k=="object"&&"relationTo"in k&&"value"in k&&P.push(k),(typeof k=="number"||typeof k=="string")&&typeof l=="string"&&P.push({relationTo:l,value:k})}),x(P),I(!0),C(P)}},e[1]=c,e[2]=x,e[3]=y,e[4]=_,e[5]=l,e[6]=R):R=e[6];let T;e[7]!==c||e[8]!==f||e[9]!==x||e[10]!==y||e[11]!==_||e[12]!==l||e[13]!==m.api?(T=[c,l,f,_,m.api,y,x],e[7]=c,e[8]=f,e[9]=x,e[10]=y,e[11]=_,e[12]=l,e[13]=m.api,e[14]=T):T=e[14],XI(R,T);let S;e[15]!==y?(S=()=>{y&&I(!1)},e[15]=y,e[16]=S):S=e[16];let F;e[17]!==c?(F=[c],e[17]=c,e[18]=F):F=e[18],XI(S,F);let A;if(e[19]!==c||e[20]!==u.admin||e[21]!==n||e[22]!==v||e[23]!==r||e[24]!==d||e[25]!==w||e[26]!==h||e[27]!==i||e[28]!==D||e[29]!==b){let P;e[31]!==u.admin||e[32]!==n||e[33]!==v||e[34]!==r||e[35]!==d||e[36]!==w||e[37]!==D||e[38]!==b.length?(P=(E,k)=>{let{relationTo:M,value:N}=E,L=v[M][N],O=d({collectionSlug:M}),j=jo({collectionConfig:O,data:L||null,dateFormat:u.admin.dateFormat,fallback:`${D("general:untitled")} - ID: ${N}`,i18n:w}),B=null;return r.type==="upload"&&(("displayPreview"in r?r.displayPreview:void 0)??O.upload?.displayPreview??!0)&&L&&(B=mM(vf,{cellData:j,collectionConfig:O,collectionSlug:O.slug,customCellProps:n,field:r,rowData:L})),UI(pM.Fragment,{children:[L===!1&&`${D("general:untitled")} - ID: ${N}`,L===null&&`${D("general:loading")}...`,L?B||j:null,b.length>k+1&&", "]},k)},e[31]=u.admin,e[32]=n,e[33]=v,e[34]=r,e[35]=d,e[36]=w,e[37]=D,e[38]=b.length,e[39]=P):P=e[39],A=UI("div",{className:hM,ref:h,children:[b.map(P),Array.isArray(c)&&c.length>Cf&&D("fields:itemsAndMore",{count:c.length-Cf,items:""}),b.length===0&&D("general:noLabel",{label:fM(i||"",w)})]}),e[19]=c,e[20]=u.admin,e[21]=n,e[22]=v,e[23]=r,e[24]=d,e[25]=w,e[26]=h,e[27]=i,e[28]=D,e[29]=b,e[30]=A}else A=e[30];return A};import{c as gM}from"react/compiler-runtime";import{jsx as bM}from"react/jsx-runtime";import{getTranslation as vM}from"@payloadcms/translations";import{optionsAreObjects as CM}from"payload/shared";import"react";var tb=t=>{let e=gM(10),{cellData:o,field:n}=t,{options:r}=n,{i18n:s}=$(),i;e[0]!==s||e[1]!==r?(i=u=>u.map(d=>{let f=r.filter(m=>m.value===d)?.[0]?.label;return vM(f,s)}).join(", "),e[0]=s,e[1]=r,e[2]=i):i=e[2];let l=i,a;if(CM(r)){let u;e[3]!==o||e[4]!==l?(u=Array.isArray(o)?l(o):l([o]),e[3]=o,e[4]=l,e[5]=u):u=e[5],a=u}else{let u;e[6]!==o?(u=Array.isArray(o)?o.join(", "):o,e[6]=o,e[7]=u):u=e[7],a=u}let c;return e[8]!==a?(c=bM("span",{children:a}),e[8]=a,e[9]=c):c=e[9],c};import{jsx as xM}from"react/jsx-runtime";import"react";var ZI=({cellData:t})=>{let e=t?.length>100?`${t.substring(0,100)}\u2026`:t;return xM("span",{children:e})};var ob={array:kI,blocks:jI,checkbox:BI,code:ff,date:q1,File:vf,join:xf,json:HI,radio:tb,relationship:xf,select:tb,textarea:ZI,upload:xf};var zc=t=>{let e=yM(14),{cellData:o,className:n,collectionSlug:r,field:s,field:i,link:l,onClick:a,rowData:c}=t,{admin:u}=i,{i18n:d}=$(),{config:f,getEntityConfig:m}=H(),{routes:h}=f,{admin:p}=h,g,b;if(e[0]!==u||e[1]!==p||e[2]!==o||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==m||e[7]!==d||e[8]!==l||e[9]!==a||e[10]!==t||e[11]!==c){b=Symbol.for("react.early_return_sentinel");e:{let C=m({collectionSlug:r}),v=u&&"className"in u?u.className:void 0,x=n||(s.admin&&"className"in s.admin?s.admin.className:null)||v,y=a,I="span",w={className:x};if(l&&(w.prefetch=!1,I=Vt,w.href=C?.slug?mf({adminRoute:p,path:`/collections/${C?.slug}/${encodeURIComponent(c.id)}`}):""),typeof y=="function"&&(I="button",w.type="button",w.onClick=()=>{y({cellData:o,collectionSlug:C?.slug,rowData:c})}),_M(s)){b=Ha(I,{...w,children:Ha(ff,{cellData:`ID: ${o}`,collectionConfig:C,collectionSlug:r,field:{...s,type:"code"},nowrap:!0,rowData:c})});break e}let D=NI(o,s,d),_=typeof o<"u"&&ob[s.type],R=null;if(DM.isValidElement(D))R=D;else if(_)R=Ha(_,{cellData:o,rowData:c,...t});else if(!_)if(C?.upload&&IM(s)&&s.name==="filename"&&s.type==="text"){let T=ob.File;R=Ha(T,{cellData:o,rowData:c,...t,collectionConfig:C,field:s})}else{b=wM(I,{...w,children:[(D===""||typeof D>"u"||D===null)&&d.t("general:noLabel",{label:SM(("label"in s?s.label:null)||"data",d)}),typeof D=="string"&&D,typeof D=="number"&&D,typeof D=="object"&&D!==null&&JSON.stringify(D)]});break e}if((s.type==="select"||s.type==="radio")&&s.options.length&&o){let T=Array.isArray(o)?o.map(FM).join(" "):`selected--${o}`,S=[w.className,T].filter(Boolean).join(" ");b=Ha(I,{...w,className:S,children:R});break e}g=Ha(I,{...w,children:R})}e[0]=u,e[1]=p,e[2]=o,e[3]=n,e[4]=r,e[5]=s,e[6]=m,e[7]=d,e[8]=l,e[9]=a,e[10]=t,e[11]=c,e[12]=g,e[13]=b}else g=e[12],b=e[13];return b!==Symbol.for("react.early_return_sentinel")?b:g};function FM(t){return`selected--${t}`}var RM="default-cell",QI=qI.createContext(null),rb=()=>qI.use(QI),AM=t=>{let e=TM(9),{clientProps:o,columnIndex:n,isLinkedColumn:r}=t,{drawerSlug:s,onSelect:i}=fr(),{LinkedCellOverride:l}=Ga(),a;if(e[0]!==l||e[1]!==o||e[2]!==n||e[3]!==s||e[4]!==r||e[5]!==i){let c={...o,columnIndex:n};if(r&&s){c.className=`${RM}__first-cell`,c.link=!1;let u;e[7]!==i?(u=d=>{let{collectionSlug:f,rowData:m}=d;typeof i=="function"&&i({collectionSlug:f,doc:m,docID:m.id})},e[7]=i,e[8]=u):u=e[8],c.onClick=u}a=JI(QI,{value:c,children:r&&l?l:JI(zc,{...c})}),e[0]=l,e[1]=o,e[2]=n,e[3]=s,e[4]=r,e[5]=i,e[6]=a}else a=e[6];return a};var KI=t=>{let e=EM(15),{onDrawerDelete:o,onDrawerSave:n}=t,r=rb(),s=r?.rowData.id,i=r?.collectionSlug,l;e[0]!==s||e[1]!==i?(l={id:s,collectionSlug:i},e[0]=s,e[1]=i,e[2]=l):l=e[2];let[a,c,u]=bt(l),{closeDrawer:d}=u,f;e[3]!==d||e[4]!==n?(f=b=>{d(),typeof n=="function"&&n(b)},e[3]=d,e[4]=n,e[5]=f):f=e[5];let m=f,h;e[6]!==d||e[7]!==o?(h=b=>{d(),typeof o=="function"&&o(b)},e[6]=d,e[7]=o,e[8]=h):h=e[8];let p=h,g;return e[9]!==a||e[10]!==c||e[11]!==r||e[12]!==p||e[13]!==m?(g=PM("div",{className:"drawer-link",children:[yf(zc,{...r,className:"drawer-link__cell",link:!1,onClick:null}),yf(c,{children:yf(Wr,{})}),yf(a,{onDelete:p,onSave:m})]}),e[9]=a,e[10]=c,e[11]=r,e[12]=p,e[13]=m,e[14]=g):g=e[14],g};import{c as jM}from"react/compiler-runtime";import{jsx as MM}from"react/jsx-runtime";import"react";import{jsx as ib}from"react/jsx-runtime";import"react";import{jsx as e4}from"react/jsx-runtime";import"react";var nb="clickable-arrow",t4=t=>{let{direction:e="right",isDisabled:o=!1,updatePage:n}=t,r=[nb,o&&`${nb}--is-disabled`,e&&`${nb}--${e}`].filter(Boolean).join(" ");return e4("button",{className:r,disabled:o,onClick:o?void 0:n,type:"button",children:e4(Ye,{})})};import{jsx as NM}from"react/jsx-runtime";import"react";var wf="paginator__page",sb=({isCurrent:t,isFirstPage:e=!1,isLastPage:o=!1,page:n=1,updatePage:r})=>{let s=[wf,t&&`${wf}--is-current`,e&&`${wf}--is-first-page`,o&&`${wf}--is-last-page`].filter(Boolean).join(" ");return NM("button",{className:s,onClick:()=>r(n),type:"button",children:n})};import{jsx as $M}from"react/jsx-runtime";import"react";var o4=()=>$M("span",{className:"paginator__separator",children:"\u2014"});var LM={ClickableArrow:t4,Page:sb,Separator:o4},kM="paginator",Hc=t=>{let{hasNextPage:e=!1,hasPrevPage:o=!1,nextPage:n=null,numberOfNeighbors:r=1,onChange:s,page:i,prevPage:l=null,totalPages:a=null}=t;if(!e&&!o)return null;let c=h=>{typeof s=="function"&&s(h)},u=Array.from({length:a},(h,p)=>p+1),d=i-1-r;d<=0&&(d=0);let f=i-1+r+1,m=u.slice(d,f);return i-r-1>=2&&m.unshift({type:"Separator"}),i>r+1&&m.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),i+r+1<a&&m.push({type:"Separator"}),f<a&&m.push({type:"Page",props:{isLastPage:!0,page:a,updatePage:c}}),m.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!e,updatePage:()=>c(n??i+1)}}),m.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!o,updatePage:()=>c(l??Math.max(1,i-1))}}),ib("div",{className:kM,children:m.map((h,p)=>{if(typeof h=="number")return ib(sb,{isCurrent:i===h,page:h,updatePage:c},p);let g=LM[h.type];return ib(g,{...h.props},p)})})};var r4=()=>{let t=jM(11),{data:e,handlePageChange:o}=Lt(),n=e.nextPage||2,r;t[0]!==o?(r=a=>{o(a)},t[0]=o,t[1]=r):r=t[1];let s=e.page||1,i=e.prevPage||void 0,l;return t[2]!==e.hasNextPage||t[3]!==e.hasPrevPage||t[4]!==e.limit||t[5]!==e.totalPages||t[6]!==n||t[7]!==r||t[8]!==s||t[9]!==i?(l=MM(Hc,{hasNextPage:e.hasNextPage,hasPrevPage:e.hasPrevPage,limit:e.limit,nextPage:n,numberOfNeighbors:1,onChange:r,page:s,prevPage:i,totalPages:e.totalPages}),t[2]=e.hasNextPage,t[3]=e.hasPrevPage,t[4]=e.limit,t[5]=e.totalPages,t[6]=n,t[7]=r,t[8]=s,t[9]=i,t[10]=l):l=t[10],l};var br="relationship-table",cb=t=>{let{AfterInput:e,allowCreate:o=!0,BeforeInput:n,disableTable:r=!1,field:s,fieldPath:i,filterOptions:l,initialData:a,initialDrawerData:c,Label:u,parent:d,relationTo:f}=t,[m,h]=Wn(null),{config:p,getEntityConfig:g}=H(),{permissions:b}=Fe(),[C]=Wn(()=>{if(a)return{...a,docs:Array.isArray(a.docs)?a.docs.reduce((X,q)=>typeof q=="string"?[...X,{id:q}]:[...X,q],[]):[]}}),{i18n:v,t:x}=$(),[y,I]=Wn(),[w,D]=Wn(!1),[_]=Wn(()=>g({collectionSlug:f})),[R,T]=Wn(Array.isArray(f)?void 0:f),[S,F]=Wn(!r),[A,P]=Wn(C),[E,k]=Wn(),{getTableState:M}=At(),N=Sf(async X=>{let q={limit:String(s?.defaultLimit||_?.admin?.pagination?.defaultLimit),sort:s.defaultSort||_?.defaultSort,...y||{},where:{...y?.where||{}}};l&&(q.where=BM(q.where,l));let W=s.admin.defaultColumns?s.admin.defaultColumns.map(Se=>({accessor:Se,active:!0})):void 0,{data:ee,state:pe,Table:ae}=await M({collectionSlug:f,columns:n4(y?.columns)||W,docs:X,enableRowSelections:!1,orderableFieldName:!s.orderable||Array.isArray(s.collection)?void 0:`_${s.collection}_${s.name}_order`,parent:d,query:q,renderRowTypes:!0,tableAppearance:"condensed"});P(ee),h(ae),k(pe),F(!1)},[s.defaultLimit,s.defaultSort,s.admin.defaultColumns,s.collection,s.name,s.orderable,_?.admin?.pagination?.defaultLimit,_?.defaultSort,y,l,M,f,d]),L=Gt((X,q)=>{!q&&(!m||X)&&N()});lb(()=>{L(y,r)},[y,r]);let[O,j,{closeDrawer:B,isDrawerOpen:V,openDrawer:G}]=bt({collectionSlug:R}),z=Sf(X=>{let q=A?.docs?.findIndex(ee=>ee.id===X.doc.id),W;if(q!==-1){let ee=[...A.docs];ee[q]=X.doc,W=ee}else W=[X.doc,...A.docs];N(W)},[A?.docs,N]),Y=Sf(X=>{B(),z(X)},[B,z]),Q=Sf(X=>{let q=A.docs.filter(W=>W.id!==X.id);N(q)},[A?.docs,N]),Z=o!==!1&&b?.collections?.[Array.isArray(f)?f[0]:f]?.create;return lb(()=>{Array.isArray(f)&&R&&G()},[R,G,f]),lb(()=>{Array.isArray(f)&&!V&&R&&T(void 0)},[V]),Pi("div",{className:br,children:[Pi("div",{className:`${br}__header`,children:[u,Pi("div",{className:`${br}__actions`,children:[!Array.isArray(f)&&Z&&po(j,{className:`${br}__add-new`,children:v.t("fields:addNew")}),Array.isArray(f)&&po(s4,{children:po(yt,{button:Pi(te,{buttonStyle:"none",className:`${br}__add-new-polymorphic`,children:[v.t("fields:addNew"),po(Yo,{})]}),buttonType:"custom",horizontalAlign:"center",render:({close:X})=>po(_e.ButtonGroup,{children:f.map(q=>b.collections[q].create?po(_e.Button,{className:`${br}__relation-button--${q}`,onClick:()=>{X(),T(q)},children:ab(p.collections.find(W=>W.slug===q).labels.singular,v)},q):null)}),size:"medium"})}),po(dt,{"aria-controls":`${br}-columns`,"aria-expanded":w,className:`${br}__toggle-columns ${w?`${br}__buttons-active`:""}`,icon:po(Ye,{direction:w?"up":"down"}),onClick:()=>D(!w),pillStyle:"light",size:"small",children:x("general:columns")})]})]}),n,S?po("p",{children:x("general:loading")}):Pi(s4,{children:[A?.docs&&A.docs.length===0&&Pi("div",{className:`${br}__no-results`,children:[po("p",{children:v.t("general:noResults",{label:Array.isArray(f)?v.t("general:documents"):ab(_?.labels?.plural,v)})}),Z&&po(te,{onClick:G,children:v.t("general:createNewLabel",{label:ab(_?.labels?.singular,v)})})]}),A?.docs&&A.docs.length>0&&po(Gc,{children:po(O1,{columns:n4(E),data:A,defaultLimit:s.defaultLimit??_?.admin?.pagination?.defaultLimit,defaultSort:s.defaultSort??_?.defaultSort,modifySearchParams:!1,onQueryChange:I,orderableFieldName:!s.orderable||Array.isArray(s.collection)?void 0:`_${s.collection}_${i.replaceAll(".","_")}_order`,children:Pi(Mc,{collectionSlug:Array.isArray(f)?f[0]:f,columnState:E,LinkedCellOverride:po(KI,{onDrawerDelete:Q,onDrawerSave:z}),children:[po(Er,{className:`${br}__columns`,height:w?"auto":0,id:`${br}-columns`,children:po("div",{className:`${br}__columns-inner`,children:_&&po(lf,{collectionSlug:_.slug})})}),m,po(r4,{})]})})})]}),e,po(O,{initialData:c,onSave:Y})]})};var a4=ub.default.default||ub.default,If=({collectionSlug:t,config:e,docID:o,fields:n,segments:r})=>{let s=GM(n,{keepPresentationalFields:!0}),i=r[0],l=s.find(c=>c.name===i);if(!l)return null;if(l.type==="relationship"||l.type==="upload"){let c=o;return Array.isArray(l.relationTo)&&(c={relationTo:t,value:o}),{[l.name]:l.hasMany?[c]:c}}let a=r.slice(1,r.length);if(l.type==="tab"||l.type==="group"&&VM(l))return{[l.name]:If({collectionSlug:t,config:e,docID:o,fields:l.fields,segments:a})};if(l.type==="array"){let c=If({collectionSlug:t,config:e,docID:o,fields:l.fields,segments:a});return c.id=a4().toHexString(),{[l.name]:[c]}}if(l.type==="blocks")for(let c of l.blockReferences??l.blocks){let u=typeof c=="string"?e.blocksMap[c]:c,d=If({collectionSlug:t,config:e,docID:o,fields:u.fields,segments:a});if(d)return d.id=a4().toHexString(),d.blockType=u.slug,{[l.name]:[d]}}},zM=t=>{let{field:e,field:{admin:{allowCreate:o,description:n},collection:r,label:s,localized:i,on:l,required:a},path:c}=t,{id:u,docConfig:d}=Pe(),{config:f,getEntityConfig:m}=H(),{customComponents:{AfterInput:h,BeforeInput:p,Description:g,Error:b,Label:C}={},path:v,showError:x,value:y}=$e({potentiallyStalePath:c}),I=i4(()=>{if(!u)return null;let D=u;Array.isArray(e.targetField.relationTo)&&(D={relationTo:d.slug,value:D});let _=Array.isArray(r)?{}:{[l]:{equals:D}};return e.where?{and:[_,e.where]}:_},[u,r,e.targetField.relationTo,e.where,l,d?.slug]),w=i4(()=>{let D=m({collectionSlug:Array.isArray(e.collection)?e.collection[0]:e.collection});return If({collectionSlug:d?.slug,config:f,docID:u,fields:D.fields,segments:e.on.split(".")})},[m,e.collection,e.on,d?.slug,u,f]);return d?OM("div",{className:[Te,x&&"error","join"].filter(Boolean).join(" "),id:`field-${v?.replace(/\./g,"__")}`,children:[Ni(me,{CustomComponent:b,Fallback:Ni(Ue,{path:v,showError:x})}),Ni(cb,{AfterInput:h,allowCreate:typeof u<"u"&&o,BeforeInput:p,disableTable:I===null,field:e,fieldPath:v,filterOptions:I,initialData:u&&y?y:{docs:[]},initialDrawerData:w,Label:Ni("h4",{style:{margin:0},children:C||Ni(we,{label:s,localized:i,path:v,required:a})}),parent:Array.isArray(r)?{id:u,collectionSlug:d.slug,joinPath:v}:void 0,relationTo:r}),Ni(me,{CustomComponent:g,Fallback:Ni(He,{description:n,path:v})})]}):null},Wc=Ve(zM);import{jsx as $i,jsxs as l4}from"react/jsx-runtime";import HM,{useCallback as db,useEffect as WM,useMemo as UM,useState as mb}from"react";var XM="json-field",YM=t=>{let{field:e,field:{admin:{className:o,description:n,editorOptions:r,maxHeight:s}={},jsonSchema:i,label:l,localized:a,required:c},path:u,readOnly:d,validate:f}=t,[m,h]=mb(),p=HM.useRef("system"),[g,b]=mb(""),C=db((N,L)=>{if(typeof f=="function")return f(N,{...L,jsonError:m,required:c})},[f,c,m]),{customComponents:{AfterInput:v,BeforeInput:x,Description:y,Error:I,Label:w}={},disabled:D,initialValue:_,path:R,setValue:T,showError:S,value:F}=$e({potentiallyStalePath:u,validate:C}),[A,P]=mb(()=>(F||_)!==void 0?JSON.stringify(F??_,null,2):void 0),E=db((N,L)=>{if(!i)return;L.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...L.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],i],validate:!0});let O=i.uri,j=O.includes("?")?`${O}&${crypto.randomUUID?crypto.randomUUID():Gn()}`:`${O}?${crypto.randomUUID?crypto.randomUUID():Gn()}`;N.setModel(L.editor.createModel(JSON.stringify(F,null,2),"json",L.Uri.parse(j)))},[i,F]),k=db(N=>{if(!(d||D)){p.current="user";try{T(N?JSON.parse(N):null),h(void 0)}catch(L){T(N||null),h(L)}}},[d,D,T]);WM(()=>{p.current==="system"&&(P((F||_)!==void 0?JSON.stringify(F??_,null,2):void 0),b(new Date().toString())),p.current="system"},[_,F]);let M=UM(()=>st(e),[e]);return l4("div",{className:[Te,XM,o,S&&"error",(d||D)&&"read-only"].filter(Boolean).join(" "),style:M,children:[$i(me,{CustomComponent:w,Fallback:$i(we,{label:l,localized:a,path:R,required:c})}),l4("div",{className:`${Te}__wrap`,children:[$i(me,{CustomComponent:I,Fallback:$i(Ue,{message:m,path:R,showError:S})}),x,$i(hc,{defaultLanguage:"json",maxHeight:s,onChange:k,onMount:E,options:r,readOnly:d||D,value:A,wrapperProps:{id:`field-${R?.replace(/\./g,"__")}`}},g),v]}),$i(me,{CustomComponent:y,Fallback:$i(He,{description:n,path:R})})]})},Uc=Ve(YM);import{jsx as Un,jsxs as c4}from"react/jsx-runtime";import{getTranslation as ZM}from"@payloadcms/translations";import{isNumber as JM}from"payload/shared";import{useCallback as fb,useEffect as qM,useMemo as QM,useState as KM}from"react";var eB=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,step:s=1}={},hasMany:i=!1,label:l,localized:a,max:c=1/0,maxRows:u=1/0,min:d=-1/0,required:f},onChange:m,path:h,readOnly:p,validate:g}=t,{i18n:b,t:C}=$(),v=fb((L,O)=>{if(typeof g=="function")return g(L,{...O,max:c,min:d,required:f})},[g,d,c,f]),{customComponents:{AfterInput:x,BeforeInput:y,Description:I,Error:w,Label:D}={},disabled:_,path:R,setValue:T,showError:S,value:F}=$e({potentiallyStalePath:h,validate:v}),A=fb(L=>{let O=parseFloat(L.target.value),j=O;Number.isNaN(O)&&(j=null),typeof m=="function"&&m(j),T(j)},[m,T]),[P,E]=KM([]),k=fb(L=>{if(!(p||_)){let O;L?Array.isArray(L)?O=L.map(j=>Number(j.value?.value||j.value)):O=[Number(L.value?.value||L.value)]:O=[],T(O)}},[p,_,T]);qM(()=>{i&&Array.isArray(F)&&E(F.map((L,O)=>({id:`${L}${O}`,label:`${L}`,value:{toString:()=>`${L}${O}`,value:L?.value||L}})))},[F,i]);let M=QM(()=>st(e),[e]),N=ZM(r,b);return c4("div",{className:[Te,"number",o,S&&"error",(p||_)&&"read-only",i&&"has-many"].filter(Boolean).join(" "),style:M,children:[Un(me,{CustomComponent:D,Fallback:Un(we,{label:l,localized:a,path:R,required:f})}),c4("div",{className:`${Te}__wrap`,children:[Un(me,{CustomComponent:w,Fallback:Un(Ue,{path:R,showError:S})}),y,i?Un(ft,{className:`field-${R.replace(/\./g,"__")}`,disabled:p||_,filterOption:(L,O)=>{let j=Array.isArray(F)&&F.length>=u;return JM(O)&&!j},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(F)&&F.length>=u?C("validation:limitReached",{max:u,value:F.length+1}):null,onChange:k,options:[],placeholder:N,showError:S,value:P}):Un("div",{children:Un("input",{disabled:p||_,id:`field-${R.replace(/\./g,"__")}`,max:c,min:d,name:R,onChange:A,onWheel:L=>{L.target.blur()},placeholder:N,step:s,type:"number",value:typeof F=="number"?F:""})}),x,Un(me,{CustomComponent:I,Fallback:Un(He,{description:n,path:R})})]})]})},Xc=Ve(eB);import{jsx as vn,jsxs as Wa}from"react/jsx-runtime";import{getTranslation as pb}from"@payloadcms/translations";import{useCallback as u4,useMemo as tB}from"react";var d4="point",oB=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,step:s}={},label:i,localized:l,required:a},path:c,readOnly:u,validate:d}=t,{i18n:f,t:m}=$(),h=u4((S,F)=>{if(typeof d=="function")return d(S,{...F,required:a})},[d,a]),{customComponents:{AfterInput:p,BeforeInput:g,Description:b,Error:C,Label:v}={},disabled:x,path:y,setValue:I,showError:w,value:D=[null,null]}=$e({potentiallyStalePath:c,validate:h}),_=u4((S,F)=>{let A=parseFloat(S.target.value);Number.isNaN(A)&&(A=S.target.value);let P=[...D];P[F]=A,I(P)},[I,D]),R=S=>{let F=m(S==="longitude"?"fields:longitude":"fields:latitude"),A=i?pb(i,f):"";return`${A}${A?" - ":""}${F}`},T=tB(()=>st(e),[e]);return Wa("div",{className:[Te,d4,o,w&&"error",(u||x)&&"read-only"].filter(Boolean).join(" "),style:T,children:[Wa("ul",{className:`${d4}__wrap`,children:[Wa("li",{children:[vn(me,{CustomComponent:v,Fallback:vn(we,{label:R("longitude"),localized:l,path:y,required:a})}),Wa("div",{className:"input-wrapper",children:[g,vn("input",{disabled:u||x,id:`field-longitude-${y?.replace(/\./g,"__")}`,name:`${y}.longitude`,onChange:S=>_(S,0),placeholder:pb(r,f),step:s,type:"number",value:D&&typeof D[0]=="number"?D[0]:""}),p]})]}),Wa("li",{children:[vn(me,{CustomComponent:v,Fallback:vn(we,{label:R("latitude"),localized:l,path:y,required:a})}),Wa("div",{className:"input-wrapper",children:[vn(me,{CustomComponent:C,Fallback:vn(Ue,{path:y,showError:w})}),g,vn("input",{disabled:u||x,id:`field-latitude-${y?.replace(/\./g,"__")}`,name:`${y}.latitude`,onChange:S=>_(S,1),placeholder:pb(r,f),step:s,type:"number",value:D&&typeof D[1]=="number"?D[1]:""}),p]})]})]}),vn(me,{CustomComponent:b,Fallback:vn(He,{description:n,path:y})})]})},Yc=Ve(oB);import{jsx as Xn,jsxs as m4}from"react/jsx-runtime";import{optionIsObject as f4}from"payload/shared";import{useCallback as iB,useMemo as aB}from"react";import{c as rB}from"react/compiler-runtime";import{jsx as _f,jsxs as nB}from"react/jsx-runtime";import{getTranslation as sB}from"@payloadcms/translations";import"react";var Zc="radio-input",Jc=t=>{let e=rB(16),{isSelected:o,onChange:n,option:r,path:s,readOnly:i,uuid:l}=t,{i18n:a}=$(),c=et(),u=`field-${s}-${r.value}${c>1?`-${c}`:""}${l?`-${l}`:""}`,d=o&&`${Zc}--is-selected`,f;e[0]!==d?(f=[Zc,d].filter(Boolean),e[0]=d,e[1]=f):f=e[1];let m=f.join(" "),h;e[2]!==n||e[3]!==r.value?(h=()=>typeof n=="function"?n(r.value):null,e[2]=n,e[3]=r.value,e[4]=h):h=e[4];let p;if(e[5]!==a||e[6]!==u||e[7]!==o||e[8]!==r.label||e[9]!==s||e[10]!==i||e[11]!==m||e[12]!==h){let g=_f("input",{checked:o,disabled:i,id:u,name:s,onChange:h,type:"radio"}),b=i&&`${Zc}__styled-radio--disabled`,C;e[14]!==b?(C=[`${Zc}__styled-radio`,b].filter(Boolean),e[14]=b,e[15]=C):C=e[15],p=_f("label",{htmlFor:u,children:nB("div",{className:m,children:[g,_f("span",{className:C.join(" ")}),_f("span",{className:`${Zc}__label`,children:sB(r.label,a)})]})}),e[5]=a,e[6]=u,e[7]=o,e[8]=r.label,e[9]=s,e[10]=i,e[11]=m,e[12]=h,e[13]=p}else p=e[13];return p};var Df="radio-group",lB=t=>{let{disableModifyingForm:e,field:o,field:{admin:{className:n,description:r,layout:s="horizontal"}={},label:i,localized:l,options:a=[],required:c}={},onChange:u,path:d,readOnly:f,validate:m,value:h}=t,{uuid:p}=Be(),g=iB((F,A)=>{if(typeof m=="function")return m(F,{...A,options:a,required:c})},[m,a,c]),{customComponents:{AfterInput:b,BeforeInput:C,Description:v,Error:x,Label:y}={},disabled:I,path:w,setValue:D,showError:_,value:R}=$e({potentiallyStalePath:d,validate:g}),T=R||h,S=aB(()=>st(o),[o]);return m4("div",{className:[Te,Df,n,`${Df}--layout-${s}`,_&&"error",(f||I)&&`${Df}--read-only`].filter(Boolean).join(" "),style:S,children:[Xn(me,{CustomComponent:x,Fallback:Xn(Ue,{path:w,showError:_})}),Xn(me,{CustomComponent:y,Fallback:Xn(we,{label:i,localized:l,path:w,required:c})}),m4("div",{className:`${Te}__wrap`,children:[C,Xn("ul",{className:`${Df}--group`,id:`field-${w.replace(/\./g,"__")}`,children:a.map(F=>{let A="";f4(F)?A=F.value:A=F;let P=String(A)===String(T),E=`field-${w}-${A}${p?`-${p}`:""}`;return Xn("li",{children:Xn(Jc,{id:E,isSelected:P,onChange:()=>{typeof u=="function"&&u(A),f||I||D(A,!!e)},option:f4(F)?F:{label:F,value:F},path:w,readOnly:f||I,uuid:p})},`${w} - ${A}`)})}),b,Xn(me,{CustomComponent:v,Fallback:Xn(He,{description:r,path:w})})]})]})},qc=Ve(lB);import{jsx as OB}from"react/jsx-runtime";import Sb,{useCallback as Ib,useMemo as VB}from"react";import{jsx as rn,jsxs as xb}from"react/jsx-runtime";import{dequal as LB}from"dequal/lite";import{formatAdminURL as kB,wordBoundariesRegex as jB}from"payload/shared";import*as yb from"qs-esm";import{useCallback as Es,useEffect as Ef,useMemo as MB,useReducer as BB,useRef as eu,useState as Ps}from"react";import{c as cB}from"react/compiler-runtime";import{jsx as Cn,jsxs as Ff}from"react/jsx-runtime";import{getTranslation as p4}from"@payloadcms/translations";import{Fragment as hb,useEffect as Tf,useState as Qc}from"react";var Ua="relationship-add-new",h4=t=>{let e=cB(46),{Button:o,hasMany:n,onChange:r,path:s,relationTo:i,unstyled:l,value:a}=t,c=cf(i),{permissions:u}=Fe(),[d,f]=Qc(!1),[m,h]=Qc(),p=c.length>1,g;e[0]!==c[0]||e[1]!==p?(g=()=>p?void 0:c[0],e[0]=c[0],e[1]=p,e[2]=g):g=e[2];let[b,C]=Qc(g),[v,x]=Qc(!1),{i18n:y,t:I}=$(),[w,D]=Qc(!1),_=b?.slug,R;e[3]!==_?(R={collectionSlug:_},e[3]=_,e[4]=R):R=e[4];let[T,S,F]=bt(R),{isDrawerOpen:A,toggleDrawer:P}=F,E;e[5]!==b?.slug||e[6]!==n||e[7]!==r||e[8]!==c[0]||e[9]!==a?(E=X=>{let{doc:q,operation:W}=X;if(W==="create"){let ee;a?ee=Array.isArray(a)?!a.some(pe=>pe&&pe.value===q.id):a.value!==q.id:ee=!0,ee&&r(n===!0?[...Array.isArray(a)?a:[],{relationTo:b?.slug,value:q.id}]:{relationTo:c[0].slug,value:q.id}),h(void 0)}},e[5]=b?.slug,e[6]=n,e[7]=r,e[8]=c[0],e[9]=a,e[10]=E):E=e[10];let k=E,M;e[11]===Symbol.for("react.memo_cache_sentinel")?(M=X=>{x(X)},e[11]=M):M=e[11];let N=M,L,O;e[12]!==u||e[13]!==c?(L=()=>{u&&(c.length===1?f(u.collections[c[0]?.slug]?.create):f(c.some(X=>u.collections[X?.slug]?.create)))},O=[u,c],e[12]=u,e[13]=c,e[14]=L,e[15]=O):(L=e[14],O=e[15]),Tf(L,O);let j,B;e[16]!==c||e[17]!==p||e[18]!==m?(B=()=>{p&&m&&C(c.find(X=>X?.slug===m))},j=[m,p,c],e[16]=c,e[17]=p,e[18]=m,e[19]=j,e[20]=B):(j=e[19],B=e[20]),Tf(B,j);let V,G;e[21]!==b||e[22]!==p||e[23]!==P?(V=()=>{p&&b&&(P(),h(void 0))},G=[P,p,b],e[21]=b,e[22]=p,e[23]=P,e[24]=V,e[25]=G):(V=e[24],G=e[25]),Tf(V,G);let z,Y;e[26]!==A||e[27]!==p?(z=()=>{p&&!A&&C(void 0)},Y=[A,p],e[26]=A,e[27]=p,e[28]=z,e[29]=Y):(z=e[28],Y=e[29]),Tf(z,Y);let Q=c[0]?.labels.singular,Z;if(e[30]!==o||e[31]!==T||e[32]!==S||e[33]!==b||e[34]!==y||e[35]!==k||e[36]!==s||e[37]!==u||e[38]!==v||e[39]!==c||e[40]!==d||e[41]!==w||e[42]!==I||e[43]!==Q||e[44]!==l){Z=Symbol.for("react.early_return_sentinel");e:{let X=I("fields:addNewLabel",{label:p4(Q,y)});if(d){Z=Ff("div",{className:Ua,id:`${s}-add-new`,children:[c.length===1&&Ff(hb,{children:[Cn(S,{className:[`${Ua}__add-button`,l&&`${Ua}__add-button--unstyled`].filter(Boolean).join(" "),onClick:()=>D(!1),onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),children:o||Ff(hb,{children:[Cn(Io,{className:`${Ua}__tooltip`,show:w,children:X}),Cn(Yo,{})]})}),Cn(T,{onSave:k})]}),c.length>1&&Ff(hb,{children:[Cn(yt,{button:o||Cn(te,{buttonStyle:"none",className:`${Ua}__add-button`,tooltip:v?void 0:I("fields:addNew"),children:Cn(Yo,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:N,render:q=>{let{close:W}=q;return Cn(Lh,{children:c.map(ee=>u.collections[ee?.slug].create?Cn(kh,{className:`${Ua}__relation-button--${ee?.slug}`,onClick:()=>{W(),h(ee?.slug)},children:p4(ee?.labels?.singular,y)},ee?.slug):null)})},size:"medium"}),b&&u.collections[b?.slug]?.create&&Cn(T,{onSave:k})]})]});break e}}e[30]=o,e[31]=T,e[32]=S,e[33]=b,e[34]=y,e[35]=k,e[36]=s,e[37]=u,e[38]=v,e[39]=c,e[40]=d,e[41]=w,e[42]=I,e[43]=Q,e[44]=l,e[45]=Z}else Z=e[45];return Z!==Symbol.for("react.early_return_sentinel")?Z:null};import{c as mB}from"react/compiler-runtime";import{jsx as Af}from"react/jsx-runtime";import{createElement as fB}from"react";import{useEffect as C4,useId as pB,useState as x4}from"react";import{jsx as g4,jsxs as uB}from"react/jsx-runtime";import{hoistQueryParamsToAnd as dB}from"payload/shared";import{useCallback as Rf,useEffect as b4,useState as gb}from"react";var v4=({allowCreate:t=!0,collectionSlugs:e,disableQueryPresets:o,drawerSlug:n,enableRowSelections:r,filterOptions:s,onBulkSelect:i,onSelect:l,overrideEntityVisibility:a=!0,selectedCollection:c})=>{let{closeModal:u,isModalOpen:d}=le(),{serverFunction:f}=At(),[m,h]=gb(void 0),[p,g]=gb(!0),{config:{collections:b},getEntityConfig:C}=H(),v=d(n),x=b.filter(({slug:P})=>e.includes(P)),[y,I]=gb(()=>{let P=c||x[0]?.slug,E=C({collectionSlug:P});return E?{label:E.labels,value:E.slug}:void 0}),[w,D,{drawerSlug:_}]=bt({collectionSlug:y.value}),R=Gt(P=>{P&&P!==y?.value&&I({label:C({collectionSlug:P})?.labels,value:P})});b4(()=>{R(c)},[c]);let T=Rf(async({slug:P,query:E})=>{try{let k={...E||{},where:{...E?.where||{}}},M=s?.[P];if(s&&typeof M!="boolean"&&(k.where=dB(k.where,M)),P){let N=await f({name:"render-list",args:{allowCreate:t,collectionSlug:P,disableBulkDelete:!0,disableBulkEdit:!0,disableQueryPresets:o,drawerSlug:n,enableRowSelections:r,overrideEntityVisibility:a,query:k}});h(N?.List||null)}else h(null);g(!1)}catch(k){console.error("Error rendering List View: ",k),v&&u(n)}},[f,u,t,n,v,r,s,a,o]);b4(()=>{m||T({slug:y?.value})},[T,m,y.value]);let S=Rf(({doc:P})=>{typeof l=="function"&&l({collectionSlug:y?.value,doc:P,docID:P.id}),u(_),u(n)},[u,_,n,l,y.value]),F=Rf(P=>{T({slug:y?.value,query:P})},[T,y.value]),A=Rf(P=>{I(P),T({slug:P?.value})},[T]);return p?g4(tn,{}):uB(j1,{allowCreate:t,createNewDrawerSlug:_,DocumentDrawerToggler:D,drawerSlug:n,enabledCollections:e,onBulkSelect:i,onQueryChange:F,onSelect:l,selectedOption:y,setSelectedOption:A,children:[m,g4(w,{onSave:S})]})};var y4="list-drawer",hB=({depth:t,uuid:e})=>`list-drawer_${t}_${e}`,gB=({children:t,className:e,disabled:o,drawerSlug:n,onClick:r,...s})=>Af(kn,{className:[e,`${y4}__toggler`].filter(Boolean).join(" "),disabled:o,onClick:r,slug:n,...s,children:t}),bB=t=>{let{drawerSlug:e}=t;return Af($t,{className:y4,gutter:!1,Header:null,slug:e,children:Af(v4,{...t})})},Li=t=>{let e=mB(42),{collectionSlugs:o,filterOptions:n,selectedCollection:r,uploads:s}=t,{config:i}=H(),{collections:l}=i,a=et(),c=pB(),{closeModal:u,modalState:d,openModal:f,toggleModal:m}=le(),[h,p]=x4(!1),[g,b]=x4(o),C;e[0]!==a||e[1]!==c?(C=hB({depth:a,uuid:c}),e[0]=a,e[1]=c,e[2]=C):C=e[2];let v=C,x,y;e[3]!==v||e[4]!==d?(x=()=>{p(!!d[v]?.isOpen)},y=[d,v],e[3]=v,e[4]=d,e[5]=x,e[6]=y):(x=e[5],y=e[6]),C4(x,y);let I,w;e[7]!==g||e[8]!==l||e[9]!==s?(I=()=>{if(!g||g.length===0){let V=l.filter(G=>{let{upload:z}=G;return s?!!z:!0});b(V.map(vB))}},w=[g,s,l],e[7]=g,e[8]=l,e[9]=s,e[10]=I,e[11]=w):(I=e[10],w=e[11]),C4(I,w);let D;e[12]!==v||e[13]!==m?(D=()=>{m(v)},e[12]=v,e[13]=m,e[14]=D):D=e[14];let _=D,R;e[15]!==u||e[16]!==v?(R=()=>{u(v)},e[15]=u,e[16]=v,e[17]=R):R=e[17];let T=R,S;e[18]!==v||e[19]!==f?(S=()=>{f(v)},e[18]=v,e[19]=f,e[20]=S):S=e[20];let F=S,A,P;e[21]!==T||e[22]!==g||e[23]!==v||e[24]!==n||e[25]!==r||e[26]!==s?(P=V=>fB(bB,{...V,closeDrawer:T,collectionSlugs:g,drawerSlug:v,filterOptions:n,key:v,selectedCollection:r,uploads:s}),e[21]=T,e[22]=g,e[23]=v,e[24]=n,e[25]=r,e[26]=s,e[27]=P):P=e[27],A=P;let E=A,k,M;e[28]!==v?(M=V=>Af(gB,{...V,drawerSlug:v}),e[28]=v,e[29]=M):M=e[29],k=M;let N=k,L,O;e[30]!==T||e[31]!==g||e[32]!==a||e[33]!==v||e[34]!==h||e[35]!==F||e[36]!==_?(O={closeDrawer:T,collectionSlugs:g,drawerDepth:a,drawerSlug:v,isDrawerOpen:h,openDrawer:F,setCollectionSlugs:b,toggleDrawer:_},e[30]=T,e[31]=g,e[32]=a,e[33]=v,e[34]=h,e[35]=F,e[36]=_,e[37]=O):O=e[37],L=O;let j=L,B;return e[38]!==E||e[39]!==j||e[40]!==N?(B=[E,N,j],e[38]=E,e[39]=j,e[40]=N,e[41]=B):B=e[41],B};function vB(t){let{slug:e}=t;return e}import{c as CB}from"react/compiler-runtime";import{useRef as xB}from"react";var bb=(t,e)=>{let o=CB(3),n=xB(void 0),r;return o[0]!==t||o[1]!==e?(r=(...s)=>{let i=s,l=()=>{clearTimeout(n.current),t(...i)};clearTimeout(n.current),n.current=setTimeout(l,e)},o[0]=t,o[1]=e,o[2]=r):r=o[2],r};import{useCallback as yB,useRef as w4}from"react";function Xa(){let t=w4([]),e=w4(!1);return{queueTask:yB((n,r)=>{t.current.push(n);async function s(){if(!e.current&&!(typeof r?.beforeProcess=="function"&&r.beforeProcess()===!1))for(;t.current.length>0;){let i=t.current.pop();t.current=[],e.current=!0;try{await i()}catch(l){console.error("Error in queued function:",l)}finally{e.current=!1,typeof r?.afterProcess=="function"&&r.afterProcess()}}}s()},[])}}var vb=t=>{for(let e in t){let o=t[e];if((e.toLowerCase()==="and"||e.toLowerCase()==="or")&&Array.isArray(o))for(let n of o)vb(n);else o&&typeof o=="object"&&"in"in o&&Array.isArray(o.in)&&o.in.length===0&&(t[e]={exists:!1})}return t};var Cb=({hasMany:t,relationTo:e,value:o})=>{let n=e.reduce((r,s)=>({...r,[s]:[]}),{});if(o===null)return n;if(o){let r=(s,i)=>{(typeof i=="string"||typeof i=="number")&&typeof s=="string"&&(n[s]?n[s].push(i):n[s]=[i])};t===!0?o.forEach(s=>{s&&r(s.relationTo,s.value)}):r(o.relationTo,o.value)}return n};var S4=({allowEdit:t,options:e,value:o})=>{if(o||typeof o=="number"){if(Array.isArray(o))return o.map(r=>{let s;return e.forEach(i=>{s||(s=i.options.find(l=>l.value===r.value&&l.relationTo===r.relationTo))}),s?{allowEdit:t,...s}:void 0});let n;return e.forEach(r=>{n||(n=r.options.find(s=>s.value===o.value&&s.relationTo===o.relationTo))}),n?{allowEdit:t,...n}:void 0}};import{getTranslation as wB}from"@payloadcms/translations";var _4=t=>t.reduce((e,o)=>o.options?[...e,..._4(o.options)]:[...e,{id:o.value,relationTo:o.relationTo}],[]),I4=t=>t.sort((e,o)=>typeof e?.label?.localeCompare=="function"&&typeof o?.label?.localeCompare=="function"?e.label.localeCompare(o.label):0),D4=(t,e)=>{switch(e.type){case"ADD":{let{collection:o,config:n,docs:r,i18n:s,ids:i=[],sort:l}=e,a=o.slug,c=_4(t),u=[...t],d=u.find(m=>m.label===o.labels.plural),f=r.reduce((m,h)=>{if(c.filter(p=>p.id===h.id&&p.relationTo===a).length===0){c.push({id:h.id,relationTo:a});let p=jo({collectionConfig:o,data:h,dateFormat:n.admin.dateFormat,fallback:`${s.t("general:untitled")} - ID: ${h.id}`,i18n:s});return[...m,{label:p,relationTo:a,value:h.id}]}return m},[]);if(i.forEach(m=>{c.filter(h=>h.id===m&&h.relationTo===a).length===0&&(c.push({id:m,relationTo:a}),f.push({allowEdit:!1,label:`${s.t("general:untitled")} - ID: ${m}`,relationTo:a,value:m}))}),d){let m=[...d.options,...f];d.options=l?I4(m):m}else u.push({label:wB(o.labels.plural,s),options:l?I4(f):f});return u}case"CLEAR":{let o=e.exemptValues?Array.isArray(e.exemptValues)?e.exemptValues:[e.exemptValues]:[];return t.filter(r=>{let s=r.options.filter(i=>o?o.some(l=>l&&i.value===l.value):!1);return r.options=s,s.length>0})}case"REMOVE":{let{id:o,collection:n}=e,r=[...t],s=r.findIndex(i=>i.label===n.labels.plural);return s===-1||(r[s]={...r[s],options:r[s].options.filter(i=>i.value!==o)}),r}case"UPDATE":{let{collection:o,config:n,doc:r,i18n:s}=e,i=o.slug,l=[...t],a=jo({collectionConfig:o,data:r,dateFormat:n.admin.dateFormat,fallback:`${s.t("general:untitled")} - ID: ${r.id}`,i18n:s}),u=l.find(d=>d.label===o.labels.plural)?.options?.find(d=>d.value===r.id);return u&&(u.label=a,u.relationTo=i),l}default:return t}};import{c as SB}from"react/compiler-runtime";import{jsx as Kc,jsxs as F4}from"react/jsx-runtime";import{Fragment as IB,useState as _B}from"react";var Ya="relationship--multi-value-label",T4=t=>{let e=SB(26),{data:o,selectProps:n}=t,{allowEdit:r,label:s,relationTo:i,value:l}=o,a;e[0]!==n?(a=n===void 0?{}:n,e[0]=n,e[1]=a):a=e[1];let{customProps:c}=a,u;e[2]!==c?(u=c===void 0?{}:c,e[2]=c,e[3]=u):u=e[3];let{draggableProps:d,onDocumentOpen:f}=u,{permissions:m}=Fe(),[h,p]=_B(!1),{t:g}=$(),b=!!m?.collections?.[i]?.read,C;e[4]!==d?(C=d||{},e[4]=d,e[5]=C):C=e[5];let v;if(e[6]!==r||e[7]!==b||e[8]!==s||e[9]!==f||e[10]!==t||e[11]!==i||e[12]!==h||e[13]!==g||e[14]!==C||e[15]!==l){let x;e[17]!==r||e[18]!==b||e[19]!==s||e[20]!==f||e[21]!==i||e[22]!==h||e[23]!==g||e[24]!==l?(x=i&&b&&r!==!1&&Kc(IB,{children:F4("button",{"aria-label":`Edit ${s}`,className:`${Ya}__drawer-toggler`,onClick:y=>{p(!1),f({id:l,collectionSlug:i,hasReadPermission:b,openInNewTab:y.metaKey||y.ctrlKey})},onKeyDown:DB,onMouseDown:FB,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onTouchEnd:TB,type:"button",children:[Kc(Io,{className:`${Ya}__tooltip`,show:h,children:g("general:editLabel",{label:""})}),Kc(Wr,{className:`${Ya}__icon`})]})}),e[17]=r,e[18]=b,e[19]=s,e[20]=f,e[21]=i,e[22]=h,e[23]=g,e[24]=l,e[25]=x):x=e[25],v=F4("div",{className:Ya,children:[Kc("div",{className:`${Ya}__content`,children:Kc(xo.MultiValueLabel,{...t,innerProps:{className:`${Ya}__text`,...C}})}),x]}),e[6]=r,e[7]=b,e[8]=s,e[9]=f,e[10]=t,e[11]=i,e[12]=h,e[13]=g,e[14]=C,e[15]=l,e[16]=v}else v=e[16];return v};function DB(t){t.key==="Enter"&&t.stopPropagation()}function FB(t){return t.stopPropagation()}function TB(t){return t.stopPropagation()}import{c as RB}from"react/compiler-runtime";import{jsx as Za,jsxs as R4}from"react/jsx-runtime";import{Fragment as AB,useState as EB}from"react";var Ja="relationship--single-value",A4=t=>{let e=RB(24),{children:o,data:n,selectProps:r}=t,{allowEdit:s,label:i,relationTo:l,value:a}=n,c;e[0]!==r?(c=r===void 0?{}:r,e[0]=r,e[1]=c):c=e[1];let{customProps:u}=c,d;e[2]!==u?(d=u===void 0?{}:u,e[2]=u,e[3]=d):d=e[3];let{onDocumentOpen:f}=d,[m,h]=EB(!1),{t:p}=$(),{permissions:g}=Fe(),b=!!g?.collections?.[l]?.read,C;if(e[4]!==s||e[5]!==o||e[6]!==b||e[7]!==i||e[8]!==f||e[9]!==t||e[10]!==l||e[11]!==m||e[12]!==p||e[13]!==a){let v;e[15]!==s||e[16]!==b||e[17]!==i||e[18]!==f||e[19]!==l||e[20]!==m||e[21]!==p||e[22]!==a?(v=l&&b&&s!==!1&&Za(AB,{children:R4("button",{"aria-label":p("general:editLabel",{label:i}),className:`${Ja}__drawer-toggler`,onClick:x=>{h(!1),f({id:a,collectionSlug:l,hasReadPermission:b,openInNewTab:x.metaKey||x.ctrlKey})},onKeyDown:PB,onMouseDown:NB,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onTouchEnd:$B,type:"button",children:[Za(Io,{className:`${Ja}__tooltip`,show:m,children:p("general:edit")}),Za(Wr,{})]})}),e[15]=s,e[16]=b,e[17]=i,e[18]=f,e[19]=l,e[20]=m,e[21]=p,e[22]=a,e[23]=v):v=e[23],C=Za(xo.SingleValue,{...t,className:Ja,children:Za("div",{className:`${Ja}__label`,children:R4("div",{className:`${Ja}__label-text`,children:[Za("div",{className:`${Ja}__text`,children:o}),v]})})}),e[4]=s,e[5]=o,e[6]=b,e[7]=i,e[8]=f,e[9]=t,e[10]=l,e[11]=m,e[12]=p,e[13]=a,e[14]=C}else C=e[14];return C};function PB(t){t.key==="Enter"&&t.stopPropagation()}function NB(t){return t.stopPropagation()}function $B(t){return t.stopPropagation()}var tu="relationship",wb=t=>{let{AfterInput:e,allowCreate:o=!0,allowEdit:n=!0,appearance:r="select",BeforeInput:s,className:i,description:l,Description:a,Error:c,filterOptions:u,hasMany:d,initialValue:f,isSortable:m=!0,label:h,Label:p,localized:g,maxResultsPerRequest:b=10,onChange:C,path:v,placeholder:x,readOnly:y,relationTo:I,required:w,showError:D,sortOptions:_,style:R,value:T}=t,{config:S,getEntityConfig:F}=H(),{routes:{api:A},serverURL:P}=S,{i18n:E,t:k}=$(),{permissions:M}=Fe(),{code:N}=Ie(),[L,O]=Ps({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[j,B]=Ps(-1),[V,G]=Ps({}),[z,Y]=Ps(""),[Q,Z]=Ps(""),[X,q]=Ps(!1),[W,ee]=Ps(!1),[pe,ae]=Ps(!1),Se=eu(!1),{queueTask:K}=Xa(),[se,ge]=BB(D4,[]),ye=eu(T);ye.current=T;let[oe,,{isDrawerOpen:fe,openDrawer:he}]=bt({id:L.id,collectionSlug:L.collectionSlug}),ie=MB(()=>{let be=u;if(T){let ce=(d===!1?[T]:T).reduce((J,re)=>(J[re.relationTo]||(J[re.relationTo]=[]),J[re.relationTo].push(re.value),J),{});(Array.isArray(I)?I:[I]).forEach(J=>{be={...be||{},[J]:{...typeof u?.[J]=="object"?u[J]:{},...ce[J]?{id:{not_in:ce[J]}}:{}}}})}return be},[u,T,d,I]),[de,,{closeDrawer:U,isDrawerOpen:ne,openDrawer:ve}]=Li({collectionSlugs:I,filterOptions:ie}),Ne=Es(({collectionSlug:be,doc:ce})=>{d?C([...Array.isArray(T)?T:[],{relationTo:be,value:ce.id}]):d===!1&&C({relationTo:be,value:ce.id}),U()},[d,C,U,T]),Me=eu(!1),Le=Es(({filterOptions:be,hasMany:ce,lastFullyLoadedRelation:J,lastLoadedPage:re,onSuccess:Ce,search:xe,sort:ke,value:je})=>{M&&K(async()=>{let Ge=typeof J<"u"?J:-1,Oe=Array.isArray(I)?I:[I],So=Ge===-1?Oe:Oe.slice(Ge+1),Uo=0,Ir=Cb(ce===!0?{hasMany:!0,relationTo:I,value:je}:{hasMany:!1,relationTo:I,value:je});z||(await So.reduce(async(qs,eo)=>{let Ft=be?.[eo],ze;if(Q!==xe?ze=1:ze=re[eo]+1,await qs,Ft===!1)return B(Oe.indexOf(eo)),Promise.resolve();if(Uo<10){let Tt=F({collectionSlug:eo}),co=Tt?.admin?.useAsTitle||"id",Xt=Tt?.defaultSort||"id";typeof _=="string"?Xt=_:_?.[eo]&&(Xt=_[eo]);let Xo={depth:0,draft:!0,limit:b,locale:N,page:ze,select:{[co]:!0},sort:Xt,where:{and:[{id:{not_in:Ir[eo]}}]}};xe&&Xo.where.and.push({[co]:{like:xe}}),Ft&&typeof Ft!="boolean"&&Xo.where.and.push(Ft),vb(Xo.where);let ds=await fetch(`${P}${A}/${eo}`,{body:yb.stringify(Xo),credentials:"include",headers:{"Accept-Language":E.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(ds.ok){let ms=await ds.json();G(Qs=>({...Qs,[eo]:ze})),ms.nextPage||B(Oe.indexOf(eo)),ms.docs.length>0&&(Uo+=ms.docs.length,ge({type:"ADD",collection:Tt,config:S,docs:ms.docs,i18n:E,sort:ke}))}else ds.status===403?(B(Oe.indexOf(eo)),ge({type:"ADD",collection:Tt,config:S,docs:[],i18n:E,ids:Ir[eo],sort:ke})):Y(k("error:unspecific"))}},Promise.resolve()),typeof Ce=="function"&&Ce())})},[M,K,I,z,Q,F,_,b,N,P,A,E,S,k]),ct=bb(({hasMany:be,search:ce,value:J})=>{St({filterOptions:u,lastLoadedPage:{},search:ce,sort:!0,...be===!0?{hasMany:be,value:J}:{hasMany:be,value:J}}),Z(ce)},300),vt=Es(be=>{Q!==be.search&&(G({}),ct(be))},[Q,ct]),Xe=Gt(({hasMany:be,value:ce})=>{let J=Cb(be===!0?{hasMany:be,relationTo:I,value:ce}:{hasMany:be,relationTo:I,value:ce});Object.entries(J).reduce(async(re,[Ce,xe])=>{await re;let ke=xe.filter(je=>!se.find(Ge=>Ge?.options?.find(Oe=>Oe.value===je&&Oe.relationTo===Ce)));if(ke.length>0){let je={depth:0,draft:!0,limit:ke.length,locale:N,where:{id:{in:ke}}};if(!z){let Ge=await fetch(`${P}${A}/${Ce}`,{body:yb.stringify(je),credentials:"include",headers:{"Accept-Language":E.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),Oe=F({collectionSlug:Ce}),So=[];Ge.ok&&(So=(await Ge.json()).docs),ge({type:"ADD",collection:Oe,config:S,docs:So,i18n:E,ids:ke,sort:!0})}}},Promise.resolve())}),We=Es(be=>{ge({type:"UPDATE",collection:be.collectionConfig,config:S,doc:be.doc,i18n:E});let ce=be.doc.id;if(d){let re=(ye.current?Array.isArray(ye.current)?ye.current:[ye.current]:[]).map(Ce=>({relationTo:Ce.value===ce?be.collectionConfig.slug:Ce.relationTo,value:Ce.value}));C(re)}else d===!1&&C({relationTo:be.collectionConfig.slug,value:ce})},[E,S,d,C]),ho=Es(be=>{ge({type:"ADD",collection:be.collectionConfig,config:S,docs:[be.doc],i18n:E,sort:!0}),d?C(ye.current?ye.current.concat({relationTo:be.collectionConfig.slug,value:be.doc.id}):null):d===!1&&C({relationTo:be.collectionConfig.slug,value:be.doc.id})},[E,S,d,C]),qe=Es(be=>{ge({id:be.id,type:"REMOVE",collection:be.collectionConfig,config:S,i18n:E}),C(d&&ye.current?ye.current.filter(ce=>ce.value!==be.id):null)},[E,S,d,C]),Ke=Es((be,ce)=>{if(!ce)return!0;let J=jB(ce||""),re=250,Ce=String(be.label);for(;Ce.length>re;){let xe=Ce.indexOf(" ",ce.length);if(J.test(Ce.slice(0,xe===-1?ce.length:xe+1)))return!0;Ce=Ce.slice(xe===-1?ce.length:xe+1)}return J.test(Ce.slice(-re))},[]),Qe=Es(({id:be,collectionSlug:ce,hasReadPermission:J,openInNewTab:re})=>{if(re){if(J&&be&&ce){let Ce=kB({adminRoute:S.routes.admin,path:`/collections/${ce}/${be}`});window.open(Ce,"_blank")}}else Me.current=!0,O({id:be,collectionSlug:ce,hasReadPermission:J})},[S.routes.admin]),St=Gt(be=>Le(be));Ef(()=>{Se.current&&pe&&(q(!0),St({filterOptions:u,lastLoadedPage:{},onSuccess:()=>{Se.current=!0,q(!1)},...d===!0?{hasMany:d,value:ye.current}:{hasMany:d,value:ye.current}})),ge({type:"CLEAR",exemptValues:ye.current}),B(-1),G({})},[I,u,N,v,pe,d]);let Pt=eu(T),Ct=eu(!0);Ef(()=>{(Ct.current||!LB(T,Pt.current))&&Xe(d===!0?{hasMany:d,value:T}:{hasMany:d,value:T}),Ct.current=!1,Pt.current=T},[T,d]),Ef(()=>{let ce=(Array.isArray(I)?I:[I]).reduce((J,re)=>(F({collectionSlug:re})?.admin?.useAsTitle||"id")==="id"&&J,!0);ee(!ce)},[I,F]),Ef(()=>{Me.current&&(he(),Me.current=!1)},[he,L]);let Ze=S4({allowEdit:n,options:se,value:T});return!Array.isArray(Ze)&&Ze?.value==="null"&&(Ze.value=null),xb("div",{className:[Te,tu,i,D&&"error",z&&"error-loading",y&&`${tu}--read-only`,!y&&o&&`${tu}--allow-create`].filter(Boolean).join(" "),id:`field-${v.replace(/\./g,"__")}`,style:R,children:[rn(me,{CustomComponent:p,Fallback:rn(we,{label:h,localized:g,path:v,required:w})}),xb("div",{className:`${Te}__wrap`,children:[rn(me,{CustomComponent:c,Fallback:rn(Ue,{path:v,showError:D})}),s,z?rn("div",{className:`${tu}__error-loading`,children:z}):xb("div",{className:`${tu}__wrap`,children:[rn(ft,{backspaceRemovesValue:!(fe||ne),components:{MultiValueLabel:T4,SingleValue:A4,...r!=="select"&&{DropdownIndicator:null}},customProps:{disableKeyDown:fe||ne,disableMouseDown:fe||ne,onDocumentOpen:Qe,onSave:We},disabled:y||fe||ne,filterOption:W?Ke:void 0,getOptionValue:be=>{if(be)return d&&Array.isArray(I)?`${be.relationTo}_${be.value}`:be.value},isLoading:r==="select"&&X,isMulti:d,isSearchable:r==="select",isSortable:m,menuIsOpen:r==="select"?pe:!1,onChange:y?void 0:be=>{d?C(be===null?[]:be):d===!1&&C(be===null?null:be)},onInputChange:be=>vt({search:be,...d===!0?{hasMany:d,value:T}:{hasMany:d,value:T}}),onMenuClose:()=>{ae(!1)},onMenuOpen:()=>{r==="drawer"?setTimeout(()=>{ve()},50):r==="select"&&(ae(!0),Se.current||(q(!0),St({filterOptions:u,lastLoadedPage:{},onSuccess:()=>{Se.current=!0,q(!1)},...d===!0?{hasMany:d,value:T}:{hasMany:d,value:T}})))},onMenuScrollToBottom:()=>{St({filterOptions:u,lastFullyLoadedRelation:j,lastLoadedPage:V,search:Q,sort:!1,...d===!0?{hasMany:d,value:f}:{hasMany:d,value:f}})},options:se,placeholder:x,showError:D,value:Ze??null}),!y&&o&&rn(h4,{path:v,relationTo:I,...d===!0?{hasMany:d,onChange:C,value:T}:{hasMany:d,onChange:C,value:T}})]}),e,rn(me,{CustomComponent:a,Fallback:rn(He,{description:l,path:v})})]}),L.collectionSlug&&L.hasReadPermission&&rn(oe,{onDelete:qe,onDuplicate:ho,onSave:We}),r==="drawer"&&!y&&rn(de,{allowCreate:o,enableRowSelections:!1,onSelect:Ne})]})};var GB=t=>{let{field:e,field:{admin:{allowCreate:o=!0,allowEdit:n=!0,appearance:r="select",className:s,description:i,isSortable:l=!0,placeholder:a,sortOptions:c}={},hasMany:u,label:d,localized:f,relationTo:m,required:h},path:p,readOnly:g,validate:b}=t,C=Ib((j,B)=>{if(typeof b=="function")return b(j,{...B,required:h})},[b,h]),{customComponents:{AfterInput:v,BeforeInput:x,Description:y,Error:I,Label:w}={},disabled:D,filterOptions:_,initialValue:R,path:T,setValue:S,showError:F,value:A}=$e({potentiallyStalePath:p,validate:C}),P=VB(()=>st(e),[e]),E=Array.isArray(m),[k]=Sb.useState(()=>Array.isArray(m)?m:[m]),M=Ib(j=>{if(!j){S(null,j===A);return}let B=!1;E?B=Array.isArray(A)&&Array.isArray(j)&&A.length===j.length&&A.every((G,z)=>{let Y=j[z];return G.value===Y.value&&G.relationTo===Y.relationTo}):B=Array.isArray(A)&&Array.isArray(j)&&A.length===j.length&&A.every((G,z)=>G===j[z].value);let V=j.map(G=>E?G:G.value);S(V,B)},[E,S,A]),N=Ib(j=>{if(!j){S(null,j===A);return}let B=!1;E?B=A&&j&&A.value===j.value&&A.relationTo===j.relationTo:B=A&&j&&A===j.value;let V=E?j:j.value;S(V,B)},[E,S,A]),L=Sb.useMemo(()=>u===!0?Array.isArray(A)?A.map(j=>E?j:{relationTo:Array.isArray(k)?k[0]:k,value:j}):A:A&&(E?A:{relationTo:Array.isArray(k)?k[0]:k,value:A}),[u,A,E,k]),O=Sb.useMemo(()=>u===!0?Array.isArray(R)?R.map(j=>E?j:{relationTo:Array.isArray(k)?k[0]:k,value:j}):R:R&&(E?R:{relationTo:Array.isArray(k)?k[0]:k,value:R}),[R,E,k,u]);return OB(wb,{AfterInput:v,allowCreate:o,allowEdit:n,appearance:r,BeforeInput:x,className:s,Description:y,description:i,Error:I,filterOptions:_,isSortable:l,Label:w,label:d,localized:f,maxResultsPerRequest:10,maxRows:e?.maxRows,minRows:e?.minRows,path:T,placeholder:a,readOnly:g||D,relationTo:k,required:h,showError:F,sortOptions:c,style:P,...u===!0?{hasMany:!0,initialValue:O,onChange:M,value:L}:{hasMany:!1,initialValue:O,onChange:N,value:L}})},ou=Ve(GB);var ru=()=>null;import{jsx as _b}from"react/jsx-runtime";import"react";var E4="row",zB=t=>{let{field:{admin:{className:e,style:o}={},fields:n},forceRender:r=!1,indexPath:s="",parentPath:i="",parentSchemaPath:l="",permissions:a,readOnly:c}=t;return _b(US,{children:_b("div",{className:[Te,E4,e].filter(Boolean).join(" "),style:o||void 0,children:_b(Do,{className:`${E4}__fields`,fields:n,forceRender:r,margins:!1,parentIndexPath:s,parentPath:i,parentSchemaPath:l,permissions:a,readOnly:c})})})},nu=Ve(zB);import{jsx as WB}from"react/jsx-runtime";import UB,{useCallback as N4,useMemo as XB}from"react";import{c as HB}from"react/compiler-runtime";import{jsx as ki,jsxs as P4}from"react/jsx-runtime";import{getTranslation as Db}from"@payloadcms/translations";import"react";var qa=t=>{let e=HB(41),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,filterOption:a,hasMany:c,isClearable:u,isSortable:d,label:f,Label:m,localized:h,onChange:p,onInputChange:g,options:b,path:C,placeholder:v,readOnly:x,required:y,showError:I,style:w,value:D}=t,_=c===void 0?!1:c,R=u===void 0?!0:u,T=d===void 0?!0:d,{i18n:S}=$(),F;if(e[0]!==o||e[1]!==n||e[2]!==s||e[3]!==l||e[4]!==m||e[5]!==r||e[6]!==i||e[7]!==a||e[8]!==_||e[9]!==S||e[10]!==R||e[11]!==T||e[12]!==f||e[13]!==h||e[14]!==p||e[15]!==g||e[16]!==b||e[17]!==C||e[18]!==v||e[19]!==x||e[20]!==y||e[21]!==I||e[22]!==w||e[23]!==D){let A;if(_&&Array.isArray(D)){let N;e[25]!==S||e[26]!==b?(N=L=>{let O=b.find(j=>j.value===L);return{label:O?Db(O.label,S):L,value:O?.value??L}},e[25]=S,e[26]=b,e[27]=N):N=e[27],A=D.map(N)}else if(D){let N,L;if(e[28]!==S||e[29]!==b||e[30]!==D){let O;e[33]!==D?(O=j=>j.value===D,e[33]=D,e[34]=O):O=e[34],N=b.find(O),L=N?Db(N.label,S):D,e[28]=S,e[29]=b,e[30]=D,e[31]=N,e[32]=L}else N=e[31],L=e[32];A={label:L,value:N?.value??D}}else A=null;let P=I&&"error",E=x&&"read-only",k;e[35]!==r||e[36]!==P||e[37]!==E?(k=[Te,"select",r,P,E].filter(Boolean),e[35]=r,e[36]=P,e[37]=E,e[38]=k):k=e[38];let M;e[39]!==S?(M=N=>({...N,label:Db(N.label,S)}),e[39]=S,e[40]=M):M=e[40],F=P4("div",{className:k.join(" "),id:`field-${C.replace(/\./g,"__")}`,style:w,children:[ki(me,{CustomComponent:m,Fallback:ki(we,{label:f,localized:h,path:C,required:y})}),P4("div",{className:`${Te}__wrap`,children:[ki(me,{CustomComponent:l,Fallback:ki(Ue,{path:C,showError:I})}),n,ki(ft,{disabled:x,filterOption:a,isClearable:R,isMulti:_,isSortable:T,onChange:p,onInputChange:g,options:b.map(M),placeholder:v,showError:I,value:A}),o]}),ki(me,{CustomComponent:s,Fallback:ki(He,{description:i,path:C})})]}),e[0]=o,e[1]=n,e[2]=s,e[3]=l,e[4]=m,e[5]=r,e[6]=i,e[7]=a,e[8]=_,e[9]=S,e[10]=R,e[11]=T,e[12]=f,e[13]=h,e[14]=p,e[15]=g,e[16]=b,e[17]=C,e[18]=v,e[19]=x,e[20]=y,e[21]=I,e[22]=w,e[23]=D,e[24]=F}else F=e[24];return F};var YB=t=>t.map(e=>typeof e=="object"&&(e.value||e.value==="")?e:{label:e,value:e}),ZB=t=>{let{field:e,field:{name:o,admin:{className:n,description:r,isClearable:s=!0,isSortable:i=!0,placeholder:l}={},hasMany:a=!1,label:c,localized:u,options:d=[],required:f},onChange:m,path:h,readOnly:p,validate:g}=t,b=UB.useMemo(()=>YB(d),[d]),C=N4((E,k)=>{if(typeof g=="function")return g(E,{...k,hasMany:a,options:b,required:f})},[g,f,a,b]),{customComponents:{AfterInput:v,BeforeInput:x,Description:y,Error:I,Label:w}={},disabled:D,path:_,selectFilterOptions:R,setValue:T,showError:S,value:F}=$e({potentiallyStalePath:h,validate:C}),A=N4(E=>{if(!p||D){let k=null;E&&a?Array.isArray(E)?k=E.map(M=>M.value):k=[]:E&&!Array.isArray(E)&&(k=E.value),typeof m=="function"&&m(k),T(k)}},[p,D,a,T,m]),P=XB(()=>st(e),[e]);return WB(qa,{AfterInput:v,BeforeInput:x,className:n,Description:y,description:r,Error:I,filterOption:R?({value:E})=>R?.some(k=>(typeof k=="string"?k:k.value)===E):void 0,hasMany:a,isClearable:s,isSortable:i,Label:w,label:c,localized:u,name:o,onChange:A,options:b,path:_,placeholder:l,readOnly:p||D,required:f,showError:S,style:P,value:F})},su=Ve(ZB);import{c as q4}from"react/compiler-runtime";import{jsx as Zn,jsxs as Q4}from"react/jsx-runtime";import{getTranslation as LO}from"@payloadcms/translations";import{tabHasName as Lf,toKebabCase as kO}from"payload/shared";import{useEffect as J4,useState as kb}from"react";var U4=Ks(Rb(),1);import{jsx as nn}from"react/jsx-runtime";import{dequal as W4}from"dequal/lite";import{useRouter as IO}from"next/navigation.js";import{deepCopyObjectSimpleWithoutReactComponents as Nb,getDataByPath as _O,getSiblingData as DO,reduceFieldsToValues as $b,wait as FO}from"payload/shared";import TO,{useCallback as Ko,useEffect as Mi,useReducer as RO,useRef as lu,useState as $s}from"react";import{c as eO}from"react/compiler-runtime";import{jsx as j4,jsxs as tO}from"react/jsx-runtime";import oO from"react";function rO(t){let e=[];for(let o of t)if(o){let n=o.split(" \u2192 "),r=!1;for(let s=0;s<e.length;s++)if(e[s].startsWith(n[0])){e.splice(s+1,0,o),r=!0;break}r||e.push(o)}return e}function nO(t){let[e,o]=t.split(":");if(!o)return{message:e};let n=o.split(",").map(r=>r.replaceAll(" > "," \u2192 ").trim());return n.length===1?{errors:n,message:`${e}:`}:{errors:rO(n),message:`${e} (${n.length}):`}}function M4(t){let e=eO(5),{errorMessage:o}=t,n;e[0]!==o?(n=()=>nO(o),e[0]=o,e[1]=n):n=e[1];let[r]=oO.useState(n),{errors:s,message:i}=r,l;return e[2]!==s||e[3]!==i?(l=tO("div",{children:[i,Array.isArray(s)&&s.length>0?j4("ul",{"data-testid":"field-errors",children:s.map(sO)}):null]}),e[2]=s,e[3]=i,e[4]=l):l=e[4],l}function sO(t,e){return j4("li",{children:t},e)}import{c as iO}from"react/compiler-runtime";import{useEffect as B4,useState as aO}from"react";function Ab(t,e,o){let n=iO(11),r;n[0]!==t?(r=()=>t,n[0]=t,n[1]=r):r=n[1];let[s,i]=aO(r),l;n[2]!==o||n[3]!==t?(l=()=>{let d=setTimeout(()=>{i(()=>t)},o);return()=>{clearTimeout(d)}},n[2]=o,n[3]=t,n[4]=l):l=n[4];let a;n[5]!==o||n[6]!==e?(a=[...e,o],n[5]=o,n[6]=e,n[7]=a):a=n[7],B4(l,a);let c,u;n[8]!==s?(c=()=>{s()},u=[s],n[8]=s,n[9]=c,n[10]=u):(c=n[9],u=n[10]),B4(c,u)}import{c as lO}from"react/compiler-runtime";import{jsx as cO}from"react/jsx-runtime";import O4,{useState as uO}from"react";var V4=O4.createContext(null),Eb=t=>{let e=lO(6),{children:o}=t,[n,r]=uO(dO),s;e[0]!==n?(s=u=>{let{collectionSlug:d}=u;return n.get(d)},e[0]=n,e[1]=s):s=e[1];let i=s,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=u=>{let{collectionSlug:d,handler:f}=u;r(m=>{let h=new Map(m);return h.set(d,f),h})},e[2]=l):l=e[2];let a=l,c;return e[3]!==o||e[4]!==i?(c=cO(V4,{value:{getUploadHandler:i,setUploadHandler:a},children:o}),e[3]=o,e[4]=i,e[5]=c):c=e[5],c},iu=()=>{let t=O4.use(V4);if(t===null)throw new Error("useUploadHandlers must be used within UploadHandlersProvider");return t};function dO(){return new Map}var G4={413:"Your request was too large to submit successfully."};var Pb=Ks(k1(),1);import{dequal as fO}from"dequal/lite";import{deepCopyObjectSimpleWithoutReactComponents as H4}from"payload/shared";import{dequal as mO}from"dequal/lite";var z4=({acceptValues:t,currentState:e={},incomingState:o})=>{let n={...e};for(let[r,s]of Object.entries(o||{}))!(r in e)&&!s.addedByServer||(!t&&!s.addedByServer&&(delete s.value,delete s.initialValue),n[r]={...e[r],...s},Array.isArray(s.rows)&&r in e&&(n[r].rows=[...e[r]?.rows||[]],s.rows.forEach(i=>{let l=e[r].rows.findIndex(a=>a.id===i.id);l>-1&&(n[r].rows[l]={...e[r].rows[l],...i})})),s.valid!==!1&&(n[r].valid=!0),s.passesCondition!==!1&&(n[r].passesCondition=!0),delete n[r].addedByServer);return mO(n,e)?e:n};var Qa=(t,e)=>{let o={},n=Object.entries(e).reduce((r,[s,i])=>{let l=r;if(s.indexOf(`${t}.`)===0){let[a]=s.replace(`${t}.`,"").split(".");l[a]||(l[a]={}),l[a][s.replace(`${t}.${String(a)}.`,"")]={...i}}else o[s]=i;return l},[]);return{remainingFields:o,rows:n}},Ka=(t,e)=>e.reduce((o,n,r)=>({...o,...Object.entries(n).reduce((s,[i,l])=>({...s,[`${t}.${r}.${i}`]:{...l}}),{})}),{});var Ns=Pb.default.default||Pb.default;function au(t,e){switch(e.type){case"ADD_ROW":{let{blockType:o,path:n,rowIndex:r,subFieldState:s={}}=e,i=typeof r=="number"?r:t[n]?.rows?.length||0,l=[...t[n]?.rows||[]],a={id:s?.id?.value||new Ns().toHexString(),collapsed:!1,isLoading:!0};o&&(a.blockType=o),l.splice(i,0,a),o&&(s.blockType={initialValue:o,valid:!0,value:o});let{remainingFields:c,rows:u}=Qa(n,t);return u.splice(i,0,s),{...c,...Ka(n,u),[`${n}.${i}.id`]:{initialValue:a.id,passesCondition:!0,valid:!0,value:a.id},[n]:{...t[n],disableFormData:!0,rows:l,value:u.length}}}case"ADD_SERVER_ERRORS":{let o={...t},n=[];return e.errors.forEach(({message:r,path:s})=>{o[s]={...o[s]||{initialValue:null,value:null},errorMessage:r,valid:!1};let i=s.split(".");i.length>1&&n.push({fieldErrorPath:s,parentPath:i.slice(0,i.length-1).join(".")})}),o=Object.entries(o).reduce((r,[s,i])=>{let l=n.reduce((c,{fieldErrorPath:u,parentPath:d})=>(d.startsWith(s)&&c.push(u),c),[]),a=!1;if(l.length>0){let c=Array.isArray(i.errorPaths)?i.errorPaths:[];l.forEach(u=>{c.includes(u)||(c.push(u),a=!0)}),a&&(r[s]={...i,errorPaths:c})}return a||(r[s]=i),r},{}),o}case"DUPLICATE_ROW":{let{path:o,rowIndex:n}=e,{remainingFields:r,rows:s}=Qa(o,t),i=[...t[o].rows||[]],l=H4(i[n]);l.id&&(l.id=new Ns().toHexString());let a=H4(s[n]);a.id&&(a.id.value=new Ns().toHexString(),a.id.initialValue=new Ns().toHexString());for(let u of Object.keys(a).filter(d=>d.endsWith(".id"))){let d=a[u];d&&typeof d.value=="string"&&Ns.isValid(d.value)&&(a[u].value=new Ns().toHexString(),a[u].initialValue=new Ns().toHexString())}return Object.keys(a).length>0&&(s.splice(n+1,0,a),i.splice(n+1,0,l)),{...r,...Ka(o,s),[o]:{...t[o],disableFormData:!0,rows:i,value:s.length}}}case"MERGE_SERVER_STATE":{let{acceptValues:o,prevStateRef:n,serverState:r}=e,s=z4({acceptValues:o,currentState:t||{},incomingState:r});return n.current=s,s}case"MOVE_ROW":{let{moveFromIndex:o,moveToIndex:n,path:r}=e,{remainingFields:s,rows:i}=Qa(r,t),l=i[o];i.splice(o,1),i.splice(n,0,l);let a=[...t[r]?.rows||[]],c={...a[o]};return a.splice(o,1),a.splice(n,0,c),{...s,...Ka(r,i),[r]:{...t[r],rows:a}}}case"REMOVE":{let o={...t};return o[e.path]&&delete o[e.path],o}case"REMOVE_ROW":{let{path:o,rowIndex:n}=e,{remainingFields:r,rows:s}=Qa(o,t),i=[...t[o]?.rows||[]];return s.splice(n,1),i.splice(n,1),{...r,[o]:{...t[o],disableFormData:s.length>0,rows:i,value:s.length},...Ka(o,s)}}case"REPLACE_ROW":{let{blockType:o,path:n,rowIndex:r,subFieldState:s={}}=e,{remainingFields:i,rows:l}=Qa(n,t),a=Math.max(0,Math.min(r,l?.length-1||0)),c=[...t[n]?.rows||[]];return c[a]={id:new Ns().toHexString(),blockType:o||void 0,collapsed:!1},o&&(s.blockType={initialValue:o,valid:!0,value:o}),l[a]=s,{...i,...Ka(n,l),[n]:{...t[n],disableFormData:!0,rows:c,value:l.length}}}case"REPLACE_STATE":{if(e.optimize!==!1){let o={};for(let[n,r]of Object.entries(e.state)){let s=t[n];r.valid!==!1&&(r.valid=!0),r.passesCondition!==!1&&(r.passesCondition=!0),fO(s,r)?s&&(o[n]=s):o[n]=r}return o}if(e.sanitize)for(let o of Object.values(e.state))o.valid!==!1&&(o.valid=!0),o.passesCondition!==!1&&(o.passesCondition=!0);return e.state}case"SET_ALL_ROWS_COLLAPSED":{let{path:o,updatedRows:n}=e;return{...t,[o]:{...t[o],rows:n}}}case"SET_ROW_COLLAPSED":{let{path:o,updatedRows:n}=e;return{...t,[o]:{...t[o],rows:n}}}case"UPDATE":{let o=Object.entries(e).reduce((r,[s,i])=>["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(s)?{...r,[s]:i}:r,t?.[e.path]||{});return{...t,[e.path]:o}}case"UPDATE_MANY":{let o={...t};return Object.entries(e.formState).forEach(([n,r])=>{o[n]=r}),o}default:return t}}var pO=()=>{},hO=()=>{},gO=()=>{},bO=()=>{},vO=()=>{},CO=()=>{},xO=()=>{},yO=()=>{},wO=()=>{},SO=()=>{},Nf={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:vO,disabled:!1,dispatchFields:gO,fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:hO,initializing:void 0,isValid:!0,moveFieldRow:()=>{},removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:SO,setBackgroundProcessing:yO,setDisabled:()=>{},setIsValid:()=>{},setModified:CO,setProcessing:xO,setSubmitted:wO,submit:pO,validateForm:bO};var AO="form",Yn=t=>{let{id:e,collectionSlug:o,docConfig:n,docPermissions:r,getDocPreferences:s,globalSlug:i}=Pe(),{action:l,beforeSubmit:a,children:c,className:u,disabled:d,disableSuccessStatus:f,disableValidationOnSubmit:m,el:h,handleResponse:p,initialState:g,isDocumentForm:b,isInitializing:C,onChange:v,onSubmit:x,onSuccess:y,redirect:I,submitted:w,uuid:D,waitForAutocomplete:_}=t,R="method"in t?t?.method:void 0,T=IO(),S=ca(),{code:F}=Ie(),{i18n:A,t:P}=$(),{refreshCookie:E,user:k}=Fe(),M=ur(),{queueTask:N}=Xa(),{getFormState:L}=At(),{startRouteTransition:O}=Je(),{getUploadHandler:j}=iu(),{config:B}=H(),[V,G]=$s(d||!1),[z,Y]=$s(!1),[Q,Z]=$s(!1),[X,q]=$s(!0),[W,ee]=$s(C),[pe,ae]=$s(!1),[Se,K]=$s(!1),[se,ge]=$s(!1),ye=lu(null),oe=lu({}),fe=lu(null),he=lu(!0),ie=RO(au,{},()=>g),[de,U]=ie;oe.current.fields=de;let ne=lu(de),ve=Ko(async()=>{let re={},Ce=!0,xe=oe.current.getData(),ke=Object.entries(oe.current.fields).map(async([je,Ge])=>{let Oe=Ge,So=je?je.split("."):[];if(Ge.passesCondition!==!1){let Uo=Oe.valid;if("validate"in Ge&&typeof Ge.validate=="function"){let Ir=Ge.value;Ge?.rows&&Array.isArray(Ge.rows)&&(Ir=oe.current.getDataByPath(je)),Uo=await Ge.validate(Ir,{...Ge,id:e,collectionSlug:o,blockData:void 0,data:S?.getData?S.getData():xe,event:"submit",operation:M,path:So,preferences:{},req:{payload:{config:B},t:P,user:k},siblingData:oe.current.getSiblingData(je)}),typeof Uo=="string"?(Oe.errorMessage=Uo,Oe.valid=!1):(Oe.valid=!0,Oe.errorMessage=void 0)}Oe.valid===!1&&(Ce=!1)}re[je]=Oe});return await Promise.all(ke),W4(oe.current.fields,re)||U({type:"REPLACE_STATE",state:re}),q(Ce),Ce},[o,B,U,e,M,P,k,S]),Ne=Ko(async(re={},Ce)=>{let{action:xe=l,method:ke=R,overrides:je={},skipValidation:Ge}=re;if(V){Ce&&Ce.preventDefault();return}let Oe,So,Uo=new Promise((ze,Tt)=>{So=ze,Oe=Tt}),Ir=xe||typeof l=="string"||typeof l=="function";if(I||f||!Ir?(So=ze=>ue.success(ze),Oe=ze=>ue.error(ze)):ue.promise(Uo,{error:ze=>ze,loading:P("general:submitting"),success:ze=>ze}),Ce&&(Ce.stopPropagation(),Ce.preventDefault()),ae(!0),G(!0),_&&await FO(100),Array.isArray(a)){let ze,Tt=Nb(oe.current.fields);await a.reduce(async(Xt,Xo)=>{await Xt,ze=await Xo({formState:Tt})},Promise.resolve());let co=Object.entries(ze).every(([,Xt])=>Xt.valid!==!1);if(q(co),!co)return ae(!1),ge(!0),G(!1),U({type:"REPLACE_STATE",state:ze})}let qs=Ge||m?!0:await oe.current.validateForm();if(q(qs),!qs){Oe(P("error:correctInvalidFields")),ae(!1),ge(!0),G(!1);return}let eo={};if(typeof je=="function"?eo=je(oe.current.fields):typeof je=="object"&&(eo=je),x){let ze=Nb(oe.current.fields),Tt=$b(ze,!0);for(let[co,Xt]of Object.entries(eo))Tt[co]=Xt;x(ze,Tt)}if(!Ir){ae(!1),ge(!0),G(!1);return}let Ft=await oe.current.createFormData(eo,{mergeOverrideData:typeof je!="function"});try{let ze;if(typeof xe=="string"?ze=await tt[ke.toLowerCase()](xe,{body:Ft,headers:{"Accept-Language":A.language}}):typeof l=="function"&&(ze=await l(Ft)),Z(!1),G(!1),typeof p=="function"){p(ze,So,Oe);return}let Tt=ze.headers.get("content-type"),co=Tt&&Tt.indexOf("application/json")!==-1,Xt={};if(co&&(Xt=await ze.json()),ze.status<400){if(typeof y=="function"){let Xo=await y(Xt);Xo&&U({type:"MERGE_SERVER_STATE",acceptValues:!0,prevStateRef:ne,serverState:Xo})}ge(!1),ae(!1),I?O(()=>T.push(I)):f||So(Xt.message||P("general:submissionSuccessful"))}else{if(ae(!1),ge(!0),oe.current={...oe.current},Xt.message){Oe(Xt.message);return}if(Array.isArray(Xt.errors)){let[ds,ms]=Xt.errors.reduce(([Qs,GR],vd)=>{let yC=[],uh=[];return vd?.message&&uh.push(vd),Array.isArray(vd?.data?.errors)&&vd.data?.errors.forEach(dh=>{dh?.path?yC.push(dh):uh.push(dh)}),[[...Qs,...yC],[...GR,...uh]]},[[],[]]);q(!1),U({type:"ADD_SERVER_ERRORS",errors:ds}),ms.forEach(Qs=>{Oe(nn(M4,{errorMessage:Qs.message||P("error:unknown")}))});return}let Xo=G4?.[ze.status]||ze?.statusText||P("error:unknown");Oe(Xo)}}catch(ze){console.error("Error submitting form",ze),ae(!1),ge(!0),G(!1),Oe(ze.message)}},[a,O,l,f,m,V,U,p,R,x,y,I,T,P,A,_]),Me=Ko(()=>oe.current.fields,[]),Le=Ko(re=>oe.current.fields[re],[]),ct=Ko(()=>$b(oe.current.fields,!0),[]),vt=Ko(re=>DO(oe.current.fields,re),[]),Xe=Ko(re=>_O(oe.current.fields,re),[]),We=Ko(async(re,{mergeOverrideData:Ce=!0})=>{let xe=$b(oe.current.fields,!0),ke=xe?.file;if(n&&"upload"in n&&n.upload&&ke){delete xe.file;let Oe=j({collectionSlug:o});if(typeof Oe=="function"){let So=ke.name,Uo=await Oe({file:ke,updateFilename:Ir=>{So=Ir}});ke=JSON.stringify({clientUploadContext:Uo,collectionSlug:o,filename:So,mimeType:ke.type,size:ke.size})}}Ce?xe={...xe,...re}:xe=re;let je={_payload:JSON.stringify(xe)};return n&&"upload"in n&&n.upload&&ke&&(je.file=ke),(0,U4.serialize)(je,{indices:!0,nullsAsUndefineds:!1})},[o,n,j]),ho=Ko(async re=>{let Ce=hr(fe),xe=await s(),{state:ke}=await L({id:e,collectionSlug:o,data:re,docPermissions:r,docPreferences:xe,globalSlug:i,locale:F,operation:M,renderAllFields:!0,schemaPath:o||i,signal:Ce.signal,skipValidation:!0});oe.current={...Nf},Z(!1),U({type:"REPLACE_STATE",state:ke}),fe.current=null},[o,U,i,e,M,L,r,s,F]),qe=Ko(re=>{oe.current={...Nf},Z(!1),U({type:"REPLACE_STATE",state:re})},[U]),Ke=Ko(({blockType:re,path:Ce,rowIndex:xe,subFieldState:ke})=>{let je=Xe(Ce)||[],Ge=xe===void 0?je.length:xe;U({type:"ADD_ROW",blockType:re,path:Ce,rowIndex:Ge,subFieldState:ke}),Z(!0)},[U,Xe]),Qe=Ko(({moveFromIndex:re,moveToIndex:Ce,path:xe})=>{U({type:"MOVE_ROW",moveFromIndex:re,moveToIndex:Ce,path:xe}),Z(!0)},[U]),St=Ko(({path:re,rowIndex:Ce})=>{U({type:"REMOVE_ROW",path:re,rowIndex:Ce}),Z(!0)},[U]),Pt=Ko(({blockType:re,path:Ce,rowIndex:xe,subFieldState:ke})=>{let je=Xe(Ce),Ge=xe===void 0?je.length:xe;U({type:"REPLACE_ROW",blockType:re,path:Ce,rowIndex:Ge,subFieldState:ke}),Z(!0)},[U,Xe]);Mi(()=>{let re=fe.current;return()=>{pr(re)}},[]),Mi(()=>{C!==void 0&&ee(C)},[C]),oe.current.submit=Ne,oe.current.getFields=Me,oe.current.getField=Le,oe.current.getData=ct,oe.current.getSiblingData=vt,oe.current.getDataByPath=Xe,oe.current.validateForm=ve,oe.current.createFormData=We,oe.current.setModified=Z,oe.current.setProcessing=ae,oe.current.setBackgroundProcessing=K,oe.current.setSubmitted=ge,oe.current.setIsValid=q,oe.current.disabled=V,oe.current.setDisabled=G,oe.current.formRef=ye,oe.current.reset=ho,oe.current.replaceState=qe,oe.current.dispatchFields=U,oe.current.addFieldRow=Ke,oe.current.removeFieldRow=St,oe.current.moveFieldRow=Qe,oe.current.replaceFieldRow=Pt,oe.current.uuid=D,oe.current.initializing=W,oe.current.isValid=X,Mi(()=>{Y(!0)},[]),Mi(()=>{typeof d=="boolean"&&G(d)},[d]),Mi(()=>{typeof w=="boolean"&&ge(w)},[w]),Mi(()=>{g&&(oe.current={...Nf},U({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:g}))},[g,U]),mi(()=>{E()},15e3,[de]),Mi(()=>{oe.current={...oe.current},Z(!1)},[F]);let Ct=[u,AO].filter(Boolean).join(" "),Ze=Gt(re=>{N(async()=>{if(Array.isArray(v)){let Ce;for(let xe of v)Ce=await xe({formState:Nb(de),submitted:re});U({type:"MERGE_SERVER_STATE",prevStateRef:ne,serverState:Ce})}})});Ab(()=>{(he.current||!W4(de,ne.current))&&Q&&Ze(se),ne.current=de,he.current=!1},[Q,se,de],250);let be=b?Fd:TO.Fragment,ce=b?{value:oe.current}:{};return nn(h||"form",{action:typeof l=="function"?void 0:l,className:Ct,method:R,noValidate:!0,onSubmit:re=>void oe.current.submit({},re),ref:ye,children:nn(be,{...ce,children:nn(Dd,{value:oe.current,children:nn(Td,{value:{fields:de,...oe.current},children:nn(Rd,{value:se,children:nn(Dh,{value:!z||z&&W,children:nn(Ad,{value:pe,children:nn(_h,{value:Se,children:nn(Ed,{value:Q,children:nn(Vl.Provider,{value:ie,children:c})})})})})})})})})})};import{c as EO}from"react/compiler-runtime";import{jsx as X4,jsxs as Y4}from"react/jsx-runtime";import{getTranslation as PO}from"@payloadcms/translations";import{tabHasName as Z4}from"payload/shared";import NO,{useState as $O}from"react";var $f="tabs-field__tab-button",Lb=t=>{let e=EO(15),{hidden:o,isActive:n,parentPath:r,setIsActive:s,tab:i}=t,{i18n:l}=$(),[a,c]=$O(void 0),u;if(e[0]!==a||e[1]!==o||e[2]!==l||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==i){let d=[...r?r.split(".").slice(0,-1):[],...Z4(i)?[i.name]:[]],f=a>0,m=X4(xi,{fields:i.fields,path:d,setErrorCount:c}),h=f&&`${$f}--has-error`,p=n&&`${$f}--active`,g=o&&`${$f}--hidden`,b;e[8]!==h||e[9]!==p||e[10]!==g?(b=[$f,h,p,g].filter(Boolean),e[8]=h,e[9]=p,e[10]=g,e[11]=b):b=e[11];let C;e[12]!==l||e[13]!==i?(C=i.label?PO(i.label,l):Z4(i)?i.name:"",e[12]=l,e[13]=i,e[14]=C):C=e[14],u=Y4(NO.Fragment,{children:[m,Y4("button",{className:b.join(" "),onClick:s,type:"button",children:[C,f&&X4(go,{count:a,i18n:l})]})]}),e[0]=a,e[1]=o,e[2]=l,e[3]=n,e[4]=r,e[5]=s,e[6]=i,e[7]=u}else u=e[7];return u};var Jn="tabs-field";function el({activeTabConfig:t,path:e}){let o=e;return Lf(t)&&t.name&&(e?o=`${e}.${t.name}`:o=t.name),o}var jO=t=>{let e=q4(89),{field:o,forceRender:n,indexPath:r,parentPath:s,parentSchemaPath:i,path:l,permissions:a,readOnly:c}=t,{admin:u,tabs:d}=o,f;e[0]!==u?(f=u===void 0?{}:u,e[0]=u,e[1]=f):f=e[1];let{className:m}=f,h;e[2]!==d?(h=d===void 0?[]:d,e[2]=d,e[3]=h):h=e[3];let p=h,g=n===void 0?!1:n,b=r===void 0?"":r,C=s===void 0?"":s,v=i===void 0?"":i,x=l===void 0?"":l,{getPreference:y,setPreference:I}=mo(),{preferencesKey:w}=Pe(),{i18n:D}=$(),{isWithinCollapsible:_}=ys(),R;e[4]!==p?(R=he=>{let[ie]=he;return p.map((de,U)=>{let ne=de?.id;return{index:U,passesCondition:ie?.[ne]?.passesCondition??!0,tab:de}})},e[4]=p,e[5]=R):R=e[5];let T=Rt(R),S;e[6]!==T?(S=()=>T.filter(BO)?.[0]?.index??0,e[6]=T,e[7]=S):S=e[7];let[F,A]=kb(S),P=`tabs-${b}`,E;e[8]!==F||e[9]!==C||e[10]!==p?(E=()=>el({activeTabConfig:p[F],path:C}),e[8]=F,e[9]=C,e[10]=p,e[11]=E):E=e[11];let[k,M]=kb(E),N;e[12]!==v||e[13]!==p[0]?(N=()=>el({activeTabConfig:p[0],path:v}),e[12]=v,e[13]=p[0],e[14]=N):N=e[14];let[L,O]=kb(N),j;e[15]!==F||e[16]!==k||e[17]!==C||e[18]!==p?(j=Lf(p[F])?k:C,e[15]=F,e[16]=k,e[17]=C,e[18]=p,e[19]=j):j=e[19];let B=j,V=T[F],G=V?.tab,z;e[20]!==F||e[21]!==L||e[22]!==v||e[23]!==p?(z=Lf(p[F])?L:v,e[20]=F,e[21]=L,e[22]=v,e[23]=p,e[24]=z):z=e[24];let Y=z,Q=G.admin?.description??G.description,Z;e[25]!==Q||e[26]!==D?(Z=typeof Q=="function"?Q({i18n:D,t:D.t}):Q,e[25]=Q,e[26]=D,e[27]=Z):Z=e[27];let X=Z,q=T.some(OO),W;e[28]!==y||e[29]!==C||e[30]!==v||e[31]!==x||e[32]!==w||e[33]!==I||e[34]!==p||e[35]!==P?(W=async he=>{A(he),M(el({activeTabConfig:p[he],path:C})),O(el({activeTabConfig:p[he],path:v}));let ie=await y(w);w&&I(w,{...ie,...x?{fields:{...ie?.fields||{},[x]:{...ie?.fields?.[x],tabIndex:he}}}:{fields:{...ie?.fields,[P]:{...ie?.fields?.[P],tabIndex:he}}}})},e[28]=y,e[29]=C,e[30]=v,e[31]=x,e[32]=w,e[33]=I,e[34]=p,e[35]=P,e[36]=W):W=e[36];let ee=W,pe,ae;e[37]!==y||e[38]!==C||e[39]!==v||e[40]!==x||e[41]!==w||e[42]!==p||e[43]!==P?(pe=()=>{w&&(async()=>{let ie=await y(w),U=(x?ie?.fields?.[x]?.tabIndex:ie?.fields?.[P]?.tabIndex)||0;A(U),M(el({activeTabConfig:p[U],path:C})),O(el({activeTabConfig:p[U],path:v}))})()},ae=[x,y,w,P,p,C,v],e[37]=y,e[38]=C,e[39]=v,e[40]=x,e[41]=w,e[42]=p,e[43]=P,e[44]=pe,e[45]=ae):(pe=e[44],ae=e[45]),J4(pe,ae);let Se;e[46]!==V?.passesCondition||e[47]!==ee||e[48]!==T?(Se=()=>{if(V?.passesCondition===!1){let he=T.find(VO);he&&ee(he.index)}},e[46]=V?.passesCondition,e[47]=ee,e[48]=T,e[49]=Se):Se=e[49];let K;e[50]!==V||e[51]!==ee||e[52]!==T?(K=[V,T,ee],e[50]=V,e[51]=ee,e[52]=T,e[53]=K):K=e[53],J4(Se,K);let se=_&&`${Jn}--within-collapsible`,ge=!q&&`${Jn}--hidden`,ye;e[54]!==m||e[55]!==se||e[56]!==ge?(ye=[Te,m,Jn,se,ge].filter(Boolean),e[54]=m,e[55]=se,e[56]=ge,e[57]=ye):ye=e[57];let oe=ye.join(" "),fe;if(e[58]!==B||e[59]!==Y||e[60]!==G||e[61]!==F||e[62]!==V||e[63]!==k||e[64]!==X||e[65]!==g||e[66]!==ee||e[67]!==b||e[68]!==x||e[69]!==a||e[70]!==c||e[71]!==oe||e[72]!==T){let he;e[74]!==F||e[75]!==ee||e[76]!==x?(he=de=>{let{index:U,passesCondition:ne,tab:ve}=de;return Zn(Lb,{hidden:!ne,isActive:F===U,parentPath:x,setIsActive:()=>{ee(U)},tab:ve},U)},e[74]=F,e[75]=ee,e[76]=x,e[77]=he):he=e[77];let ie;e[78]!==B||e[79]!==Y||e[80]!==G||e[81]!==V||e[82]!==k||e[83]!==X||e[84]!==g||e[85]!==b||e[86]!==a||e[87]!==c?(ie=G&&Zn(MO,{description:X,fields:G.fields,forceRender:g,hidden:!1,parentIndexPath:Lf(G)?"":`${b?b+"-":""}`+String(V.index),parentPath:B,parentSchemaPath:Y,path:k,permissions:a&&typeof a=="object"&&"name"in G?a[G.name]&&typeof a[G.name]=="object"&&"fields"in a[G.name]?a[G.name].fields:a[G.name]:a,readOnly:c}),e[78]=B,e[79]=Y,e[80]=G,e[81]=V,e[82]=k,e[83]=X,e[84]=g,e[85]=b,e[86]=a,e[87]=c,e[88]=ie):ie=e[88],fe=Zn("div",{className:oe,children:Q4($1,{children:[Zn("div",{className:`${Jn}__tabs-wrap`,children:Zn("div",{className:`${Jn}__tabs`,children:T.map(he)})}),Zn("div",{className:`${Jn}__content-wrap`,children:ie})]})}),e[58]=B,e[59]=Y,e[60]=G,e[61]=F,e[62]=V,e[63]=k,e[64]=X,e[65]=g,e[66]=ee,e[67]=b,e[68]=x,e[69]=a,e[70]=c,e[71]=oe,e[72]=T,e[73]=fe}else fe=e[73];return fe},cu=Ve(jO);function MO(t){let e=q4(19),{description:o,fields:n,forceRender:r,hidden:s,label:i,parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:u,readOnly:d}=t,{i18n:f}=$(),{customComponents:m,path:h}=$e(),p;e[0]!==m?(p=m===void 0?{}:m,e[0]=m,e[1]=p):p=e[1];let{AfterInput:g,BeforeInput:b,Description:C,Field:v}=p;if(v)return v;let x=s&&`${Jn}__tab--hidden`,y=i&&`${Jn}__tabConfigLabel-${kO(LO(i,f))}`,I;e[2]!==x||e[3]!==y?(I=[x,`${Jn}__tab`,y].filter(Boolean),e[2]=x,e[3]=y,e[4]=I):I=e[4];let w=I.join(" "),D;return e[5]!==g||e[6]!==b||e[7]!==C||e[8]!==o||e[9]!==n||e[10]!==r||e[11]!==l||e[12]!==a||e[13]!==c||e[14]!==h||e[15]!==u||e[16]!==d||e[17]!==w?(D=Q4("div",{className:w,children:[Zn(me,{CustomComponent:C,Fallback:Zn(He,{description:o,marginPlacement:"bottom",path:h})}),b,Zn(Do,{fields:n,forceRender:r,parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:u,readOnly:d}),g]}),e[5]=g,e[6]=b,e[7]=C,e[8]=o,e[9]=n,e[10]=r,e[11]=l,e[12]=a,e[13]=c,e[14]=h,e[15]=u,e[16]=d,e[17]=w,e[18]=D):D=e[18],D}function BO(t){let{passesCondition:e}=t;return e}function OO(t){let{passesCondition:e}=t;return e}function VO(t){let{passesCondition:e}=t;return e}import{jsx as UO}from"react/jsx-runtime";import{useCallback as e_,useEffect as XO,useMemo as YO,useState as ZO}from"react";import{c as GO}from"react/compiler-runtime";import{jsx as Ls,jsxs as K4}from"react/jsx-runtime";import{getTranslation as zO}from"@payloadcms/translations";import"react";var jb=t=>{let e=GO(32),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,hasMany:a,htmlAttributes:c,inputRef:u,Label:d,label:f,localized:m,maxRows:h,onChange:p,onKeyDown:g,path:b,placeholder:C,readOnly:v,required:x,rtl:y,showError:I,style:w,value:D,valueToRender:_}=t,{i18n:R,t:T}=$(),S=WO,F;if(e[0]!==o||e[1]!==n||e[2]!==s||e[3]!==l||e[4]!==d||e[5]!==r||e[6]!==i||e[7]!==a||e[8]!==c||e[9]!==R||e[10]!==u||e[11]!==f||e[12]!==m||e[13]!==h||e[14]!==p||e[15]!==g||e[16]!==b||e[17]!==C||e[18]!==v||e[19]!==x||e[20]!==y||e[21]!==I||e[22]!==w||e[23]!==T||e[24]!==D||e[25]!==_){let A=zO(C,R),P=I&&"error",E=v&&"read-only",k=a&&"has-many",M;e[27]!==r||e[28]!==P||e[29]!==E||e[30]!==k?(M=[Te,"text",r,P,E,k].filter(Boolean),e[27]=r,e[28]=P,e[29]=E,e[30]=k,e[31]=M):M=e[31],F=K4("div",{className:M.join(" "),style:w,children:[Ls(me,{CustomComponent:d,Fallback:Ls(we,{label:f,localized:m,path:b,required:x})}),K4("div",{className:`${Te}__wrap`,children:[Ls(me,{CustomComponent:l,Fallback:Ls(Ue,{path:b,showError:I})}),n,a?Ls(ft,{className:`field-${b.replace(/\./g,"__")}`,components:{DropdownIndicator:null},customProps:{editableProps:S},disabled:v,filterOption:()=>h?!(Array.isArray(D)&&h&&D.length>=h):!0,isClearable:!1,isCreatable:!0,isMulti:!0,isSortable:!0,menuIsOpen:!1,noOptionsMessage:()=>Array.isArray(D)&&D.length>=h?T("validation:limitReached",{max:h,value:D.length+1}):null,onChange:p,options:[],placeholder:A,showError:I,value:_}):Ls("input",{"data-rtl":y,disabled:v,id:`field-${b?.replace(/\./g,"__")}`,name:b,onChange:p,onKeyDown:g,placeholder:A,ref:u,type:"text",value:D||"",...c??{}}),o,Ls(me,{CustomComponent:s,Fallback:Ls(He,{description:i,path:b})})]})]}),e[0]=o,e[1]=n,e[2]=s,e[3]=l,e[4]=d,e[5]=r,e[6]=i,e[7]=a,e[8]=c,e[9]=R,e[10]=u,e[11]=f,e[12]=m,e[13]=h,e[14]=p,e[15]=g,e[16]=b,e[17]=C,e[18]=v,e[19]=x,e[20]=y,e[21]=I,e[22]=w,e[23]=T,e[24]=D,e[25]=_,e[26]=F}else F=e[26];return F};function HO(t){t.currentTarget.contentEditable="false"}function WO(t,e,o){let n=`${e}--editable`;return{onBlur:HO,onClick:r=>{r.currentTarget.contentEditable="true",r.currentTarget.classList.add(n),r.currentTarget.focus()},onKeyDown:r=>{if(r.key==="Enter"||r.key==="Tab"||r.key==="Escape"){if(r.currentTarget.contentEditable="false",r.currentTarget.classList.remove(n),t.value.value=r.currentTarget.innerText,t.label=r.currentTarget.innerText,t.value.value.replaceAll(`
`,""))o.onChange(o.value,{action:"create-option",option:t});else if(Array.isArray(o.value)){let s=o.value.filter(i=>i.id!==t.id);o.onChange(s,{action:"pop-value",removedValue:t})}r.preventDefault()}r.stopPropagation()}}}var JO=t=>{let{field:e,field:{admin:{autoComplete:o,className:n,description:r,placeholder:s,rtl:i}={},hasMany:l,label:a,localized:c,maxLength:u,maxRows:d,minLength:f,minRows:m,required:h},inputRef:p,path:g,readOnly:b,validate:C}=t,v=Ie(),{config:{localization:x}}=H(),y=e_((O,j)=>{if(typeof C=="function")return C(O,{...j,maxLength:u,minLength:f,required:h})},[C,f,u,h]),{customComponents:{AfterInput:I,BeforeInput:w,Description:D,Error:_,Label:R}={},disabled:T,path:S,setValue:F,showError:A,value:P}=$e({potentiallyStalePath:g,validate:y}),E=Sa({fieldLocalized:c,fieldRTL:i,locale:v,localizationConfig:x||void 0}),[k,M]=ZO([]),N=e_(O=>{if(!(b||T)){let j;O?Array.isArray(O)?j=O.map(B=>B.value?.value||B.value):j=[O.value?.value||O.value]:j=[],F(j)}},[b,F,T]);XO(()=>{l&&Array.isArray(P)&&M(P.map((O,j)=>({id:`${O}${j}`,label:`${O}`,value:{toString:()=>`${O}${j}`,value:O?.value||O}})))},[P,l]);let L=YO(()=>st(e),[e]);return UO(jb,{AfterInput:I,BeforeInput:w,className:n,Description:D,description:r,Error:_,hasMany:l,htmlAttributes:{autoComplete:o||void 0},inputRef:p,Label:R,label:a,localized:c,maxRows:d,minRows:m,onChange:l?N:O=>{F(O.target.value)},path:S,placeholder:s,readOnly:b||T,required:h,rtl:E,showError:A,style:L,value:P||"",valueToRender:k})},Bi=Ve(JO);import{jsx as KO}from"react/jsx-runtime";import{getTranslation as e7}from"@payloadcms/translations";import{useCallback as t7,useMemo as o7}from"react";import{c as qO}from"react/compiler-runtime";import{jsx as ks,jsxs as t_}from"react/jsx-runtime";import{getTranslation as QO}from"@payloadcms/translations";import"react";var Mb=t=>{let e=qO(26),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,Label:a,label:c,localized:u,onChange:d,path:f,placeholder:m,readOnly:h,required:p,rows:g,rtl:b,showError:C,style:v,value:x}=t,{i18n:y}=$(),I=C&&"error",w=h&&"read-only",D;e[0]!==r||e[1]!==I||e[2]!==w?(D=[Te,"textarea",r,I,w].filter(Boolean),e[0]=r,e[1]=I,e[2]=w,e[3]=D):D=e[3];let _=D.join(" "),R=`field-${f.replace(/\./g,"__")}`,T;return e[4]!==o||e[5]!==n||e[6]!==s||e[7]!==l||e[8]!==a||e[9]!==i||e[10]!==y||e[11]!==c||e[12]!==u||e[13]!==d||e[14]!==f||e[15]!==m||e[16]!==h||e[17]!==p||e[18]!==g||e[19]!==b||e[20]!==C||e[21]!==v||e[22]!==_||e[23]!==R||e[24]!==x?(T=t_("div",{className:_,style:v,children:[ks(me,{CustomComponent:a,Fallback:ks(we,{htmlFor:R,label:c,localized:u,path:f,required:p})}),t_("div",{className:`${Te}__wrap`,children:[ks(me,{CustomComponent:l,Fallback:ks(Ue,{path:f,showError:C})}),n,ks("div",{className:"textarea-outer",children:ks("textarea",{"data-rtl":b,disabled:h,id:`field-${f.replace(/\./g,"__")}`,name:f,onChange:d,placeholder:QO(m,y),rows:g,style:{"--rows":g},value:x||""})}),o,ks(me,{CustomComponent:s,Fallback:ks(He,{description:i,path:f})})]})]}),e[4]=o,e[5]=n,e[6]=s,e[7]=l,e[8]=a,e[9]=i,e[10]=y,e[11]=c,e[12]=u,e[13]=d,e[14]=f,e[15]=m,e[16]=h,e[17]=p,e[18]=g,e[19]=b,e[20]=C,e[21]=v,e[22]=_,e[23]=R,e[24]=x,e[25]=T):T=e[25],T};var r7=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,rows:s,rtl:i}={},label:l,localized:a,maxLength:c,minLength:u,required:d},path:f,readOnly:m,validate:h}=t,{i18n:p}=$(),{config:{localization:g}}=H(),b=Ie(),C=Sa({fieldLocalized:a,fieldRTL:i,locale:b,localizationConfig:g||void 0}),v=t7((P,E)=>{if(typeof h=="function")return h(P,{...E,maxLength:c,minLength:u,required:d})},[h,d,c,u]),{customComponents:{AfterInput:x,BeforeInput:y,Description:I,Error:w,Label:D}={},disabled:_,path:R,setValue:T,showError:S,value:F}=$e({potentiallyStalePath:f,validate:v}),A=o7(()=>st(e),[e]);return KO(Mb,{AfterInput:x,BeforeInput:y,className:o,Description:I,description:n,Error:w,Label:D,label:l,localized:a,onChange:P=>{T(P.target.value)},path:R,placeholder:e7(r,p),readOnly:m||_,required:d,rows:s,rtl:C,showError:S,style:A,value:F})},uu=Ve(r7);var du=()=>null;import{jsx as SV}from"react/jsx-runtime";import IV,{useMemo as _V}from"react";import{jsx as Ut,jsxs as Xi,Fragment as Au}from"react/jsx-runtime";import*as FD from"qs-esm";import dn,{useCallback as ID,useEffect as _D,useMemo as DD}from"react";import{c as gD}from"react/compiler-runtime";import{jsx as zs,jsxs as lV}from"react/jsx-runtime";import{validateMimeType as cV}from"payload/shared";import yn from"react";import{c as n7}from"react/compiler-runtime";import{jsx as s7}from"react/jsx-runtime";import{createContext as i7,use as a7,useState as Bb}from"react";var o_=i7(void 0),tl=t=>{let e=n7(5),{children:o}=t,[n,r]=Bb(null),[s,i]=Bb(""),[l,a]=Bb(null),c;return e[0]!==o||e[1]!==l||e[2]!==n||e[3]!==s?(c=s7(o_,{value:{setUploadControlFile:a,setUploadControlFileName:r,setUploadControlFileUrl:i,uploadControlFile:l,uploadControlFileName:n,uploadControlFileUrl:s},children:o}),e[0]=o,e[1]=l,e[2]=n,e[3]=s,e[4]=c):c=e[4],c},Ob=()=>{let t=a7(o_);if(!t)throw new Error("useUploadControls must be used within an UploadControlsProvider");return t};import{jsx as jf,jsxs as Vb}from"react/jsx-runtime";import p7 from"react";import{jsx as l7}from"react/jsx-runtime";import js from"react";var r_=t=>{t.preventDefault(),t.stopPropagation()},c7="dropzone";function Oi({children:t,className:e,disabled:o=!1,dropzoneStyle:n="default",multipleFiles:r,onChange:s}){let i=js.useRef(null),[l,a]=js.useState(!1),c=js.useCallback(p=>{if(!r&&p.length>1){let g=new DataTransfer;g.items.add(p[0]),s(g.files)}else s(p)},[r,s]),u=js.useCallback(p=>{p.preventDefault(),p.stopPropagation(),p.clipboardData.files&&p.clipboardData.files.length>0&&c(p.clipboardData.files)},[c]),d=js.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a(!0)},[]),f=js.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a(!1)},[]),m=js.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a(!1),p.dataTransfer.files&&p.dataTransfer.files.length>0&&(c(p.dataTransfer.files),a(!1),p.dataTransfer.clearData())},[c]);js.useEffect(()=>{let p=i.current;return p&&!o?(p.addEventListener("dragenter",d),p.addEventListener("dragleave",f),p.addEventListener("dragover",r_),p.addEventListener("drop",m),p.addEventListener("paste",u),()=>{p.removeEventListener("dragenter",d),p.removeEventListener("dragleave",f),p.removeEventListener("dragover",r_),p.removeEventListener("drop",m),p.removeEventListener("paste",u)}):()=>null},[o,d,f,m,u]);let h=[c7,e,l?"dragging":"",`dropzoneStyle--${n}`].filter(Boolean).join(" ");return l7("div",{className:h,ref:i,children:t})}import{jsx as s_,jsxs as m7}from"react/jsx-runtime";import"react";import{c as u7}from"react/compiler-runtime";import{jsx as n_}from"react/jsx-runtime";import"react";var d7="drawer-close-button";function kf(t){let e=u7(3),{onClick:o}=t,{t:n}=$(),r;return e[0]!==o||e[1]!==n?(r=n_("button",{"aria-label":n("general:close"),className:d7,onClick:o,type:"button",children:n_(pt,{})}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r}var f7="bulk-upload--drawer-header";function ol({onClose:t,title:e}){return m7("div",{className:f7,children:[s_("h2",{title:e,children:e}),s_(kf,{onClick:t})]})}var Mf="bulk-upload--add-files";function Bf({acceptMimeTypes:t,onCancel:e,onDrop:o}){let{t:n}=$(),r=p7.useRef(null);return Vb("div",{className:Mf,children:[jf(ol,{onClose:e,title:n("upload:addFiles")}),jf("div",{className:`${Mf}__dropArea`,children:Vb(Oi,{multipleFiles:!0,onChange:o,children:[jf(te,{buttonStyle:"subtle",iconPosition:"left",onClick:()=>{r.current&&r.current.click()},size:"small",children:n("upload:selectFile")}),jf("input",{accept:t,"aria-hidden":"true",className:`${Mf}__hidden-input`,hidden:!0,multiple:!0,onChange:s=>{s.target.files&&s.target.files.length>0&&o(s.target.files)},ref:r,type:"file"}),Vb("p",{className:`${Mf}__dragAndDropText`,children:[n("general:or")," ",n("upload:dragAndDrop")]})]})})]})}import{c as sV}from"react/compiler-runtime";import{jsx as Tu,jsxs as lv}from"react/jsx-runtime";import{getTranslation as iV}from"@payloadcms/translations";import{reduceFieldsToValues as aV}from"payload/shared";import"react";import{c as y_}from"react/compiler-runtime";import{jsx as an,jsxs as fu}from"react/jsx-runtime";import"react";import{c as N7}from"react/compiler-runtime";import{jsx as Hf,jsxs as $7}from"react/jsx-runtime";import"react";import{jsx as g7,jsxs as b7}from"react/jsx-runtime";import{isImage as v7}from"payload/shared";import*as Of from"qs-esm";import nt from"react";var i_=t=>new Promise((e,o)=>{let n=new Image;n.src=URL.createObjectURL(t),n.onload=()=>{let s,i,l=n.width/n.height;l>1?(i=280,s=280/l):(i=280*l,s=280);let a=new OffscreenCanvas(i,s);a.getContext("2d").drawImage(n,0,0,i,s),a.convertToBlob({type:"image/jpeg",quality:.25}).then(u=>{URL.revokeObjectURL(n.src);let d=new FileReader;d.onload=()=>e(d.result),d.onerror=o,d.readAsDataURL(u)}).catch(o)},n.onerror=r=>{URL.revokeObjectURL(n.src),o(r)}});var a_=Ks(Rb(),1);import{reduceFieldsToValues as h7}from"payload/shared";async function l_(t={},e={},o,n){let r=h7(t,!0),s=r?.file;if(s&&delete r.file,s&&typeof n=="function"){let a=s.name,c=await n({file:s,updateFilename:u=>{a=u}});s=JSON.stringify({clientUploadContext:c,collectionSlug:o,filename:a,mimeType:s.type,size:s.size})}let i={...r,...e},l={_payload:JSON.stringify(i),file:s};return(0,a_.serialize)(l,{indices:!0,nullsAsUndefineds:!1})}function c_(t,e){switch(e.type){case"ADD_FORMS":{let o=[];for(let n=0;n<e.files.length;n++)o[n]={errorCount:0,formState:{...e.initialState||{},file:{initialValue:e.files[n],valid:!0,value:e.files[n]}},uploadEdits:{}};return{...t,activeIndex:0,forms:[...o,...t.forms]}}case"REMOVE_FORM":{let o=[...t.forms],[n]=o.splice(e.index,1),r=t.activeIndex>=e.index,s=t.activeIndex===e.index?e.index:r?t.activeIndex-1:t.activeIndex,i=Math.min(o.length-1,s);return{...t,activeIndex:r?i:t.activeIndex,forms:o,totalErrorCount:t.totalErrorCount-n.errorCount}}case"REPLACE":return{...t,...e.state};case"SET_ACTIVE_INDEX":return{...t,activeIndex:e.index};case"UPDATE_ERROR_COUNT":{let o=[...t.forms];return o[e.index].errorCount=e.count,{...t,forms:o,totalErrorCount:t.forms.reduce((n,r)=>n+r.errorCount,0)}}case"UPDATE_FORM":{let o=[...t.forms];return o[e.index].errorCount=e.errorCount,o[e.index]={...o[e.index],formState:{...o[e.index].formState,...e.formState},uploadEdits:{...o[e.index].uploadEdits,...e.uploadEdits}},{...t,forms:o,totalErrorCount:t.forms.reduce((n,r)=>n+r.errorCount,0)}}default:return t}}var u_=nt.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),bulkUpdateForm:()=>null,collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},thumbnailUrls:[],totalErrorCount:0,updateUploadEdits:()=>{}}),C7={activeIndex:0,forms:[],totalErrorCount:0};function d_({children:t}){let{config:e}=H(),{routes:{api:o},serverURL:n}=e,{code:r}=Ie(),{i18n:s,t:i}=$(),{getDocumentSlots:l,getFormState:a}=At(),{getUploadHandler:c}=iu(),[u,d]=nt.useState({}),[f,m]=nt.useState(!1),[h,p]=nt.useState(),[g,b]=nt.useState(!1),[C,v]=nt.useState(!1),[x,y]=nt.useState(!1),[I,w]=nt.useState(!1),[D,_]=nt.useState(!1),[R,T]=nt.useReducer(c_,C7),{activeIndex:S,forms:F,totalErrorCount:A}=R,P=nt.useRef(F);P.current=F;let E=F.length,k=nt.useRef([]),M=nt.useRef(new Set),[N,L]=nt.useState([]);nt.useEffect(()=>{(async()=>{let U=[...k.current];for(let ne=0;ne<E;ne++){let ve=P.current[ne].formState.file.value;if(M.current.has(ve)||!ve||!v7(ve.type))continue;M.current.add(ve);let Ne=await i_(ve);U[ne]=Ne,k.current=U,L([...U]),await new Promise(Me=>setTimeout(Me,100))}})()},[E]);let{toggleLoadingOverlay:O}=uf(),{closeModal:j}=le(),{collectionSlug:B,drawerSlug:V,initialFiles:G,onSuccess:z}=Vo(),[Y,Q]=nt.useState(!1),[Z,X]=nt.useState(""),q=nt.useRef(!1),W=nt.useRef(null),ee=nt.useRef(()=>({})),pe=`${o}/${B}`,ae=nt.useCallback(async()=>{let U={locale:r||void 0},ne=`/${B}/access`,Ne=await(await fetch(`${n}${o}${ne}?${Of.stringify(U)}`,{credentials:"include",headers:{"Accept-Language":s.language,"Content-Type":"application/json"},method:"post"})).json(),Me=await fetch(`${n}${o}${ne}?${Of.stringify(U)}`,{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":s.language,"Content-Type":"application/json"},method:"POST"}).then(Le=>Le.json());p(Ne),b(rc({collectionSlug:B,docPermissions:Ne,isEditing:!1})),v(Me?.update),w(!0)},[o,r,B,s.language,n]),Se=nt.useCallback(async U=>{U?.signal&&U.abort("aborting previous fetch for initial form state without files");let ne=await l({collectionSlug:B});d(ne);try{let{state:ve}=await a({collectionSlug:B,docPermissions:h,docPreferences:{fields:{}},locale:r,operation:"create",renderAllFields:!0,schemaPath:B,skipValidation:!0});W.current=ve,y(!0)}catch{}},[l,B,a,h,r]),K=nt.useCallback(U=>{let ne=ee.current();T({type:"REPLACE",state:{activeIndex:U,forms:F.map((ve,Ne)=>Ne===S?{errorCount:ve.errorCount,formState:ne,uploadEdits:ve.uploadEdits}:ve)}})},[F,S]),se=nt.useCallback(async U=>{O({isLoading:!0,key:"addingDocs"}),x||await Se(),T({type:"ADD_FORMS",files:U,initialState:W.current}),O({isLoading:!1,key:"addingDocs"})},[Se,x,O]),ge=nt.useCallback(U=>{k.current=k.current.filter((ne,ve)=>!U.includes(ve)),L([...k.current])},[]),ye=nt.useCallback(U=>{T({type:"REMOVE_FORM",index:U}),ge([U])},[ge]),oe=nt.useCallback(({errorCount:U,index:ne})=>{T({type:"UPDATE_ERROR_COUNT",count:U,index:ne})},[]),fe=nt.useCallback(async({overrides:U}={})=>{let ne=ee.current(),ve=[...F];ve[S]={errorCount:ve[S].errorCount,formState:ne,uploadEdits:ve[S].uploadEdits};let Ne=[];Q(!0);for(let Xe=0;Xe<ve.length;Xe++)try{let We=ve[Xe];X(i("general:uploadingBulk",{current:Xe+1,total:ve.length}));let ho=`${pe}${Of.stringify({uploadEdits:We?.uploadEdits||void 0},{addQueryPrefix:!0})}`,qe=await fetch(ho,{body:await l_(We.formState,U,B,c({collectionSlug:B})),method:"POST"}),Ke=await qe.json();qe.status===201&&Ke?.doc&&Ne.push(Ke.doc);let[Qe,St]=(Ke?.errors||[]).reduce(([Pt,Ct],Ze)=>{let be=[],ce=[];return Ze?.message&&ce.push(Ze),Array.isArray(Ze?.data?.errors)&&Ze.data?.errors.forEach(J=>{J?.path?be.push(J):ce.push(J)}),[[...Pt,...be],[...Ct,...ce]]},[[],[]]);ve[Xe]={errorCount:Qe.length,formState:au(ve[Xe].formState,{type:"ADD_SERVER_ERRORS",errors:Qe})},(qe.status===413||qe.status===400)&&(ve[Xe]={...ve[Xe],errorCount:ve[Xe].errorCount+1},ue.error(St[0]?.message))}catch{}m(!0),X(""),Q(!1);let Me=[],Le=[];ve.forEach(({errorCount:Xe},We)=>{Xe?Me.push(ve[We]):Le.push(We)});let ct=Math.max(0,ve.length-Me.length),vt=ve.length-ct;ct&&(ue.success(`Successfully saved ${ct} files`),typeof z=="function"&&z(Ne,vt),Me.length&&Le.length&&ge(Le)),vt?ue.error(`Failed to save ${vt} files`):j(V),T({type:"REPLACE",state:{activeIndex:0,forms:Me,totalErrorCount:Me.reduce((Xe,{errorCount:We})=>Xe+We,0)}})},[pe,S,F,ge,z,B,c,i,j,V]),he=nt.useCallback(async(U,ne)=>{for(let ve=0;ve<F.length;ve++)if(Object.entries(U).forEach(([Ne,Me])=>{F[ve].formState[Ne]&&(F[ve].formState[Ne].value=Me,T({type:"UPDATE_FORM",errorCount:F[ve].errorCount,formState:F[ve].formState,index:ve}))}),typeof ne=="function"&&ne(),f){let{state:Ne}=await a({collectionSlug:B,docPermissions:h,docPreferences:null,formState:F[ve].formState,operation:"create",schemaPath:B}),Me=Object.values(Ne).reduce((Le,ct)=>ct?.valid===!1?Le+1:Le,0);T({type:"UPDATE_FORM",errorCount:Me,formState:Ne,index:ve})}},[B,h,F,a,f]),ie=nt.useCallback(U=>{T({type:"UPDATE_FORM",errorCount:F[S].errorCount,formState:F[S].formState,index:S,uploadEdits:U})},[S,F]),de=nt.useCallback(()=>{T({type:"REPLACE",state:{forms:F.map(U=>({...U,uploadEdits:{}}))}})},[F]);return nt.useEffect(()=>{B&&(x||Se(),I||ae(),G&&_(!x||!I),x&&G&&!q.current&&(se(G),q.current=!0))},[se,G,Se,ae,B,x,I]),b7(u_,{value:{activeIndex:R.activeIndex,addFiles:se,bulkUpdateForm:he,collectionSlug:B,docPermissions:h,documentSlots:u,forms:F,getFormDataRef:ee,hasPublishPermission:C,hasSavePermission:g,hasSubmitted:f,isInitializing:D,removeFile:ye,resetUploadEdits:de,saveAllDocs:fe,setActiveIndex:K,setFormTotalErrorCount:oe,thumbnailUrls:N,totalErrorCount:A,updateUploadEdits:ie},children:[Y&&g7(tn,{animationDuration:"250ms",loadingText:Z,overlayType:"fullscreen",show:!0}),t]})}function No(){return nt.use(u_)}import{jsx as sn,jsxs as Gb}from"react/jsx-runtime";import{getTranslation as R7}from"@payloadcms/translations";import{unflatten as b_}from"payload/shared";import A7,{useCallback as zb,useEffect as E7,useMemo as P7,useState as v_}from"react";import{c as I7}from"react/compiler-runtime";import{jsx as g_,jsxs as _7}from"react/jsx-runtime";import{useState as D7}from"react";var m_=t=>{let e=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"];return t.filter(o=>!e.includes("name"in o&&o.name))};import{fieldAffectsData as x7,fieldHasSubFields as y7,fieldIsHiddenOrDisabled as w7,getFieldPermissions as S7}from"payload/shared";import{fieldAffectsData as f_}from"payload/shared";var rl=(t,e)=>t?f_(e)?`${t}.${e.name}`:t:f_(e)?e.name:"";import{jsx as Vf,jsxs as p_}from"react/jsx-runtime";import{Fragment as h_}from"react";var mu=({CustomLabel:t,field:e,prefix:o})=>p_(h_,{children:[o?p_(h_,{children:[Vf("span",{style:{display:"inline-block"},children:o})," > "]}):null,Vf("span",{style:{display:"inline-block"},children:Vf(me,{CustomComponent:t,Fallback:Vf(we,{label:"label"in e&&e.label})})})]});var Gf=({fields:t,formState:e,labelPrefix:o=null,parentPath:n="",path:r="",permissions:s})=>{if(!t)return[];let i=e?.[r]?.customComponents?.Label;return t?.reduce((l,a)=>{let{operation:c,permissions:u,read:d}=S7({field:a,operation:"update",parentName:n?.includes(".")?n.split(".")[n.split(".").length-1]:n,permissions:s});if((x7(a)||a.type==="ui")&&(a.admin?.disableBulkEdit||a.unique||w7(a)||"readOnly"in a&&a.readOnly||!c||!d))return l;if(!(a.type==="array"||a.type==="blocks")&&y7(a))return[...l,...Gf({fields:a.fields,labelPrefix:mu({CustomLabel:i,field:a,prefix:o}),parentPath:r,path:rl(r,a),permissions:u})];if(a.type==="tabs"&&"tabs"in a)return[...l,...a.tabs.reduce((m,h)=>{if("fields"in h){let p="name"in h&&h.name;return[...m,...Gf({fields:h.fields,labelPrefix:o,parentPath:r,path:p?rl(r,a):r,permissions:u})]}},[])];let f={label:mu({CustomLabel:i,field:a,prefix:o}),value:{field:a,fieldPermissions:u,path:rl(r,a)}};return[...l,f]},[])};var F7="field-select",zf=t=>{let e=I7(14),{fields:o,onChange:n,permissions:r}=t,{t:s}=$(),{dispatchFields:i,getFields:l}=Be(),a;e[0]!==o||e[1]!==l||e[2]!==r?(a=()=>Gf({fields:m_(o),formState:l(),permissions:r}),e[0]=o,e[1]=l,e[2]=r,e[3]=a):a=e[3];let[c]=D7(a),u;if(e[4]!==i||e[5]!==l||e[6]!==n||e[7]!==c||e[8]!==s){let d;e[10]!==i||e[11]!==l||e[12]!==n?(d=f=>n({dispatchFields:i,formState:l(),selected:f}),e[10]=i,e[11]=l,e[12]=n,e[13]=d):d=e[13],u=_7("div",{className:F7,children:[g_(we,{label:s("fields:selectFieldsToEdit")}),g_(ft,{getOptionValue:T7,isMulti:!0,onChange:d,options:c})]}),e[4]=i,e[5]=l,e[6]=n,e[7]=c,e[8]=s,e[9]=u}else u=e[9];return u};function T7(t){return typeof t.value=="object"&&"path"in t.value?String(t.value.path):String(t.value)}var C_=t=>{let{collection:{fields:e,labels:{plural:o,singular:n}}={},collection:r,drawerSlug:s,forms:i}=t,[l,a]=v_(!1),{permissions:c}=Fe(),{i18n:u,t:d}=$(),{closeModal:f}=le(),{bulkUpdateForm:m}=No(),{getFormState:h}=At(),p=A7.useRef(null),[g,b]=v_([]),C=c?.collections?.[r.slug],v=P7(()=>b_(g.reduce((w,D)=>(w[D.value.path]=!0,w),{})),[g]),x=zb(async({formState:w,submitted:D})=>{let _=hr(p),{state:R}=await h({collectionSlug:r.slug,docPermissions:C,docPreferences:null,formState:w,operation:"update",schemaPath:r.slug,select:v,signal:_.signal,skipValidation:!D});return p.current=null,R},[h,r,C,v]);E7(()=>{let w=p.current;return()=>{pr(w)}},[]);let y=zb(w=>{let D=g.reduce((_,R)=>(w[R.value.path]&&(_[R.value.path]=w[R.value.path].value),_),{});m(D,()=>f(s))},[f,s,m,g]),I=zb(async({dispatchFields:w,formState:D,selected:_})=>{a(!0),b(_||[]);let{state:R}=await h({collectionSlug:r.slug,docPermissions:C,docPreferences:null,formState:D,operation:"update",schemaPath:r.slug,select:b_(_.reduce((T,S)=>(T[S.value.path]=!0,T),{})),skipValidation:!0});w({type:"UPDATE_MANY",formState:R}),a(!1)},[h,r,C]);return Gb("div",{className:`${Lr}__main`,children:[Gb("div",{className:`${Lr}__header`,children:[sn("h2",{className:`${Lr}__header__title`,children:d("general:editingLabel",{count:i.length,label:R7(i.length>1?o:n,u)})}),sn("button",{"aria-label":d("general:close"),className:`${Lr}__header__close`,id:`close-drawer__${s}`,onClick:()=>f(s),type:"button",children:sn(pt,{})})]}),Gb(Yn,{className:`${Lr}__form`,isInitializing:l,onChange:[x],onSubmit:y,children:[sn(zf,{fields:e,onChange:I,permissions:C.fields}),g.length===0?null:sn("div",{className:"render-fields",children:g.map((w,D)=>{let{value:{field:_,fieldPermissions:R,path:T}}=w;return sn(nl,{clientFieldConfig:_,indexPath:"",parentPath:"",parentSchemaPath:"",path:T,permissions:R},`${T}-${D}`)})}),sn("div",{className:`${Lr}__sidebar-wrap`,children:sn("div",{className:`${Lr}__sidebar`,children:sn("div",{className:`${Lr}__sidebar-sticky-wrap`,children:sn("div",{className:`${Lr}__document-actions`,children:sn(te,{type:"submit",children:d("general:applyChanges")})})})})})]})]})};var Lr="edit-many-bulk-uploads",x_=t=>{let e=N7(5),{collection:o,collection:n}=t,{slug:r}=o===void 0?{}:o,{permissions:s}=Fe(),{t:i}=$(),{forms:l}=No(),c=s?.collections?.[r]?.update,u=`edit-${r}-bulk-uploads`;if(!c)return null;let d;return e[0]!==n||e[1]!==u||e[2]!==l||e[3]!==i?(d=$7("div",{className:Lr,children:[Hf(kn,{"aria-label":i("general:editAll"),className:`${Lr}__toggle`,slug:u,children:i("general:editAll")}),Hf(si,{children:Hf($t,{Header:null,slug:u,children:Hf(C_,{collection:n,drawerSlug:u,forms:l})})})]}),e[0]=n,e[1]=u,e[2]=l,e[3]=i,e[4]=d):d=e[4],d};var sl="bulk-upload--actions-bar";function w_(t){let e=y_(15),{collectionConfig:o}=t,{activeIndex:n,forms:r,setActiveIndex:s}=No(),{t:i}=$(),l=n+1,a;if(e[0]!==n||e[1]!==o||e[2]!==r.length||e[3]!==s||e[4]!==i||e[5]!==l){let c;e[7]!==n||e[8]!==r.length||e[9]!==s?(c=()=>{let d=n-1;d<0?s(r.length-1):s(d)},e[7]=n,e[8]=r.length,e[9]=s,e[10]=c):c=e[10];let u;e[11]!==n||e[12]!==r.length||e[13]!==s?(u=()=>{let d=n+1;d===r.length?s(0):s(d)},e[11]=n,e[12]=r.length,e[13]=s,e[14]=u):u=e[14],a=fu("div",{className:sl,children:[fu("div",{className:`${sl}__navigation`,children:[fu("p",{className:`${sl}__locationText`,children:[an("strong",{children:l}),` ${i("general:of")} `,an("strong",{children:r.length})]}),fu("div",{className:`${sl}__controls`,children:[an(te,{"aria-label":i("general:previous"),buttonStyle:"none",onClick:c,type:"button",children:an(Ye,{direction:"left"})}),an(te,{"aria-label":i("general:next"),buttonStyle:"none",onClick:u,type:"button",children:an(Ye,{direction:"right"})})]}),an(x_,{collection:o})]}),an(Hb,{className:`${sl}__saveButtons`})]}),e[0]=n,e[1]=o,e[2]=r.length,e[3]=s,e[4]=i,e[5]=l,e[6]=a}else a=e[6];return a}function Hb(t){let e=y_(12),{className:o}=t,{getEntityConfig:n}=H(),{t:r}=$(),{collectionSlug:s,hasPublishPermission:i,hasSavePermission:l,saveAllDocs:a}=No(),c;e[0]!==s||e[1]!==n?(c=n({collectionSlug:s}),e[0]=s,e[1]=n,e[2]=c):c=e[2];let u=c,d;e[3]!==o?(d=[`${sl}__buttons`,o].filter(Boolean),e[3]=o,e[4]=d):d=e[4];let f=d.join(" "),m;return e[5]!==u?.versions?.drafts||e[6]!==i||e[7]!==l||e[8]!==a||e[9]!==r||e[10]!==f?(m=fu("div",{className:f,children:[u?.versions?.drafts&&l?an(te,{buttonStyle:"secondary",onClick:()=>void a({overrides:{_status:"draft"}}),children:r("version:saveDraft")}):null,u?.versions?.drafts&&i?an(te,{onClick:()=>void a({overrides:{_status:"published"}}),children:r("version:publish")}):null,!u?.versions?.drafts&&l?an(te,{onClick:()=>void a(),children:r("general:save")}):null]}),e[5]=u?.versions?.drafts,e[6]=i,e[7]=l,e[8]=a,e[9]=r,e[10]=f,e[11]=m):m=e[11],m}import{c as L7}from"react/compiler-runtime";import{jsx as k7}from"react/jsx-runtime";import"react";var pu="bulk-upload--discard-without-saving";function S_(){let t=L7(9),{t:e}=$(),{closeModal:o}=le(),{drawerSlug:n}=Vo(),r;t[0]!==o?(r=()=>{o(pu)},t[0]=o,t[1]=r):r=t[1];let s=r,i;t[2]!==o||t[3]!==n?(i=()=>{o(n),o(pu)},t[2]=o,t[3]=n,t[4]=i):i=t[4];let l=i,a;return t[5]!==s||t[6]!==l||t[7]!==e?(a=k7(ht,{body:e("general:changesNotSaved"),cancelLabel:e("general:stayOnThisPage"),confirmLabel:e("general:leaveAnyway"),heading:e("general:leaveWithoutSaving"),modalSlug:pu,onCancel:s,onConfirm:l}),t[5]=s,t[6]=l,t[7]=e,t[8]=a):a=t[8],a}import{jsx as Qn,jsxs as U8}from"react/jsx-runtime";import{useRouter as X8,useSearchParams as Y8}from"next/navigation.js";import{formatAdminURL as Z8}from"payload/shared";import Fu,{useCallback as uD,useEffect as dD}from"react";import{c as j7}from"react/compiler-runtime";import{jsx as M7}from"react/jsx-runtime";import{createContext as B7,use as O7,useState as V7}from"react";var I_=B7({mostRecentUpdate:null,reportUpdate:t=>null}),Wb=t=>{let e=j7(3),{children:o}=t,[n,r]=V7(null),s;return e[0]!==o||e[1]!==n?(s=M7(I_,{value:{mostRecentUpdate:n,reportUpdate:r},children:o}),e[0]=o,e[1]=n,e[2]=s):s=e[2],s},Vi=()=>O7(I_);import{jsx as Ms,jsxs as __}from"react/jsx-runtime";import{fieldIsSidebar as G7}from"payload/shared";import{useMemo as z7}from"react";var kr="document-fields",hu=({AfterFields:t,BeforeFields:e,Description:o,docPermissions:n,fields:r,forceSidebarWrap:s,readOnly:i,schemaPathSegments:l})=>{let{hasSidebarFields:a,mainFields:c,sidebarFields:u}=z7(()=>r.reduce((d,f)=>(G7(f)?(d.sidebarFields.push(f),d.mainFields.push(null),d.hasSidebarFields=!0):(d.mainFields.push(f),d.sidebarFields.push(null)),d),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),[r]);return __("div",{className:[kr,a?`${kr}--has-sidebar`:`${kr}--no-sidebar`,s&&`${kr}--force-sidebar-wrap`].filter(Boolean).join(" "),children:[Ms("div",{className:`${kr}__main`,children:__(bo,{className:`${kr}__edit`,children:[o?Ms("header",{className:`${kr}__header`,children:Ms("div",{className:`${kr}__sub-header`,children:o})}):null,e,Ms(Do,{className:`${kr}__fields`,fields:c,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:l.join("."),permissions:n?.fields,readOnly:i}),t]})}),a?Ms("div",{className:`${kr}__sidebar-wrap`,children:Ms("div",{className:`${kr}__sidebar`,children:Ms("div",{className:`${kr}__sidebar-fields`,children:Ms(Do,{fields:u,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:l.join("."),permissions:n?.fields,readOnly:i})})})}):null]})};import{c as G_}from"react/compiler-runtime";import{jsx as ep,jsxs as D8,Fragment as F8}from"react/jsx-runtime";import{getTranslation as T8}from"@payloadcms/translations";import V_,{useId as R8}from"react";import{jsx as D_}from"react/jsx-runtime";import"react";function gu({className:t}){return D_("svg",{className:[t,"icon icon--folder"].filter(Boolean).join(" "),fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:D_("path",{d:"M13.3333 13.3333C13.6869 13.3333 14.026 13.1929 14.2761 12.9428C14.5261 12.6928 14.6666 12.3536 14.6666 12V5.33333C14.6666 4.97971 14.5261 4.64057 14.2761 4.39052C14.026 4.14048 13.6869 4 13.3333 4H8.06659C7.84359 4.00219 7.62362 3.94841 7.42679 3.84359C7.22996 3.73877 7.06256 3.58625 6.93992 3.4L6.39992 2.6C6.27851 2.41565 6.11323 2.26432 5.91892 2.1596C5.7246 2.05488 5.50732 2.00004 5.28659 2H2.66659C2.31296 2 1.97382 2.14048 1.72378 2.39052C1.47373 2.64057 1.33325 2.97971 1.33325 3.33333V12C1.33325 12.3536 1.47373 12.6928 1.72378 12.9428C1.97382 13.1929 2.31296 13.3333 2.66659 13.3333H13.3333Z",fill:"currentColor"})})}import{c as Qb}from"react/compiler-runtime";import{jsx as wt,jsxs as Qf,Fragment as B_}from"react/jsx-runtime";import{getTranslation as qb}from"@payloadcms/translations";import{extractID as p8}from"payload/shared";import jr from"react";import{jsx as H7}from"react/jsx-runtime";import{useRouter as W7,useSearchParams as U7}from"next/navigation.js";import{extractID as T_,formatAdminURL as R_,formatFolderOrDocumentItem as X7}from"payload/shared";import*as Uf from"qs-esm";import Mt from"react";function Wf({selectFromIndex:t,selectToIndex:e}){if(t==null)return new Set([e]);let o=Math.min(e,t),n=Math.max(e,t);return new Set(Array.from({length:Math.max(o,n)+1},(s,i)=>i).filter(s=>s>=o&&s<=n))}function Ub({currentSelection:t,toggleIndex:e}){let o=new Set(t);return o.has(e)?o.delete(e):o.add(e),o}function F_(t){return t.reduce((e,o)=>(e[o.relationTo]||(e[o.relationTo]=[]),e[o.relationTo].push(o.value.id),e),{})}var A_=Mt.createContext({activeCollectionFolderSlugs:[],allCollectionFolderSlugs:[],allowCreateCollectionSlugs:[],breadcrumbs:[],clearSelections:()=>{},currentFolder:null,documents:[],focusedRowIndex:-1,folderCollectionConfig:null,folderCollectionSlug:"",folderFieldName:"folder",folderID:void 0,FolderResultsComponent:null,getFolderRoute:()=>"",getSelectedItems:()=>[],isDragging:!1,itemKeysToMove:void 0,lastSelectedIndex:null,moveToFolder:()=>Promise.resolve(void 0),onItemClick:()=>{},onItemKeyPress:()=>{},refineFolderData:()=>{},search:"",selectedItemKeys:new Set,setBreadcrumbs:()=>{},setFocusedRowIndex:()=>-1,setIsDragging:()=>!1,sort:"_folderOrDocumentTitle",subfolders:[]});function Gi({activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e=[],allowCreateCollectionSlugs:o,allowMultiSelection:n=!0,baseFolderPath:r,breadcrumbs:s=[],children:i,documents:l,folderFieldName:a,folderID:c,FolderResultsComponent:u,onItemClick:d,search:f,sort:m="_folderOrDocumentTitle",subfolders:h}){let p=Ht(),{config:g}=H(),{routes:b,serverURL:C}=g,v=Tr(),{t:x}=$(),y=W7(),{startRouteTransition:I}=Je(),[w,D]=Mt.useState(u||(()=>null)),[_]=Mt.useState(()=>g.collections.find(K=>g.folders&&K.slug===g.folders.slug)),R=_.slug,T=U7(),S=Mt.useMemo(()=>fo(T),[T]),[F,A]=Mt.useState(S),[P,E]=Mt.useState(!1),[k,M]=Mt.useState(()=>new Set),[N,L]=Mt.useState(-1),[O,j]=Mt.useState(null),[B,V]=Mt.useState(s),G=Mt.useRef(null),z=h.length+l.length,Y=Mt.useCallback(()=>{L(-1),M(new Set),j(void 0)},[]),Q=Mt.useCallback((K={})=>{let se="page"in K?K.page:F?.page;return"search"in K&&(se="1"),{...F,...K,page:se,search:"search"in K?K.search:F?.search,sort:"sort"in K?K.sort:F?.sort??void 0}},[F]),Z=Mt.useCallback(({query:K,updateURL:se})=>{if(se){let ge=Q(K);I(()=>y.replace(`${Uf.stringify(ge,{addQueryPrefix:!0})}`)),A(ge)}},[Q,y,I]),X=Mt.useCallback(K=>{let se=Q({page:"1",search:""});return R_({adminRoute:g.routes.admin,path:`${r}${K?`/${K}`:""}${Uf.stringify(se,{addQueryPrefix:!0})}`,serverURL:g.serverURL})},[r,g.routes.admin,g.serverURL,Q]),q=Mt.useCallback(K=>[...h,...l].find(se=>se.itemKey===K),[l,h]),W=Mt.useCallback(()=>Array.from(k).reduce((K,se)=>{let ge=q(se);return ge&&K.push(ge),K},[]),[k,q]),ee=Mt.useCallback(({collectionSlug:K,docID:se})=>{v===1&&(Y(),K===R?I(()=>y.push(X(se))):K&&I(()=>{y.push(R_({adminRoute:g.routes.admin,path:`/collections/${K}/${se}`}))})),typeof d=="function"&&d(q(`${K}-${se}`))},[Y,g.routes.admin,v,R,X,q,d,y,I]),pe=Mt.useCallback(({event:K,index:se,item:ge})=>{let{code:ye,ctrlKey:oe,metaKey:fe,shiftKey:he}=K,ie=he,de=oe||fe,U;switch(ye){case"ArrowDown":{K.preventDefault();let ne=Math.min(se+1,z-1);if(L(ne),de)break;n&&ie?U=Wf({selectFromIndex:Math.min(O,z),selectToIndex:Math.min(ne,z)}):(j(ne),U=new Set([ne]));break}case"ArrowUp":{K.preventDefault();let ne=Math.max(se-1,0);if(L(ne),de)break;n&&ie?U=Wf({selectFromIndex:O,selectToIndex:ne}):(j(ne),U=new Set([ne]));break}case"Enter":{k.size===1&&(U=new Set([]),L(void 0));break}case"Escape":{L(void 0),U=new Set([]);break}case"KeyA":{n&&de&&(K.preventDefault(),L(z-1),U=new Set(Array.from({length:z},(ne,ve)=>ve)));break}case"Space":{n&&ie?(K.preventDefault(),U=Ub({currentSelection:U,toggleIndex:se}),j(se)):(K.preventDefault(),U=new Set([se]),j(se));break}case"Tab":{if(n&&ie){let ne=se-1;ne<0&&U?.size>0&&L(ne)}else se+1===z&&k.size>0&&L(z-1);break}}U&&(M([...h,...l].reduce((ne,ve,Ne)=>(U?.size&&U.has(Ne)&&ne.add(ve.itemKey),ne),new Set)),k.size===1&&ye==="Enter"&&ee({collectionSlug:ge.relationTo,docID:T_(ge.value)}))},[n,l,O,ee,h,z,k]),ae=Mt.useCallback(({event:K,index:se,item:ge})=>{let ye=!1,oe=K.ctrlKey||K.metaKey,fe=K.shiftKey,he;if(n&&oe)he=Ub({currentSelection:he,toggleIndex:se});else if(n&&fe&&O!==void 0)he=Wf({selectFromIndex:O,selectToIndex:se});else if(n&&K.type==="pointermove")k.has(ge.itemKey)||(he=new Set([se])),j(se);else{he=new Set([se]);let ie=Date.now();ye=ie-G.current<400&&O===se,G.current=ie,j(se)}L(he?se:void 0),he&&M([...h,...l].reduce((ie,de,U)=>(he.size&&he.has(U)&&ie.add(de.itemKey),ie),new Set)),ye&&ee({collectionSlug:ge.relationTo,docID:T_(ge.value)})},[k,n,O,h,l,ee]),Se=Mt.useCallback(async K=>{let{itemsToMove:se,toFolderID:ge}=K;if(!se.length)return;if(se.length===1&&se[0].relationTo===R&&se[0].value.id===c)(await fetch(`${C}${b.api}/${R}/${c}?depth=0`,{body:JSON.stringify({[a]:ge||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})).status!==200&&ue.error(x("general:error"));else for(let[oe,fe]of Object.entries(F_(se))){let he=Uf.stringify({depth:0,limit:0,where:{id:{in:fe}}},{addQueryPrefix:!0});try{await fetch(`${C}${b.api}/${oe}${he}`,{body:JSON.stringify({[a]:ge||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})}catch(ie){ue.error(x("general:error")),console.error(ie);continue}}Y()},[c,Y,R,a,b.api,C,x]);return Mt.useEffect(()=>{u&&D(u)},[u]),H7(A_,{value:{activeCollectionFolderSlugs:t||e,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,breadcrumbs:B,clearSelections:Y,currentFolder:B?.[0]?.id?X7({folderFieldName:a,isUpload:!1,relationTo:R,useAsTitle:_.admin.useAsTitle,value:B[B.length-1]}):null,documents:l,focusedRowIndex:N,folderCollectionConfig:_,folderCollectionSlug:R,folderFieldName:a,folderID:c,FolderResultsComponent:w,getFolderRoute:X,getSelectedItems:W,isDragging:P,itemKeysToMove:p.selectedItemKeys,lastSelectedIndex:O,moveToFolder:Se,onItemClick:ae,onItemKeyPress:pe,refineFolderData:Z,search:f,selectedItemKeys:k,setBreadcrumbs:V,setFocusedRowIndex:L,setIsDragging:E,sort:m,subfolders:h},children:i})}function Ht(){let t=Mt.use(A_);if(t===void 0)throw new Error("useFolder must be used within a FolderProvider");return t}import{c as Y7}from"react/compiler-runtime";import{jsx as Z7}from"react/jsx-runtime";import{usePathname as J7,useRouter as q7}from"next/navigation.js";import{createContext as Q7,use as K7,useEffect as e8}from"react";var E_=Q7({cachingEnabled:!0,clearRouteCache:()=>{}}),Xb=t=>{let e=Y7(13),{cachingEnabled:o,children:n}=t,r=o===void 0?!0:o,s=J7(),i=q7(),l;e[0]!==i?(l=()=>{i.refresh()},e[0]=i,e[1]=l):l=e[1];let a=l,c;e[2]!==r||e[3]!==a?(c=()=>{r&&a()},e[2]=r,e[3]=a,e[4]=c):c=e[4];let u;e[5]!==r||e[6]!==a||e[7]!==s?(u=[s,a,r],e[5]=r,e[6]=a,e[7]=s,e[8]=u):u=e[8],e8(c,u);let d;return e[9]!==r||e[10]!==n||e[11]!==a?(d=Z7(E_,{value:{cachingEnabled:r,clearRouteCache:a},children:n}),e[9]=r,e[10]=n,e[11]=a,e[12]=d):d=e[12],d},Jt=()=>K7(E_);import{c as o8}from"react/compiler-runtime";import{jsx as Xf,jsxs as N_}from"react/jsx-runtime";import"react";import{jsx as P_}from"react/jsx-runtime";import"react";var t8="form-submit",vr=t=>{let{type:e="submit",buttonId:o,children:n,disabled:r,onClick:s,programmaticSubmit:i,ref:l}=t,a=Dr(),c=Fh(),u=oi(),{disabled:d,submit:f}=Be();return P_("div",{className:t8,children:P_(te,{ref:l,...t,disabled:!(r||u||a||c||d)?void 0:!0,id:o,onClick:s??(i?()=>{f()}:void 0),type:e,children:n})})};var Yf="drawer-action-header",$_=t=>{let e=o8(16),{cancelLabel:o,className:n,onCancel:r,onSave:s,saveLabel:i,title:l}=t,{t:a}=$(),c;e[0]!==n?(c=[Yf,n].filter(Boolean),e[0]=n,e[1]=c):c=e[1];let u=c.join(" "),d;if(e[2]!==o||e[3]!==r||e[4]!==s||e[5]!==i||e[6]!==a||e[7]!==u||e[8]!==l){let f;e[10]!==o||e[11]!==a?(f=o||a("general:cancel"),e[10]=o,e[11]=a,e[12]=f):f=e[12];let m;e[13]!==i||e[14]!==a?(m=i||a("general:applyChanges"),e[13]=i,e[14]=a,e[15]=m):m=e[15],d=Xf("div",{className:u,children:N_("div",{className:`${Yf}__content`,children:[Xf("h1",{className:`${Yf}__title`,children:l}),N_("div",{className:`${Yf}__actions`,children:[Xf(te,{"aria-label":a("general:cancel"),buttonStyle:"secondary",onClick:r,children:f}),Xf(vr,{"aria-label":a("general:applyChanges"),onClick:s,children:m})]})]})}),e[2]=o,e[3]=r,e[4]=s,e[5]=i,e[6]=a,e[7]=u,e[8]=l,e[9]=d}else d=e[9];return d};import{jsx as r8}from"react/jsx-runtime";import"react";var n8="drawer-content-container";function Yb({children:t,className:e}){return r8("div",{className:[n8,e].filter(Boolean).join(" "),children:t})}import{c as s8}from"react/compiler-runtime";import{jsx as zi,jsxs as i8}from"react/jsx-runtime";import{getTranslation as a8}from"@payloadcms/translations";import Zb from"react";var Jb="create-new-doc-in-folder";function ln(t){let e=s8(28),{buttonLabel:o,collectionSlugs:n,onCreateSuccess:r,slugPrefix:s}=t,i=`${s}-new-doc-in-folder-drawer`,{i18n:l}=$(),{closeModal:a,openModal:c}=le(),{config:u}=H(),{folderCollectionConfig:d,folderCollectionSlug:f,folderFieldName:m,folderID:h}=Ht(),p;e[0]!==f?(p={collectionSlug:f},e[0]=f,e[1]=p):p=e[1];let[g,,b]=bt(p),{closeDrawer:C,openDrawer:v}=b,[x,y]=Zb.useState(),I;e[2]!==n||e[3]!==u?(I=()=>n.reduce((_,R)=>{let T=u.collections.find(S=>{let{slug:F}=S;return F===R});return T&&_.push(T),_},[]),e[2]=n,e[3]=u,e[4]=I):I=e[4];let[w]=Zb.useState(I);if(w.length===0)return null;let D;if(e[5]!==g||e[6]!==o||e[7]!==C||e[8]!==a||e[9]!==n||e[10]!==x||e[11]!==w||e[12]!==d.slug||e[13]!==m||e[14]!==h||e[15]!==l||e[16]!==i||e[17]!==r||e[18]!==v||e[19]!==c){let _;e[21]!==a||e[22]!==x||e[23]!==m||e[24]!==h||e[25]!==i||e[26]!==r?(_=x&&zi(Z1,{collectionSlug:x,drawerSlug:i,initialData:{[m]:h},onSave:async R=>{let{doc:T}=R;await r({collectionSlug:x,doc:T}),a(i)},redirectAfterCreate:!1}),e[21]=a,e[22]=x,e[23]=m,e[24]=h,e[25]=i,e[26]=r,e[27]=_):_=e[27],D=i8(Zb.Fragment,{children:[w.length===1?zi(te,{buttonStyle:"pill",className:`${Jb}__button`,el:"div",onClick:()=>{w[0].slug===d.slug?v():(y(w[0].slug),c(i))},size:"small",children:o}):zi(yt,{button:zi(te,{buttonStyle:"pill",className:`${Jb}__popup-button`,el:"div",icon:"chevron",size:"small",children:o}),buttonType:"default",className:`${Jb}__action-popup`,children:zi(_e.ButtonGroup,{children:w.map((R,T)=>zi(_e.Button,{onClick:()=>{R.slug===d.slug?v():(y(R.slug),c(i))},children:a8(R.labels.singular,l)},T))})}),_,n.includes(d.slug)&&zi(g,{initialData:{[m]:h},onSave:async R=>{await r({collectionSlug:d.slug,doc:R.doc}),C()},redirectAfterCreate:!1})]}),e[5]=g,e[6]=o,e[7]=C,e[8]=a,e[9]=n,e[10]=x,e[11]=w,e[12]=d.slug,e[13]=m,e[14]=h,e[15]=l,e[16]=i,e[17]=r,e[18]=v,e[19]=c,e[20]=D}else D=e[20];return D}import{jsx as L_,jsxs as l8}from"react/jsx-runtime";import c8 from"react";var k_="no-results";function il({Actions:t,Message:e}){return l8("div",{className:k_,children:[e,t&&t.length>0&&L_("div",{className:`${k_}__actions`,children:t.map((o,n)=>L_(c8.Fragment,{children:o},n))})]})}import{jsx as Zf}from"react/jsx-runtime";import"react";var j_=({elements:t,translationString:e})=>{let o=/(<[^>]+>.*?<\/[^>]+>)/g,n=e.split(o);return Zf("span",{children:n.map((r,s)=>{if(t&&r.startsWith("<")&&r.endsWith(">")){let i=r[1],l=t[i];if(l){let a=new RegExp(`<${i}>(.*?)</${i}>`,"g"),c=r.replace(a,(u,d)=>d);return Zf(l,{children:Zf(j_,{translationString:c})},s)}}return r})})},er=({elements:t,i18nKey:e,t:o,variables:n})=>{let r=o(e,n||{});return t?Zf(j_,{elements:t,translationString:r}):r};import{c as u8}from"react/compiler-runtime";import{jsx as qf,jsxs as d8}from"react/jsx-runtime";import{useDroppable as m8}from"@dnd-kit/core";import"react";var Jf="folderBreadcrumbs";function M_({breadcrumbs:t,className:e}){return qf("div",{className:`${Jf} ${e||""}`.trim(),children:t?.map((o,n)=>d8("div",{className:`${Jf}__crumb`,children:[o.onClick?qf(Hi,{className:`${Jf}__crumb-item`,id:o.id,onClick:o.onClick,children:o.name}):o.name,t.length>0&&n!==t.length-1&&qf(Ye,{className:`${Jf}__crumb-chevron`,direction:"right"})]},n))})}function Hi(t){let e=u8(13),{id:o,children:n,className:r,onClick:s}=t,i=`folder-${o}`,l;e[0]!==o?(l={id:o,type:"folder"},e[0]=o,e[1]=l):l=e[1];let a;e[2]!==i||e[3]!==l?(a={id:i,data:l},e[2]=i,e[3]=l,e[4]=a):a=e[4];let{isOver:c,setNodeRef:u}=m8(a),d=c&&"droppable-button--hover",f;e[5]!==r||e[6]!==d?(f=["droppable-button",r,d].filter(Boolean),e[5]=r,e[6]=d,e[7]=f):f=e[7];let m=f.join(" "),h;return e[8]!==n||e[9]!==s||e[10]!==u||e[11]!==m?(h=qf("button",{className:m,onClick:s,ref:u,type:"button",children:n}),e[8]=n,e[9]=s,e[10]=u,e[11]=m,e[12]=h):h=e[12],h}import{jsx as f8}from"react/jsx-runtime";function tr(){return f8(gu,{className:"colored-folder-icon"})}var Kf="move-folder-drawer",h8="move-folder-drawer",O_=`${h8}-confirm-move`;function al(t){return wt($t,{gutter:!1,Header:null,slug:t.drawerSlug,children:wt(g8,{...t})})}function g8(t){let{permissions:e}=Fe(),[o,n]=jr.useState([]),[r,s]=jr.useState([]),[i,l]=jr.useState([]),[a,c]=jr.useState(null),[u,d]=jr.useState(!1),[f,m]=jr.useState(t.fromFolderID||null),h=jr.useRef(!1),{getFolderResultsComponentAndData:p}=At(),g=jr.useCallback(async b=>{try{let C=await p({activeCollectionSlugs:[t.folderCollectionSlug],browseByFolder:!1,displayAs:"grid",folderID:b,sort:"_folderOrDocumentTitle"});l(C.breadcrumbs||[]),n(C?.subfolders||[]),s(C?.documents||[]),c(C.FolderResultsComponent||null),m(b),d(!0)}catch{l([]),n([]),s([])}h.current=!0},[p,t.folderCollectionSlug]);return jr.useEffect(()=>{h.current||g(t.fromFolderID)},[g,t.fromFolderID]),u?wt(Gi,{allCollectionFolderSlugs:[t.folderCollectionSlug],allowCreateCollectionSlugs:e.collections[t.folderCollectionSlug]?.create?[t.folderCollectionSlug]:[],allowMultiSelection:!1,breadcrumbs:i,documents:r,folderFieldName:t.folderFieldName,folderID:f,FolderResultsComponent:a,onItemClick:async b=>{await g(b.value.id)},subfolders:o,children:wt(b8,{...t,populateMoveToFolderDrawer:g})},f):wt(tn,{})}function b8(t){let e=Qb(76),o,n,r,s,i,l,a,c;e[0]!==t?({drawerSlug:o,fromFolderID:n,fromFolderName:r,itemsToMove:s,onConfirm:i,populateMoveToFolderDrawer:l,skipConfirmModal:c,...a}=t,e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=a,e[8]=c):(o=e[1],n=e[2],r=e[3],s=e[4],i=e[5],l=e[6],a=e[7],c=e[8]);let{clearRouteCache:u}=Jt(),{closeModal:d,isModalOpen:f,openModal:m}=le(),h;e[9]!==s?(h=()=>s.length,e[9]=s,e[10]=h):h=e[10];let[p]=jr.useState(h),[g,b]=jr.useState(!1),{i18n:C,t:v}=$(),{breadcrumbs:x,folderCollectionConfig:y,folderCollectionSlug:I,folderFieldName:w,folderID:D,FolderResultsComponent:_,getSelectedItems:R,subfolders:T}=Ht(),S;e[11]!==I?(S={collectionSlug:I},e[11]=I,e[12]=S):S=e[12];let[F,,A]=bt(S),{closeDrawer:P,openDrawer:E}=A,k;e[13]!==x||e[14]!==R?(k=()=>{let Q=R();if(Q.length===0){let Z=x?.[x.length-1];return{id:Z?.id||null,name:Z?.name||null}}else return{id:Q[0].value.id,name:Q[0].value._folderOrDocumentTitle}},e[13]=x,e[14]=R,e[15]=k):k=e[15];let M=k,N;e[16]!==I||e[17]!==D||e[18]!==n||e[19]!==l?(N=async Q=>{let{collectionSlug:Z,doc:X}=Q;await l(D),Z===I&&(X?.folder&&n===p8(X?.folder)||!n&&!X?.folder)&&b(!0)},e[16]=I,e[17]=D,e[18]=n,e[19]=l,e[20]=N):N=e[20];let L=N,O;e[21]!==M||e[22]!==i?(O=()=>{typeof i=="function"&&i(M())},e[21]=M,e[22]=i,e[23]=O):O=e[23];let j=O,B,V;e[24]!==u||e[25]!==o||e[26]!==g||e[27]!==f?(B=()=>{!f(o)&&g&&(b(!1),u())},V=[o,f,u,g],e[24]=u,e[25]=o,e[26]=g,e[27]=f,e[28]=B,e[29]=V):(B=e[28],V=e[29]),jr.useEffect(B,V);let G;e[30]!==d||e[31]!==o?(G=()=>{d(o)},e[30]=d,e[31]=o,e[32]=G):G=e[32];let z;e[33]!==j||e[34]!==m||e[35]!==c?(z=()=>{c?j():m(O_)},e[33]=j,e[34]=m,e[35]=c,e[36]=z):z=e[36];let Y;if(e[37]!==F||e[38]!==_||e[39]!==x||e[40]!==P||e[41]!==p||e[42]!==y||e[43]!==I||e[44]!==w||e[45]!==D||e[46]!==n||e[47]!==r||e[48]!==M||e[49]!==C||e[50]!==j||e[51]!==L||e[52]!==E||e[53]!==l||e[54]!==a.action||e[55]!==a.title||e[56]!==c||e[57]!==T.length||e[58]!==v||e[59]!==z||e[60]!==G){let Q;e[62]!==x.length||e[63]!==l?(Q=x.length?()=>{l(null)}:void 0,e[62]=x.length,e[63]=l,e[64]=Q):Q=e[64];let Z;e[65]!==x.length||e[66]!==l?(Z=(q,W)=>({id:q.id,name:q.name,onClick:W!==x.length-1?()=>{l(q.id)}:void 0}),e[65]=x.length,e[66]=l,e[67]=Z):Z=e[67];let X;e[68]!==_||e[69]!==y||e[70]!==I||e[71]!==C||e[72]!==L||e[73]!==T.length||e[74]!==v?(X=T.length>0?_:wt(il,{Actions:[wt(ln,{buttonLabel:`${v("general:create")} ${qb(y.labels?.singular,C).toLowerCase()}`,collectionSlugs:[I],onCreateSuccess:L,slugPrefix:"create-new-folder-from-drawer--no-results"},"create-folder")],Message:wt("p",{children:C.t("general:noResults",{label:`${qb(y.labels?.plural,C)}`})})}),e[68]=_,e[69]=y,e[70]=I,e[71]=C,e[72]=L,e[73]=T.length,e[74]=v,e[75]=X):X=e[75],Y=Qf(B_,{children:[wt($_,{onCancel:G,onSave:z,saveLabel:v("general:select"),title:wt(v8,{action:a.action,count:p,fromFolderName:n?r:void 0,title:a.action==="moveItemToFolder"?a.title:void 0})}),Qf("div",{className:`${Kf}__breadcrumbs-section`,children:[wt(M_,{breadcrumbs:[{id:null,name:Qf("span",{className:`${Kf}__folder-breadcrumbs-root`,children:[wt(tr,{}),v("folder:folders")]}),onClick:Q},...x.map(Z)]}),T.length>0&&Qf(B_,{children:[wt(te,{buttonStyle:"pill",className:`${Kf}__add-folder-button`,margin:!1,onClick:()=>{E()},children:v("fields:addLabel",{label:qb(y.labels?.singular,C)})}),wt(F,{initialData:{[w]:D},onSave:q=>{L({collectionSlug:y.slug,doc:q.doc}),P()},redirectAfterCreate:!1})]})]}),wt(Yb,{className:`${Kf}__body-section`,children:X}),!c&&wt(ht,{body:wt(C8,{action:a.action,count:p,fromFolderName:r,title:a.action==="moveItemToFolder"?a.title:void 0,toFolderName:M().name}),confirmingLabel:v("general:moving"),confirmLabel:v("general:move"),heading:v("general:confirmMove"),modalSlug:O_,onConfirm:j})]}),e[37]=F,e[38]=_,e[39]=x,e[40]=P,e[41]=p,e[42]=y,e[43]=I,e[44]=w,e[45]=D,e[46]=n,e[47]=r,e[48]=M,e[49]=C,e[50]=j,e[51]=L,e[52]=E,e[53]=l,e[54]=a.action,e[55]=a.title,e[56]=c,e[57]=T.length,e[58]=v,e[59]=z,e[60]=G,e[61]=Y}else Y=e[61];return Y}function v8(t){let e=Qb(14),{t:o}=$();switch(t.action){case"moveItemToFolder":if(t.fromFolderName){let n;return e[0]!==t.fromFolderName||e[1]!==t.title||e[2]!==o?(n=o("folder:movingFromFolder",{fromFolder:t.fromFolderName,title:t.title}),e[0]=t.fromFolderName,e[1]=t.title,e[2]=o,e[3]=n):n=e[3],n}else{let n;return e[4]!==t.title||e[5]!==o?(n=o("folder:selectFolderForItem",{title:t.title}),e[4]=t.title,e[5]=o,e[6]=n):n=e[6],n}case"moveItemsToFolder":if(t.fromFolderName){let n=`${t.count} ${t.count>1?o("general:items"):o("general:item")}`,r;return e[7]!==t.fromFolderName||e[8]!==o||e[9]!==n?(r=o("folder:movingFromFolder",{fromFolder:t.fromFolderName,title:n}),e[7]=t.fromFolderName,e[8]=o,e[9]=n,e[10]=r):r=e[10],r}else{let n=`${t.count} ${t.count>1?o("general:items"):o("general:item")}`,r;return e[11]!==o||e[12]!==n?(r=o("folder:selectFolderForItem",{title:n}),e[11]=o,e[12]=n,e[13]=r):r=e[13],r}}}function C8(t){let e=Qb(14),{t:o}=$();switch(t.action){case"moveItemToFolder":if(t.toFolderName){let n;return e[0]!==t.title||e[1]!==t.toFolderName||e[2]!==o?(n=wt(er,{elements:{1:_8,2:I8},i18nKey:"folder:moveItemToFolderConfirmation",t:o,variables:{title:t.title,toFolder:t.toFolderName}}),e[0]=t.title,e[1]=t.toFolderName,e[2]=o,e[3]=n):n=e[3],n}else{let n;return e[4]!==t.title||e[5]!==o?(n=wt(er,{elements:{1:S8},i18nKey:"folder:moveItemToRootConfirmation",t:o,variables:{title:t.title}}),e[4]=t.title,e[5]=o,e[6]=n):n=e[6],n}case"moveItemsToFolder":if(t.toFolderName){let n;return e[7]!==t.count||e[8]!==t.toFolderName||e[9]!==o?(n=wt(er,{elements:{1:w8,2:y8},i18nKey:"folder:moveItemsToFolderConfirmation",t:o,variables:{count:t.count,label:t.count>1?o("general:items"):o("general:item"),toFolder:t.toFolderName}}),e[7]=t.count,e[8]=t.toFolderName,e[9]=o,e[10]=n):n=e[10],n}else{let n;return e[11]!==t.count||e[12]!==o?(n=wt(er,{elements:{1:x8},i18nKey:"folder:moveItemsToRootConfirmation",t:o,variables:{count:t.count,label:t.count>1?o("general:items"):o("general:item")}}),e[11]=t.count,e[12]=o,e[13]=n):n=e[13],n}}}function x8(t){let{children:e}=t;return wt("strong",{children:e})}function y8(t){let{children:e}=t;return wt("strong",{children:e})}function w8(t){let{children:e}=t;return wt("strong",{children:e})}function S8(t){let{children:e}=t;return wt("strong",{children:e})}function I8(t){let{children:e}=t;return wt("strong",{children:e})}function _8(t){let{children:e}=t;return wt("strong",{children:e})}var A8="move-doc-to-folder";function bu(t){let e=G_(29),{buttonProps:o,className:n,folderCollectionSlug:r,folderFieldName:s}=t,i=n===void 0?"":n,{t:l}=$(),a=Rt(E8),c;e[0]!==s?(c=S=>{let[F]=S;return F&&F?.[s]||null},e[0]=s,e[1]=c):c=e[1];let u=Rt(c),d=u?.value,{id:f,collectionSlug:m,initialData:h,title:p}=Pe(),{setModified:g}=Be(),b;e[2]!==l?(b=()=>`${l("general:loading")}...`,e[2]=l,e[3]=b):b=e[3];let[C,v]=V_.useState(b),{config:x}=H(),y=R8(),I,w;e[4]!==x.routes.api||e[5]!==r||e[6]!==d||e[7]!==l?(I=()=>{(async function(){if(d&&(typeof d=="string"||typeof d=="number")){let P=await(await fetch(`${x.routes.api}/${r}/${d}`)).json();v(P?.name||l("folder:noFolder"))}else v(l("folder:noFolder"))})()},w=[r,x.routes.api,d,l],e[4]=x.routes.api,e[5]=r,e[6]=d,e[7]=l,e[8]=I,e[9]=w):(I=e[8],w=e[9]),V_.useEffect(I,w);let D=`move-to-folder-${y}`,_;e[10]!==u||e[11]!==a||e[12]!==s||e[13]!==g?(_=S=>{let{id:F}=S;u.value!==F&&(a({type:"UPDATE",path:s,value:F}),g(!0))},e[10]=u,e[11]=a,e[12]=s,e[13]=g,e[14]=_):_=e[14];let R=!u?.value,T;return e[15]!==o||e[16]!==i||e[17]!==m||e[18]!==r||e[19]!==s||e[20]!==d||e[21]!==C||e[22]!==f||e[23]!==h||e[24]!==D||e[25]!==_||e[26]!==R||e[27]!==p?(T=ep(z_,{buttonProps:o,className:i,collectionSlug:m,docData:h,docID:f,docTitle:p,folderCollectionSlug:r,folderFieldName:s,fromFolderID:d,fromFolderName:C,modalSlug:D,onConfirm:_,skipConfirmModal:R}),e[15]=o,e[16]=i,e[17]=m,e[18]=r,e[19]=s,e[20]=d,e[21]=C,e[22]=f,e[23]=h,e[24]=D,e[25]=_,e[26]=R,e[27]=p,e[28]=T):T=e[28],T}function E8(t){let[,e]=t;return e}var z_=t=>{let e=G_(27),{buttonProps:o,className:n,collectionSlug:r,docData:s,docID:i,docTitle:l,folderCollectionSlug:a,folderFieldName:c,fromFolderID:u,fromFolderName:d,modalSlug:f,onConfirm:m,skipConfirmModal:h}=t,{getEntityConfig:p}=H(),{i18n:g,t:b}=$(),{closeModal:C,openModal:v}=le(),x=Tr(),y;if(e[0]!==o||e[1]!==n||e[2]!==C||e[3]!==r||e[4]!==s||e[5]!==i||e[6]!==l||e[7]!==x||e[8]!==a||e[9]!==c||e[10]!==u||e[11]!==d||e[12]!==p||e[13]!==g||e[14]!==f||e[15]!==m||e[16]!==v||e[17]!==h||e[18]!==b){let I=Ql({slug:f,depth:x}),w;e[20]!==r||e[21]!==l||e[22]!==p||e[23]!==g?(w=l||T8(p({collectionSlug:r}).labels.singular,g),e[20]=r,e[21]=l,e[22]=p,e[23]=g,e[24]=w):w=e[24];let D=w,_;e[25]!==n?(_=[A8,n].filter(Boolean),e[25]=n,e[26]=_):_=e[26],y=D8(F8,{children:[ep(te,{buttonStyle:"subtle",className:_.join(" "),icon:ep(gu,{}),iconPosition:"left",onClick:()=>{v(I)},...o,children:d}),ep(al,{action:"moveItemToFolder",drawerSlug:I,folderCollectionSlug:a,folderFieldName:c,fromFolderID:u,fromFolderName:d,itemsToMove:[{itemKey:`${r}-${i}`,relationTo:r,value:{...s,id:i}}],onConfirm:async R=>{if(u!==R.id&&typeof m=="function")try{await m(R),R.id?ue.success(b("folder:itemHasBeenMoved",{folderName:`"${R.name}"`,title:D})):ue.success(b("folder:itemHasBeenMovedToRoot",{title:D}))}catch(T){let S=T}C(I)},skipConfirmModal:h,title:D})]}),e[0]=o,e[1]=n,e[2]=C,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=x,e[8]=a,e[9]=c,e[10]=u,e[11]=d,e[12]=p,e[13]=g,e[14]=f,e[15]=m,e[16]=v,e[17]=h,e[18]=b,e[19]=y}else y=e[19];return y};import{c as aD}from"react/compiler-runtime";import{jsx as _t,jsxs as Br}from"react/jsx-runtime";import{isImage as lD}from"payload/shared";import Du,{Fragment as z8,useCallback as Su,useEffect as Iu,useRef as iD,useState as _u}from"react";import{jsx as kt,jsxs as Go}from"react/jsx-runtime";import rp,{useRef as dl,useState as Vs}from"react";import qt,{PureComponent as P8,createRef as H_}from"react";var tp={x:0,y:0,width:0,height:0,unit:"px"},ll=(t,e,o)=>Math.min(Math.max(t,e),o),N8=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),W_=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function cl(t,e,o){return t.unit==="%"?{...tp,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/o*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/o*100:0}}function Bs(t,e,o){return t.unit?t.unit==="px"?{...tp,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*o/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*o/100:0}:{...tp,...t,unit:"px"}}function U_(t,e,o,n,r,s=0,i=0,l=n,a=r){let c={...t},u=Math.min(s,n),d=Math.min(i,r),f=Math.min(l,n),m=Math.min(a,r);e&&(e>1?(u=i?i*e:u,d=u/e,f=l*e):(d=s?s/e:d,u=d*e,m=a/e)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);let h=n-(c.x+c.width);h<0&&(c.x=Math.min(c.x,n-u),c.width+=h);let p=r-(c.y+c.height);if(p<0&&(c.y=Math.min(c.y,r-d),c.height+=p),c.width<u&&((o==="sw"||o=="nw")&&(c.x-=u-c.width),c.width=u),c.height<d&&((o==="nw"||o=="ne")&&(c.y-=d-c.height),c.height=d),c.width>f&&((o==="sw"||o=="nw")&&(c.x-=f-c.width),c.width=f),c.height>m&&((o==="nw"||o=="ne")&&(c.y-=m-c.height),c.height=m),e){let g=c.width/c.height;if(g<e){let b=Math.max(c.width/e,d);(o==="nw"||o=="ne")&&(c.y-=b-c.height),c.height=b}else if(g>e){let b=Math.max(c.height*e,u);(o==="sw"||o=="nw")&&(c.x-=b-c.width),c.width=b}}return c}function $8(t,e,o,n){let r={...t};return e==="ArrowLeft"?n==="nw"?(r.x-=o,r.y-=o,r.width+=o,r.height+=o):n==="w"?(r.x-=o,r.width+=o):n==="sw"?(r.x-=o,r.width+=o,r.height+=o):n==="ne"?(r.y+=o,r.width-=o,r.height-=o):n==="e"?r.width-=o:n==="se"&&(r.width-=o,r.height-=o):e==="ArrowRight"&&(n==="nw"?(r.x+=o,r.y+=o,r.width-=o,r.height-=o):n==="w"?(r.x+=o,r.width-=o):n==="sw"?(r.x+=o,r.width-=o,r.height-=o):n==="ne"?(r.y-=o,r.width+=o,r.height+=o):n==="e"?r.width+=o:n==="se"&&(r.width+=o,r.height+=o)),e==="ArrowUp"?n==="nw"?(r.x-=o,r.y-=o,r.width+=o,r.height+=o):n==="n"?(r.y-=o,r.height+=o):n==="ne"?(r.y-=o,r.width+=o,r.height+=o):n==="sw"?(r.x+=o,r.width-=o,r.height-=o):n==="s"?r.height-=o:n==="se"&&(r.width-=o,r.height-=o):e==="ArrowDown"&&(n==="nw"?(r.x+=o,r.y+=o,r.width-=o,r.height-=o):n==="n"?(r.y+=o,r.height-=o):n==="ne"?(r.y+=o,r.width-=o,r.height-=o):n==="sw"?(r.x-=o,r.width+=o,r.height+=o):n==="s"?r.height+=o:n==="se"&&(r.width+=o,r.height+=o)),r}var ul={capture:!0,passive:!1},Os=class cn extends P8{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=H_(),this.mediaRef=H_(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:o,disabled:n}=this.props,r=this.getBox();if(!o)return;let s=Bs(o,r.width,r.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.target.dataset.ord,l=!!i,a=e.clientX,c=e.clientY,u=s.x,d=s.y;if(i){let f=e.clientX-r.x,m=e.clientY-r.y,h=0,p=0;i==="ne"||i=="e"?(h=f-(s.x+s.width),p=m-s.y,u=s.x,d=s.y+s.height):i==="se"||i==="s"?(h=f-(s.x+s.width),p=m-(s.y+s.height),u=s.x,d=s.y):i==="sw"||i=="w"?(h=f-s.x,p=m-(s.y+s.height),u=s.x+s.width,d=s.y):(i==="nw"||i=="n")&&(h=f-s.x,p=m-s.y,u=s.x+s.width,d=s.y+s.height),a=u+r.x+h,c=d+r.y+p}this.evData={startClientX:a,startClientY:c,startCropX:u,startCropY:d,clientX:e.clientX,clientY:e.clientY,isResize:l,ord:i},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:o,disabled:n,locked:r,keepSelection:s,onChange:i}=this.props,l=this.getBox();if(n||r||s&&o)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let a=e.clientX-l.x,c=e.clientY-l.y,u={unit:"px",x:a,y:c,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:a,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,i(Bs(u,l.width,l.height),cl(u,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let{crop:o,disabled:n,onChange:r,onDragStart:s}=this.props,i=this.getBox();if(n||!o||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,s&&s(e));let{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY;let a;l.isResize?a=this.resizeCrop():a=this.dragCrop(),W_(o,a)||r(Bs(a,i.width,i.height),cl(a,i.width,i.height))},this.onComponentKeyDown=e=>{let{crop:o,disabled:n,onChange:r,onComplete:s}=this.props;if(n)return;let i=e.key,l=!1;if(!o)return;let a=this.getBox(),c=this.makePixelCrop(a),u=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?cn.nudgeStepLarge:e.shiftKey?cn.nudgeStepMedium:cn.nudgeStep;if(i==="ArrowLeft"?(c.x-=u,l=!0):i==="ArrowRight"?(c.x+=u,l=!0):i==="ArrowUp"?(c.y-=u,l=!0):i==="ArrowDown"&&(c.y+=u,l=!0),l){e.cancelable&&e.preventDefault(),c.x=ll(c.x,0,a.width-c.width),c.y=ll(c.y,0,a.height-c.height);let d=Bs(c,a.width,a.height),f=cl(c,a.width,a.height);r(d,f),s&&s(d,f)}},this.onHandlerKeyDown=(e,o)=>{let{aspect:n=0,crop:r,disabled:s,minWidth:i=0,minHeight:l=0,maxWidth:a,maxHeight:c,onChange:u,onComplete:d}=this.props,f=this.getBox();if(s||!r)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;let m=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?cn.nudgeStepLarge:e.shiftKey?cn.nudgeStepMedium:cn.nudgeStep,h=Bs(r,f.width,f.height),p=$8(h,e.key,m,o),g=U_(p,n,o,f.width,f.height,i,l,a,c);if(!W_(r,g)){let b=cl(g,f.width,f.height);u(g,b),d&&d(g,b)}},this.onDocPointerDone=e=>{let{crop:o,disabled:n,onComplete:r,onDragEnd:s}=this.props,i=this.getBox();this.unbindDocMove(),!(n||!o)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,s&&s(e),r&&r(Bs(o,i.width,i.height),cl(o,i.width,i.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var o;(o=this.componentRef.current)==null||o.scrollTo(0,0)}}get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:o,y:n,width:r,height:s}=e.getBoundingClientRect();return{x:o,y:n,width:r,height:s}}componentDidUpdate(e){let{crop:o,onComplete:n}=this.props;if(n&&!e.crop&&o){let{width:r,height:s}=this.getBox();r&&s&&n(Bs(o,r,s),cl(o,r,s))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,ul),this.document.addEventListener("pointerup",this.onDocPointerDone,ul),this.document.addEventListener("pointercancel",this.onDocPointerDone,ul),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,ul),this.document.removeEventListener("pointerup",this.onDocPointerDone,ul),this.document.removeEventListener("pointercancel",this.onDocPointerDone,ul),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){let{evData:e}=this,o=this.getBox(),n=this.makePixelCrop(o),r=e.clientX-e.startClientX,s=e.clientY-e.startClientY;return n.x=ll(e.startCropX+r,0,o.width-n.width),n.y=ll(e.startCropY+s,0,o.height-n.height),n}getPointRegion(e,o,n,r){let{evData:s}=this,i=s.clientX-e.x,l=s.clientY-e.y,a;r&&o?a=o==="nw"||o==="n"||o==="ne":a=l<s.startCropY;let c;return n&&o?c=o==="nw"||o==="w"||o==="sw":c=i<s.startCropX,c?a?"nw":"sw":a?"ne":"se"}resolveMinDimensions(e,o,n=0,r=0){let s=Math.min(n,e.width),i=Math.min(r,e.height);return!o||!s&&!i?[s,i]:o>1?s?[s,s/o]:[i*o,i]:i?[i*o,i]:[s,s/o]}resizeCrop(){let{evData:e}=this,{aspect:o=0,maxWidth:n,maxHeight:r}=this.props,s=this.getBox(),[i,l]=this.resolveMinDimensions(s,o,this.props.minWidth,this.props.minHeight),a=this.makePixelCrop(s),c=this.getPointRegion(s,e.ord,i,l),u=e.ord||c,d=e.clientX-e.startClientX,f=e.clientY-e.startClientY;(i&&u==="nw"||u==="w"||u==="sw")&&(d=Math.min(d,-i)),(l&&u==="nw"||u==="n"||u==="ne")&&(f=Math.min(f,-l));let m={unit:"px",x:0,y:0,width:0,height:0};c==="ne"?(m.x=e.startCropX,m.width=d,o?(m.height=m.width/o,m.y=e.startCropY-m.height):(m.height=Math.abs(f),m.y=e.startCropY-m.height)):c==="se"?(m.x=e.startCropX,m.y=e.startCropY,m.width=d,o?m.height=m.width/o:m.height=f):c==="sw"?(m.x=e.startCropX+d,m.y=e.startCropY,m.width=Math.abs(d),o?m.height=m.width/o:m.height=f):c==="nw"&&(m.x=e.startCropX+d,m.width=Math.abs(d),o?(m.height=m.width/o,m.y=e.startCropY-m.height):(m.height=Math.abs(f),m.y=e.startCropY+f));let h=U_(m,o,c,s.width,s.height,i,l,n,r);return o||cn.xyOrds.indexOf(u)>-1?a=h:cn.xOrds.indexOf(u)>-1?(a.x=h.x,a.width=h.width):cn.yOrds.indexOf(u)>-1&&(a.y=h.y,a.height=h.height),a.x=ll(a.x,0,s.width-a.width),a.y=ll(a.y,0,s.height-a.height),a}createCropSelection(){let{ariaLabels:e=cn.defaultProps.ariaLabels,disabled:o,locked:n,renderSelectionAddon:r,ruleOfThirds:s,crop:i}=this.props,l=this.getCropStyle();if(i)return qt.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!o&&!n&&qt.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},qt.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),qt.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),qt.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),qt.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),qt.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"nw"),role:"button"}),qt.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"n"),role:"button"}),qt.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"ne"),role:"button"}),qt.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"e"),role:"button"}),qt.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"se"),role:"button"}),qt.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"s"),role:"button"}),qt.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"sw"),role:"button"}),qt.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"w"),role:"button"})),r&&qt.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:a=>a.stopPropagation()},r(this.state)),s&&qt.createElement(qt.Fragment,null,qt.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),qt.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){let o={...tp,...this.props.crop||{}};return Bs(o,e.width,e.height)}render(){let{aspect:e,children:o,circularCrop:n,className:r,crop:s,disabled:i,locked:l,style:a,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,f=s?this.createCropSelection():null,m=N8("ReactCrop",r,u&&"ReactCrop--active",i&&"ReactCrop--disabled",l&&"ReactCrop--locked",d&&"ReactCrop--new-crop",s&&e&&"ReactCrop--fixed-aspect",s&&n&&"ReactCrop--circular-crop",s&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&s&&!s.width&&!s.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return qt.createElement("div",{ref:this.componentRef,className:m,style:a},qt.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},o),f)}};Os.xOrds=["e","w"];Os.yOrds=["n","s"];Os.xyOrds=["nw","ne","se","sw"];Os.nudgeStep=1;Os.nudgeStepMedium=10;Os.nudgeStepLarge=100;Os.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var X_=Os;import"react-image-crop/dist/ReactCrop.css";var It="edit-upload",op=t=>{let{name:e,onChange:o,ref:n,value:r}=t;return Go("div",{className:`${It}__input`,children:[e,kt("input",{name:e,onChange:s=>o(s.target.value),ref:n,type:"number",value:r})]})},L8={height:100,unit:"%",width:100,x:0,y:0},Kb=({fileName:t,fileSrc:e,imageCacheTag:o,initialCrop:n,initialFocalPoint:r,onSave:s,showCrop:i,showFocalPoint:l})=>{let{closeModal:a}=le(),{t:c}=$(),[u,d]=Vs(()=>({...L8,...n||{}})),f={x:50,y:50},[m,h]=Vs(()=>({...f,...r})),[p,g]=Vs(!1),[b,C]=Vs(0),[v,x]=Vs(0),y=dl(void 0),I=dl(void 0),w=dl(void 0),D=dl(null),_=dl(null),[R,T]=Vs(!1),S=N=>{C(N.currentTarget.naturalHeight),x(N.currentTarget.naturalWidth),T(!0)},F=({dimension:N,value:L})=>{let O=parseInt(L);if(N==="width"&&O>=v||N==="height"&&O>=b)return null;let j=100*(O/(N==="width"?v:b));if(j===100||j===0)return null;d({...u,[N]:j})},A=({coordinate:N,value:L})=>{let O=parseInt(L);O>=0&&O<=100&&h(j=>({...j,[N]:O}))},P=()=>{typeof s=="function"&&s({crop:u||void 0,focalPoint:m,heightInPixels:Number(D?.current?.value??b),widthInPixels:Number(_?.current?.value??v)}),a(vu)},E=rp.useCallback(({x:N,y:L})=>{h({x:N,y:L}),g(!1)},[]),k=()=>{let N=y.current.getBoundingClientRect(),L=i?w.current.getBoundingClientRect():I.current.getBoundingClientRect(),O=(L.left-N.left+L.width/2)/N.width*100,j=(L.top-N.top+L.height/2)/N.height*100;h({x:O,y:j})},M=o?`${e}?${encodeURIComponent(o)}`:e;return Go("div",{className:It,children:[Go("div",{className:`${It}__header`,children:[Go("h2",{title:`${c("general:editing")} ${t}`,children:[c("general:editing")," ",t]}),Go("div",{className:`${It}__actions`,children:[kt(te,{"aria-label":c("general:cancel"),buttonStyle:"secondary",className:`${It}__cancel`,onClick:()=>a(vu),children:c("general:cancel")}),kt(te,{"aria-label":c("general:applyChanges"),buttonStyle:"primary",className:`${It}__save`,disabled:!R,onClick:P,children:c("general:applyChanges")})]})]}),Go("div",{className:`${It}__toolWrap`,children:[kt("div",{className:`${It}__crop`,children:Go("div",{className:`${It}__focal-wrapper`,ref:y,style:{aspectRatio:`${v/b}`},children:[i?kt(X_,{className:`${It}__reactCrop`,crop:u,onChange:(N,L)=>d(L),onComplete:()=>g(!0),renderSelectionAddon:()=>kt("div",{className:`${It}__crop-window`,ref:w}),children:kt("img",{alt:c("upload:setCropArea"),onLoad:S,ref:I,src:M})}):kt("img",{alt:c("upload:setFocalPoint"),onLoad:S,ref:I,src:M}),l&&kt(k8,{boundsRef:i?w:I,checkBounds:i?p:!1,className:`${It}__focalPoint`,containerRef:y,initialPosition:m,onDragEnd:E,setCheckBounds:i?g:!1,children:kt(Yo,{})})]})}),(i||l)&&Go("div",{className:`${It}__sidebar`,children:[i&&Go("div",{className:`${It}__groupWrap`,children:[kt("div",{children:Go("div",{className:`${It}__titleWrap`,children:[kt("h3",{children:c("upload:crop")}),kt(te,{buttonStyle:"none",className:`${It}__reset`,onClick:()=>d({height:100,unit:"%",width:100,x:0,y:0}),children:c("general:reset")})]})}),kt("span",{className:`${It}__description`,children:c("upload:cropToolDescription")}),Go("div",{className:`${It}__inputsWrap`,children:[kt(op,{name:`${c("upload:width")} (px)`,onChange:N=>F({dimension:"width",value:N}),ref:_,value:(u.width/100*v).toFixed(0)}),kt(op,{name:`${c("upload:height")} (px)`,onChange:N=>F({dimension:"height",value:N}),ref:D,value:(u.height/100*b).toFixed(0)})]})]}),l&&Go("div",{className:`${It}__groupWrap`,children:[kt("div",{children:Go("div",{className:`${It}__titleWrap`,children:[kt("h3",{children:c("upload:focalPoint")}),kt(te,{buttonStyle:"none",className:`${It}__reset`,onClick:k,children:c("general:reset")})]})}),kt("span",{className:`${It}__description`,children:c("upload:focalPointDescription")}),Go("div",{className:`${It}__inputsWrap`,children:[kt(op,{name:"X %",onChange:N=>A({coordinate:"x",value:N}),value:m.x.toFixed(0)}),kt(op,{name:"Y %",onChange:N=>A({coordinate:"y",value:N}),value:m.y.toFixed(0)})]})]})]})]})]})},k8=({boundsRef:t,checkBounds:e,children:o,className:n,containerRef:r,initialPosition:s={x:50,y:50},onDragEnd:i,setCheckBounds:l})=>{let[a,c]=Vs({x:s.x,y:s.y}),[u,d]=Vs(!1),f=dl(void 0),m=rp.useCallback((b,C,v)=>{let x=r.current.getBoundingClientRect(),y=t.current.getBoundingClientRect(),I=b??y.left,w=C??y.top,D=I<y.left||I>y.right,_=w<y.top||w>y.bottom,R=(I-x.left)/x.width*100,T=(w-x.top)/x.height*100,S=(y.left-x.left+y.width/2)/x.width*100,F=(y.top-x.top+y.height/2)/x.height*100;return(D||_)&&(d(!1),I<y.left?R=(y.left-x.left)/x.width*100:I>y.right&&(R=(x.width-(x.right-y.right))/x.width*100),w<y.top?T=(y.top-x.top)/x.height*100:w>y.bottom&&(T=(x.height-(x.bottom-y.bottom))/x.height*100),v&&(R=D?S:R,T=_?F:T)),{x:R,y:T}},[t,r]),h=b=>{b.preventDefault(),d(!0)},p=b=>{if(!u)return null;let{x:C,y:v}=m(b.clientX,b.clientY);c({x:C,y:v})},g=()=>{d(!1),i(a)};return rp.useEffect(()=>{if(!(u||!f.current)&&e){let{height:b,left:C,top:v,width:x}=f.current.getBoundingClientRect(),{x:y,y:I}=m(C+x/2,v+b/2,!0);i({x:y,y:I}),c({x:y,y:I}),l(!1);return}},[m,u,e,l,a.x,a.y,i]),rp.useEffect(()=>{c({x:s.x,y:s.y})},[s.x,s.y]),Go("div",{className:[`${It}__draggable-container`,u&&`${It}__draggable-container--dragging`].filter(Boolean).join(" "),onMouseMove:p,children:[kt("button",{className:[`${It}__draggable`,n].filter(Boolean).join(" "),onMouseDown:h,onMouseUp:g,ref:f,style:{left:`${a.x}%`,top:`${a.y}%`},type:"button",children:o}),kt("div",{})]})};import{jsx as oD}from"react/jsx-runtime";import"react";import{c as j8}from"react/compiler-runtime";import{jsx as qn,jsxs as ev}from"react/jsx-runtime";import"react";var Gs="file-details-draggable",Y_=t=>{let e=j8(20),{collectionSlug:o,doc:n,hideRemoveFile:r,imageCacheTag:s,isSortable:i,removeItem:l,rowIndex:a,uploadConfig:c}=t,{id:u,filename:d,thumbnailURL:f,url:m}=n,h;e[0]!==o||e[1]!==u?(h={id:u,collectionSlug:o},e[0]=o,e[1]=u,e[2]=h):h=e[2];let[p,g]=bt(h),b;e[3]!==p||e[4]!==g||e[5]!==o||e[6]!==n||e[7]!==d||e[8]!==r||e[9]!==s||e[10]!==i||e[11]!==l||e[12]!==a||e[13]!==f||e[14]!==c||e[15]!==m?(b=v=>ev("div",{className:[Gs,v&&i&&`${Gs}--has-drag-handle`].filter(Boolean).join(" "),ref:v.setNodeRef,style:{transform:v.transform,transition:v.transition,zIndex:v.isDragging?1:void 0},children:[ev("div",{className:`${Gs}--drag-wrapper`,children:[i&&v&&qn("div",{className:`${Gs}__drag`,...v.attributes,...v.listeners,children:qn(Vn,{})}),qn(gr,{className:`${Gs}__thumbnail`,collectionSlug:o,doc:n,fileSrc:f||m,imageCacheTag:s,uploadConfig:c})]}),qn("div",{className:`${Gs}__main-detail`,children:d}),ev("div",{className:`${Gs}__actions`,children:[qn(p,{}),qn(g,{children:qn(Wr,{})}),!r&&l&&qn(te,{buttonStyle:"icon-label",className:`${Gs}__remove`,icon:"x",iconStyle:"none",onClick:()=>l(a),round:!0})]})]}),e[3]=p,e[4]=g,e[5]=o,e[6]=n,e[7]=d,e[8]=r,e[9]=s,e[10]=i,e[11]=l,e[12]=a,e[13]=f,e[14]=c,e[15]=m,e[16]=b):b=e[16];let C;return e[17]!==u||e[18]!==b?(C=qn(pn,{id:u,children:b},u),e[17]=u,e[18]=b,e[19]=C):C=e[19],C};import{jsx as wu,jsxs as eD}from"react/jsx-runtime";import"react";import{jsx as Q_,jsxs as xu}from"react/jsx-runtime";import{formatFilesize as O8}from"payload/shared";import K_ from"react";import{jsx as Z_,jsxs as J_}from"react/jsx-runtime";import{useRef as M8,useState as q_}from"react";var B8="copy-to-clipboard",Cu=({defaultMessage:t,successMessage:e,value:o})=>{let n=M8(null),[r,s]=q_(!1),[i,l]=q_(!1),{t:a}=$();return o?J_("button",{className:B8,onClick:()=>{n&&n.current&&(n.current.select(),n.current.setSelectionRange(0,o.length+1),document.execCommand("copy"),s(!0))},onMouseEnter:()=>{l(!0),s(!1)},onMouseLeave:()=>{l(!1),s(!1)},type:"button",children:[Z_(uc,{}),J_(Io,{delay:r?0:void 0,show:i||r,children:[r&&(e??a("general:copied")),!r&&(t??a("general:copy"))]}),Z_("textarea",{readOnly:!0,ref:n,tabIndex:-1,value:o})]}):null};var tv="file-meta",yu=t=>{let{filename:e,filesize:o,height:n,mimeType:r,url:s,width:i}=t;return xu("div",{className:tv,children:[xu("div",{className:`${tv}__url`,children:[Q_("a",{href:s,rel:"noopener noreferrer",target:"_blank",children:e}),Q_(Cu,{defaultMessage:"Copy URL",value:s})]}),xu("div",{className:`${tv}__size-type`,children:[O8(o),typeof i=="number"&&typeof n=="number"&&xu(K_.Fragment,{children:["\xA0-\xA0",i,"x",n]}),r&&xu(K_.Fragment,{children:["\xA0-\xA0",r]})]})]})};var np="file-details",tD=t=>{let{customUploadActions:e,doc:o,enableAdjustments:n,handleRemove:r,hasImageSizes:s,hideRemoveFile:i,imageCacheTag:l,uploadConfig:a}=t,{filename:c,filesize:u,height:d,mimeType:f,thumbnailURL:m,url:h,width:p}=o,g=a.displayPreview??!0;return wu("div",{className:np,children:eD("header",{children:[g&&wu(gr,{className:`${np}__thumbnail`,doc:o,fileSrc:m||h,imageCacheTag:l,uploadConfig:a}),eD("div",{className:`${np}__main-detail`,children:[wu(yu,{filename:c,filesize:u,height:d,mimeType:f,url:h,width:p}),(n||e)&&wu(ov,{customActions:e,enableAdjustments:!!n,enablePreviewSizes:s&&o.filename,mimeType:f})]}),!i&&r&&wu(te,{buttonStyle:"icon-label",className:`${np}__remove`,icon:"x",iconStyle:"with-border",onClick:r,round:!0})]})})};var rv=t=>{let{hasMany:e}=t;return e?oD(Y_,{...t}):oD(tD,{...t})};import{jsx as xn,jsxs as ml}from"react/jsx-runtime";import{useEffect as V8,useMemo as G8,useState as rD}from"react";var Mr="preview-sizes",nD=(t,e)=>{if(!e||e.length===0)return t;let o={};return e.forEach(({name:n})=>{t[n]&&(o[n]=t[n])}),o},sD=({name:t,active:e,meta:o,onClick:n,previewSrc:r})=>ml("div",{className:[`${Mr}__sizeOption`,e&&`${Mr}--selected`].filter(Boolean).join(" "),onClick:typeof n=="function"?n:void 0,onKeyDown:s=>{typeof n=="function"&&s.key==="Enter"&&n()},role:"button",tabIndex:0,children:[xn("div",{className:`${Mr}__image`,children:xn("img",{alt:o.filename,src:r})}),ml("div",{className:`${Mr}__sizeMeta`,children:[xn("div",{className:`${Mr}__sizeName`,children:t}),xn(yu,{...o})]})]}),nv=({doc:t,imageCacheTag:e,uploadConfig:o})=>{let{imageSizes:n}=o,{sizes:r}=t,[s,i]=rD(()=>nD(r,n)),[l,a]=rD(null),c=m=>{if(!m.filename)return null;if(m.url)return`${m.url}${e?`?${encodeURIComponent(e)}`:""}`};V8(()=>{i(nD(r,n))},[r,n,e]);let u=c(l?t.sizes[l]:t),d=G8(()=>({filename:t.filename,filesize:t.filesize,height:t.height,mimeType:t.mimeType,url:t.url,width:t.width}),[t]),f="Original";return ml("div",{className:Mr,children:[ml("div",{className:`${Mr}__imageWrap`,children:[ml("div",{className:`${Mr}__meta`,children:[xn("div",{className:`${Mr}__sizeName`,children:l||f}),xn(yu,{...l?s[l]:d})]}),xn("img",{alt:t.filename,className:`${Mr}__preview`,src:u})]}),xn("div",{className:`${Mr}__listWrap`,children:ml("div",{className:`${Mr}__list`,children:[xn(sD,{active:!l,meta:d,name:f,onClick:()=>a(null),previewSrc:c(t)}),Object.entries(s).map(([m,h])=>{let p=l===m,g=c(h);return g?xn(sD,{active:p,meta:h,name:m,onClick:()=>a(m),previewSrc:g},m):null})]})})]})};var so="file-field",vu="edit-upload",cD="preview-sizes",H8=t=>!t&&t!==void 0?"A file is required.":!0,ov=t=>{let e=aD(10),{customActions:o,enableAdjustments:n,enablePreviewSizes:r,mimeType:s}=t,{t:i}=$(),{openModal:l}=le(),a,c;if(e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==l||e[5]!==i){c=Symbol.for("react.early_return_sentinel");e:{let u=lD(s)&&s!=="image/svg+xml"&&s!=="image/jxl";if(!u&&(!o||o.length===0)){c=null;break e}let d;e[8]!==o?(d=o&&o.map(W8),e[8]=o,e[9]=d):d=e[9],a=Br("div",{className:`${so}__upload-actions`,children:[u&&Br(Du.Fragment,{children:[r&&_t(te,{buttonStyle:"pill",className:`${so}__previewSizes`,margin:!1,onClick:()=>{l(cD)},size:"small",children:i("upload:previewSizes")}),n&&_t(te,{buttonStyle:"pill",className:`${so}__edit`,margin:!1,onClick:()=>{l(vu)},size:"small",children:i("upload:editImage")})]}),d]})}e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=l,e[5]=i,e[6]=a,e[7]=c}else a=e[6],c=e[7];return c!==Symbol.for("react.early_return_sentinel")?c:a},sv=t=>{let e=aD(5),{resetUploadEdits:o,updateUploadEdits:n,uploadEdits:r}=hi(),s;return e[0]!==t||e[1]!==o||e[2]!==n||e[3]!==r?(s=_t(tl,{children:_t(iv,{...t,resetUploadEdits:o,updateUploadEdits:n,uploadEdits:r})}),e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s):s=e[4],s},iv=t=>{let{collectionSlug:e,customActions:o,initialState:n,onChange:r,resetUploadEdits:s,updateUploadEdits:i,uploadConfig:l,UploadControls:a,uploadEdits:c}=t,{setUploadControlFile:u,setUploadControlFileName:d,setUploadControlFileUrl:f,uploadControlFile:m,uploadControlFileName:h,uploadControlFileUrl:p}=Ob(),{config:{routes:{api:g},serverURL:b}}=H(),{t:C}=$(),{setModified:v}=Be(),{id:x,docPermissions:y,savedDocumentData:I,setUploadStatus:w}=Pe(),D=Dr(),{errorMessage:_,setValue:R,showError:T,value:S}=$e({path:"file",validate:H8}),[F,A]=_u(null),[P,E]=_u(!1),[k,M]=_u(S?.name||""),[N,L]=_u(!1),[O,j]=_u(""),B=iD(null),V=iD(null),G=typeof l?.pasteURL=="object"&&l.pasteURL.allowList?.length>0,z=Su(fe=>{fe instanceof File&&A(URL.createObjectURL(fe)),R(fe),L(!1),f(""),d(null),u(null),typeof r=="function"&&r(fe)},[r,R,u,d,f]),Y=(fe,he)=>new File([fe],he,{type:fe.type,lastModified:fe.lastModified}),Q=Du.useCallback(fe=>{let he=fe.target.value;S&&(z(Y(S,he)),M(he))},[z,S]),Z=Su(fe=>{let he=fe?.[0];z(he)},[z]),X=Su(()=>{E(!0),z(null),A(""),j(""),s(),L(!1),f(""),d(null),u(null)},[z,s,u,d,f]),q=Su(fe=>{v(!0),i(fe)},[v,i]),W=Su(async()=>{if(!(!O||l?.pasteURL===!1)){w("uploading");try{let fe=await fetch(O);if(!fe.ok)throw new Error(`Fetch failed with status: ${fe.status}`);let he=await fe.blob(),ie=h||decodeURIComponent(O.split("/").pop()||""),de=new File([he],ie,{type:he.type});z(de),w("idle");return}catch{if(!G){ue.error("Failed to fetch the file."),w("failed");return}}try{let fe=`/${e}/paste-url${x?`/${x}?`:"?"}src=${encodeURIComponent(O)}`,he=await fetch(`${b}${g}${fe}`);if(!he.ok)throw new Error(`Fetch failed with status: ${he.status}`);let ie=await he.blob(),de=decodeURIComponent(O.split("/").pop()||""),U=new File([ie],de,{type:ie.type});z(U),w("idle")}catch{ue.error("The provided URL is not allowed."),w("failed")}}},[O,l,w,z,G,e,x,b,g]);Iu(()=>{n?.file?.value instanceof File&&(A(URL.createObjectURL(n.file.value)),E(!1))},[n]),Iu(()=>{N&&B.current},[N]),Iu(()=>{D&&E(!1)},[D]);let ee=y?.update&&"delete"in y&&y?.delete,pe=l?.imageSizes?.length>0,ae=!!l?.resizeOptions,Se=l?.focalPoint===!0,{crop:K=!0,focalPoint:se=!0}=l,ge=se&&(pe||ae||Se),ye=l.mimeTypes?.join(", "),oe=l?.cacheTags&&I?.updatedAt;return Iu(()=>{(async()=>{p&&(j(p),await W())})()},[p,W]),Iu(()=>{(()=>{m&&z(m)})()},[m,z]),Br("div",{className:[Te,so].filter(Boolean).join(" "),children:[_t(Ue,{message:_,showError:T}),I&&I.filename&&!P&&_t(rv,{collectionSlug:e,customUploadActions:o,doc:I,enableAdjustments:K||ge,handleRemove:ee?X:void 0,hasImageSizes:pe,hideRemoveFile:l.hideRemoveFile,imageCacheTag:oe,uploadConfig:l}),(!l.hideFileInputOnCreate&&!I?.filename||P)&&Br("div",{className:`${so}__upload`,children:[!S&&!N&&_t(Oi,{onChange:Z,children:Br("div",{className:`${so}__dropzoneContent`,children:[Br("div",{className:`${so}__dropzoneButtons`,children:[_t(te,{buttonStyle:"pill",onClick:()=>{V.current&&V.current.click()},size:"small",children:C("upload:selectFile")}),_t("input",{accept:ye,"aria-hidden":"true",className:`${so}__hidden-input`,hidden:!0,onChange:fe=>{fe.target.files&&fe.target.files.length>0&&Z(fe.target.files)},ref:V,type:"file"}),l?.pasteURL!==!1&&Br(z8,{children:[_t("span",{className:`${so}__orText`,children:C("general:or")}),_t(te,{buttonStyle:"pill",onClick:()=>{L(!0),f(""),u(null),d(null)},size:"small",children:C("upload:pasteURL")})]}),a||null]}),Br("p",{className:`${so}__dragAndDropText`,children:[C("general:or")," ",C("upload:dragAndDrop")]})]})}),N&&Br(Du.Fragment,{children:[Br("div",{className:`${so}__remote-file-wrap`,children:[_t("input",{className:`${so}__remote-file`,onChange:fe=>{j(fe.target.value)},ref:B,title:O,type:"text",value:O}),_t("div",{className:`${so}__add-file-wrap`,children:_t("button",{className:`${so}__add-file`,onClick:()=>{W()},type:"button",children:C("upload:addFile")})})]}),_t(te,{buttonStyle:"icon-label",className:`${so}__remove`,icon:"x",iconStyle:"with-border",onClick:()=>{L(!1),f(""),u(null),d(null)},round:!0,tooltip:C("general:cancel")})]}),S&&F&&Br(Du.Fragment,{children:[_t("div",{className:`${so}__thumbnail-wrap`,children:_t(gr,{collectionSlug:e,fileSrc:lD(S.type)?F:null})}),Br("div",{className:`${so}__file-adjustments`,children:[_t("input",{className:`${so}__filename`,onChange:Q,title:k||S.name,type:"text",value:k||S.name}),_t(ov,{customActions:o,enableAdjustments:K||ge,enablePreviewSizes:pe&&I?.filename&&!P,mimeType:S.type})]}),_t(te,{buttonStyle:"icon-label",className:`${so}__remove`,icon:"x",iconStyle:"with-border",onClick:X,round:!0,tooltip:C("general:cancel")})]})]}),(S||I?.filename)&&_t(si,{children:_t($t,{Header:null,slug:vu,children:_t(Kb,{fileName:S?.name||I?.filename,fileSrc:I?.url||F,imageCacheTag:oe,initialCrop:c?.crop??void 0,initialFocalPoint:{x:c?.focalPoint?.x||I?.focalX||50,y:c?.focalPoint?.y||I?.focalY||50},onSave:q,showCrop:K,showFocalPoint:ge})})}),I&&pe&&_t($t,{className:`${so}__previewDrawer`,hoverTitle:!0,slug:cD,title:C("upload:sizesFor",{label:I.filename}),children:_t(nv,{doc:I,imageCacheTag:oe,uploadConfig:l})})]})};function W8(t,e){return _t(Du.Fragment,{children:t},e)}var J8="collection-edit";function mD({resetUploadEdits:t,submitted:e,updateUploadEdits:o,uploadEdits:n}){let{action:r,collectionSlug:s,docPermissions:i,getDocPreferences:l,hasSavePermission:a,initialState:c,isEditing:u,isInitializing:d,Upload:f}=Pe(),{onSave:m}=Oc(),{getFormState:h}=At(),{config:{folders:p,routes:{admin:g}},getEntityConfig:b}=H(),C=Fu.useRef(null),v=b({collectionSlug:s}),x=X8(),y=et(),I=Y8(),{reportUpdate:w}=Vi(),{startRouteTransition:D}=Je(),_=I.get("locale"),R=v.slug,[T]=Fu.useState(R),S=uD(A=>{if(w({entitySlug:R,updatedAt:A?.result?.updatedAt||new Date().toISOString()}),typeof m=="function"&&m({...A,operation:"create"}),!u&&y<2){let P=Z8({adminRoute:g,path:`/collections/${R}/${A?.doc?.id}${_?`?locale=${_}`:""}`});D(()=>x.push(P))}else t()},[g,R,y,u,_,m,w,t,x,D]),F=uD(async({formState:A,submitted:P})=>{let E=hr(C),k=await l(),{state:M}=await h({collectionSlug:R,docPermissions:i,docPreferences:k,formState:A,operation:"create",schemaPath:T,signal:E.signal,skipValidation:!P});return C.current=null,M},[R,T,l,h,i]);return dD(()=>{let A=C.current;return()=>{pr(A)}},[]),Qn(sc,{operation:"create",children:Qn(av,{children:U8(Yn,{action:r,className:`${J8}__form`,disabled:d||!a,initialState:d?void 0:c,isInitializing:d,method:"POST",onChange:[F],onSuccess:S,submitted:e,children:[Qn(hu,{BeforeFields:Qn(Fu.Fragment,{children:f||Qn(iv,{collectionSlug:v.slug,customActions:[p&&v.folders&&Qn(bu,{buttonProps:{buttonStyle:"pill",size:"small"},folderCollectionSlug:p.slug,folderFieldName:p.fieldName},"move-doc-to-folder")].filter(Boolean),initialState:c,resetUploadEdits:t,updateUploadEdits:o,uploadConfig:v.upload,uploadEdits:n})}),docPermissions:i,fields:v.fields,schemaPathSegments:[v.slug]}),Qn(Q8,{}),Qn(q8,{})]})})})}function q8(){let{getFields:t}=Be(),{getFormDataRef:e}=No();return dD(()=>{e.current=t},[t,e]),null}function Q8(){let{docConfig:t}=Pe(),{activeIndex:e,setFormTotalErrorCount:o}=No(),n=Fu.useRef(0),r=Fu.useCallback(s=>{s!==n.current&&(o({errorCount:s,index:e}),n.current=s)},[e,o]);return t?Qn(xi,{fields:t.fields,path:[],setErrorCount:r}):null}import{c as K8}from"react/compiler-runtime";import{jsx as Wt,jsxs as un}from"react/jsx-runtime";import{isImage as eV}from"payload/shared";import tV from"react";var sp="bulk-upload-drawer--add-more-files",Dt="file-selections";function fD(){let t=K8(36),{activeIndex:e,addFiles:o,forms:n,isInitializing:r,removeFile:s,setActiveIndex:i,thumbnailUrls:l,totalErrorCount:a}=No(),{initialFiles:c,maxFiles:u}=Vo(),{i18n:d,t:f}=$(),{closeModal:m,openModal:h}=le(),[p,g]=tV.useState(!1),{breakpoints:b}=Eo(),C;t[0]!==s?(C=S=>{s(S)},t[0]=s,t[1]=C):C=t[1];let v=C,x;t[2]!==o||t[3]!==m?(x=S=>{o(S),m(sp)},t[2]=o,t[3]=m,t[4]=x):x=t[4];let y=x,I=nV,w=r?c.length:n.length,D=p&&`${Dt}__showingFiles`,_;t[5]!==D?(_=[Dt,D].filter(Boolean),t[5]=D,t[6]=_):_=t[6];let R=_.join(" "),T;if(t[7]!==e||t[8]!==b.m||t[9]!==m||t[10]!==n||t[11]!==y||t[12]!==v||t[13]!==d||t[14]!==c||t[15]!==r||t[16]!==u||t[17]!==h||t[18]!==i||t[19]!==p||t[20]!==f||t[21]!==R||t[22]!==l||t[23]!==a||t[24]!==w){let S;t[26]===Symbol.for("react.memo_cache_sentinel")?(S=()=>g(rV),t[26]=S):S=t[26];let F;t[27]!==m?(F=()=>m(sp),t[27]=m,t[28]=F):F=t[28];let A;t[29]!==e||t[30]!==v||t[31]!==d||t[32]!==i||t[33]!==f||t[34]!==l?(A=(P,E)=>{let{errorCount:k,formState:M}=P,N=M?.file?.value||{};return un("div",{className:[`${Dt}__fileRowContainer`,E===e&&`${Dt}__fileRowContainer--active`,k&&k>0&&`${Dt}__fileRowContainer--error`].filter(Boolean).join(" "),children:[un("button",{className:`${Dt}__fileRow`,onClick:()=>i(E),type:"button",children:[Wt(gr,{className:`${Dt}__thumbnail`,fileSrc:eV(N.type)?l[E]:null}),Wt("div",{className:`${Dt}__fileDetails`,children:Wt("p",{className:`${Dt}__fileName`,title:N.name,children:N.name||f("upload:noFile")})}),N instanceof File?Wt("p",{className:`${Dt}__fileSize`,children:I(N)}):null,Wt("div",{className:`${Dt}__remove ${Dt}__remove--underlay`,children:Wt(pt,{})}),k?Wt(go,{className:`${Dt}__errorCount`,count:k,i18n:d}):null]}),Wt("button",{"aria-label":f("general:remove"),className:`${Dt}__remove ${Dt}__remove--overlay`,onClick:()=>v(E),type:"button",children:Wt(pt,{})})]},E)},t[29]=e,t[30]=v,t[31]=d,t[32]=i,t[33]=f,t[34]=l,t[35]=A):A=t[35],T=un("div",{className:R,children:[b.m&&p?Wt("div",{className:`${Dt}__mobileBlur`}):null,un("div",{className:`${Dt}__header`,children:[un("div",{className:`${Dt}__headerTopRow`,children:[un("div",{className:`${Dt}__header__text`,children:[Wt(go,{count:a,i18n:d,withMessage:!0}),Wt("p",{children:un("strong",{title:`${w} ${f(w>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[w," ",f(w>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),un("div",{className:`${Dt}__header__actions`,children:[typeof u!="number"||w<u?Wt(dt,{className:`${Dt}__header__addFile`,onClick:()=>h(sp),size:"small",children:f("upload:addFile")}):null,un(te,{buttonStyle:"transparent",className:`${Dt}__toggler`,onClick:S,children:[Wt("span",{className:`${Dt}__toggler__label`,children:un("strong",{title:`${w} ${f(w>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[w," ",f(w>1?"upload:filesToUpload":"upload:fileToUpload")]})}),Wt(Ye,{direction:p?"down":"up"})]}),Wt($t,{gutter:!1,Header:null,slug:sp,children:Wt(Bf,{onCancel:F,onDrop:y})})]})]}),Wt("div",{className:`${Dt}__header__mobileDocActions`,children:Wt(Hb,{})})]}),Wt("div",{className:`${Dt}__animateWrapper`,children:Wt(Er,{height:!b.m||p?"auto":0,children:un("div",{className:`${Dt}__filesContainer`,children:[r&&n.length===0&&c.length>0?Array.from(c).map(oV):null,n.map(A)]})})})]}),t[7]=e,t[8]=b.m,t[9]=m,t[10]=n,t[11]=y,t[12]=v,t[13]=d,t[14]=c,t[15]=r,t[16]=u,t[17]=h,t[18]=i,t[19]=p,t[20]=f,t[21]=R,t[22]=l,t[23]=a,t[24]=w,t[25]=T}else T=t[25];return T}function oV(t,e){return Wt(Nt,{animationDelay:`calc(${e} * 60ms)`,height:"35px"},e)}function rV(t){return!t}function nV(t){let e=t.size,o=e===0?0:Math.floor(Math.log(e)/Math.log(1024)),n=o>1?1:0;return(e/Math.pow(1024,o)).toFixed(n)+" "+["B","kB","MB","GB","TB"][o]}var pD="bulk-upload--file-manager";function hD(){let t=sV(18),{activeIndex:e,collectionSlug:o,docPermissions:n,documentSlots:r,forms:s,hasPublishPermission:i,hasSavePermission:l,hasSubmitted:a,resetUploadEdits:c,updateUploadEdits:u}=No(),d=s[e],{getEntityConfig:f}=H(),{i18n:m}=$(),{user:h}=Fe(),{openModal:p}=le(),g;if(t[0]!==d||t[1]!==e||t[2]!==o||t[3]!==n||t[4]!==r||t[5]!==s.length||t[6]!==f||t[7]!==i||t[8]!==l||t[9]!==a||t[10]!==m||t[11]!==p||t[12]!==c||t[13]!==u||t[14]!==h){let b=f({collectionSlug:o}),C;t[16]!==p?(C=()=>p(pu),t[16]=p,t[17]=C):C=t[17],g=lv("div",{className:pD,children:[Tu(fD,{}),lv("div",{className:`${pD}__editView`,children:[Tu(ol,{onClose:C,title:iV(b.labels.singular,m)}),d?lv(nc,{collectionSlug:o,currentEditor:h,docPermissions:n,hasPublishedDoc:!1,hasPublishPermission:i,hasSavePermission:l,id:null,initialData:aV(d.formState,!0),initialState:d.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:r.Upload,versionCount:0,children:[Tu(w_,{collectionConfig:b}),Tu(mD,{resetUploadEdits:c,submitted:a,updateUploadEdits:u,uploadEdits:d?.uploadEdits})]},`${e}-${s.length}`):null]}),Tu(S_,{})]}),t[0]=d,t[1]=e,t[2]=o,t[3]=n,t[4]=r,t[5]=s.length,t[6]=f,t[7]=i,t[8]=l,t[9]=a,t[10]=m,t[11]=p,t[12]=c,t[13]=u,t[14]=h,t[15]=g}else g=t[15];return g}var uV="bulk-upload-drawer-slug";function dV(){let{addFiles:t,forms:e,isInitializing:o}=No(),{closeModal:n}=le(),{collectionSlug:r,drawerSlug:s}=Vo(),{getEntityConfig:i}=H(),{t:l}=$(),u=i({collectionSlug:r})?.upload?.mimeTypes,d=yn.useCallback(f=>{let m=new DataTransfer;for(let h of f)(u===void 0||u.length===0||cV(h.type,u))&&m.items.add(h);m.files.length===0?ue.error(l("error:invalidFileType")):t(m.files)},[t,l,u]);return r?!e.length&&!o?zs(Bf,{acceptMimeTypes:u?.join(", "),onCancel:()=>n(s),onDrop:d}):zs(hD,{}):null}function bD(){let t=gD(2),{drawerSlug:e}=Vo(),o;return t[0]!==e?(o=zs($t,{gutter:!1,Header:null,slug:e,children:zs(d_,{children:zs(tl,{children:zs(dV,{})})})}),t[0]=e,t[1]=o):o=t[1],o}var vD=yn.createContext({collectionSlug:"",currentActivePath:void 0,drawerSlug:"",initialFiles:void 0,maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,setCollectionSlug:()=>null,setCurrentActivePath:()=>null,setInitialFiles:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null});function av(t){let e=gD(16),{children:o}=t,[n,r]=yn.useState(),[s,i]=yn.useState(),[l,a]=yn.useState(),[c,u]=yn.useState(void 0),[d,f]=yn.useState(void 0),[m,h]=yn.useState(void 0),p=CD(),g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=w=>{r(w)},e[0]=g):g=e[0];let b=g,C;e[1]===Symbol.for("react.memo_cache_sentinel")?(C=(w,D)=>{i(_=>({..._,[w]:D}))},e[1]=C):C=e[1];let v=C,x;e[2]!==l?(x=()=>{typeof l=="function"&&l()},e[2]=l,e[3]=x):x=e[3];let y;e[4]!==m||e[5]!==s?(y=(w,D)=>{if(s&&Object.hasOwn(s,m)){let _=s[m];_(w,D)}},e[4]=m,e[5]=s,e[6]=y):y=e[6];let I;return e[7]!==o||e[8]!==n||e[9]!==m||e[10]!==p||e[11]!==c||e[12]!==d||e[13]!==x||e[14]!==y?(I=zs(vD,{value:{collectionSlug:n,currentActivePath:m,drawerSlug:p,initialFiles:c,maxFiles:d,onCancel:x,onSuccess:y,setCollectionSlug:b,setCurrentActivePath:h,setInitialFiles:u,setMaxFiles:f,setOnCancel:a,setOnSuccess:v},children:lV(yn.Fragment,{children:[o,zs(bD,{})]})}),e[7]=o,e[8]=n,e[9]=m,e[10]=p,e[11]=c,e[12]=d,e[13]=x,e[14]=y,e[15]=I):I=e[15],I}var Vo=()=>yn.use(vD);function CD(){let t=Tr();return`${uV}-${t||1}`}import{c as hV}from"react/compiler-runtime";import{jsx as Ui,jsxs as gV}from"react/jsx-runtime";import"react";import{c as mV}from"react/compiler-runtime";import{jsx as Wi,jsxs as ip}from"react/jsx-runtime";import{formatFilesize as fV}from"payload/shared";import"react";var Kn="upload-relationship-details";function ap(t){let e=mV(34),{id:o,allowEdit:n,allowRemove:r,alt:s,byteSize:i,className:l,collectionSlug:a,displayPreview:c,filename:u,mimeType:d,onRemove:f,reloadDoc:m,src:h,thumbnailSrc:p,withMeta:g,x:b,y:C}=t,v=g===void 0?!0:g,{config:x}=H(),y;e[0]!==a||e[1]!==x?(y="collections"in x?x.collections.find(B=>B.slug===a):void 0,e[0]=a,e[1]=x,e[2]=y):y=e[2];let I=y,w=h?o:void 0,D;e[3]!==a||e[4]!==w?(D={id:w,collectionSlug:a},e[3]=a,e[4]=w,e[5]=D):D=e[5];let[_,,R]=bt(D),{openDrawer:T}=R,S;e[6]!==a||e[7]!==m?(S=async B=>{let{doc:V}=B;return m(V.id,a)},e[6]=a,e[7]=m,e[8]=S):S=e[8];let F=S,A;e[9]!==b||e[10]!==C?(A=function(V,G){let z=[];return G&&z.push(fV(G)),b&&C&&z.push(`${b}x${C}`),V&&z.push(V),z.join(" \u2014 ")},e[9]=b,e[10]=C,e[11]=A):A=e[11];let E=v?A(d,i):"",k=c??I.upload?.displayPreview??!0,M;e[12]!==l?(M=[Kn,l].filter(Boolean),e[12]=l,e[13]=M):M=e[13];let N=M.join(" "),L;e[14]!==s||e[15]!==u||e[16]!==k||e[17]!==p?(L=k&&Wi(GI,{alt:s,className:`${Kn}__thumbnail`,filename:u,fileSrc:p,size:"small"}),e[14]=s,e[15]=u,e[16]=k,e[17]=p,e[18]=L):L=e[18];let O;e[19]!==u||e[20]!==h?(O=h?Wi("a",{href:h,target:"_blank",children:u}):u,e[19]=u,e[20]=h,e[21]=O):O=e[21];let j;return e[22]!==_||e[23]!==n||e[24]!==r||e[25]!==E||e[26]!==f||e[27]!==F||e[28]!==T||e[29]!==O||e[30]!==N||e[31]!==L||e[32]!==v?(j=ip("div",{className:N,children:[ip("div",{className:`${Kn}__imageAndDetails`,children:[L,ip("div",{className:`${Kn}__details`,children:[Wi("p",{className:`${Kn}__filename`,children:O}),v?Wi("p",{className:`${Kn}__meta`,children:E}):null]})]}),n!==!1||r!==!1?ip("div",{className:`${Kn}__actions`,children:[n!==!1?Wi(te,{buttonStyle:"icon-label",className:`${Kn}__edit`,icon:"edit",iconStyle:"none",onClick:T}):null,r!==!1?Wi(te,{buttonStyle:"icon-label",className:`${Kn}__remove`,icon:"x",iconStyle:"none",onClick:()=>f()}):null,Wi(_,{onSave:F})]}):null]}),e[22]=_,e[23]=n,e[24]=r,e[25]=E,e[26]=f,e[27]=F,e[28]=T,e[29]=O,e[30]=N,e[31]=L,e[32]=v,e[33]=j):j=e[33],j}import{jsx as pV}from"react/jsx-runtime";import"react";var xD="upload-field-card";function lp({children:t,className:e,size:o="medium"}){return pV("div",{className:[xD,e,`${xD}--size-${o}`].filter(Boolean).join(" "),children:t})}import{getBestFitFromSizes as bV,isImage as vV}from"payload/shared";var Ru="upload upload--has-many";function yD(t){let e=hV(27),{className:o,displayPreview:n,fileDocs:r,isSortable:s,onRemove:i,onReorder:l,readonly:a,reloadDoc:c,serverURL:u}=t,d;e[0]!==r||e[1]!==l?(d=(C,v)=>{if(C===v)return;let x=[...r],[y]=x.splice(C,1);x.splice(v,0,y),l(x)},e[0]=r,e[1]=l,e[2]=d):d=e[2];let f=d,m;e[3]!==r||e[4]!==i?(m=C=>{let v=[...r||[]];v.splice(C,1),i(v.length===0?[]:v)},e[3]=r,e[4]=i,e[5]=m):m=e[5];let h=m,p;e[6]!==o?(p=[Ru,o].filter(Boolean),e[6]=o,e[7]=p):p=e[7];let g=p.join(" "),b;if(e[8]!==n||e[9]!==r||e[10]!==s||e[11]!==f||e[12]!==a||e[13]!==c||e[14]!==h||e[15]!==u||e[16]!==g){let C;e[18]!==f?(C=x=>{let{moveFromIndex:y,moveToIndex:I}=x;return f(y,I)},e[18]=f,e[19]=C):C=e[19];let v;e[20]!==n||e[21]!==s||e[22]!==a||e[23]!==c||e[24]!==h||e[25]!==u?(v=(x,y)=>{let{relationTo:I,value:w}=x,D=String(w.id),_,R;if(w.url)try{_=new URL(w.url,u).toString()}catch{_=`${u}${w.url}`}if(w.thumbnailURL)try{R=new URL(w.thumbnailURL,u).toString()}catch{R=`${u}${w.thumbnailURL}`}return vV(w.mimeType)&&(R=bV({sizes:w.sizes,thumbnailURL:R,url:_,width:w.width})),Ui(pn,{disabled:!s||a,id:D,children:T=>Ui("div",{className:[`${Ru}__dragItem`,T&&s&&`${Ru}--has-drag-handle`].filter(Boolean).join(" "),ref:T.setNodeRef,style:{transform:T.transform,transition:T.transition,zIndex:T.isDragging?1:void 0},children:gV(lp,{size:"small",children:[T&&Ui("div",{className:`${Ru}__drag`,...T.attributes,...T.listeners,children:Ui(Vn,{})}),Ui(ap,{allowEdit:!a,allowRemove:!a,alt:w?.alt||w?.filename,byteSize:w.filesize,collectionSlug:I,displayPreview:n,filename:w.filename,id:D,mimeType:w?.mimeType,onRemove:()=>h(y),reloadDoc:c,src:_,thumbnailSrc:R,withMeta:!1,x:w?.width,y:w?.height})]})})},D)},e[20]=n,e[21]=s,e[22]=a,e[23]=c,e[24]=h,e[25]=u,e[26]=v):v=e[26],b=Ui("div",{className:g,children:Ui(Fr,{className:`${Ru}__draggable-rows`,ids:r?.map(CV),onDragEnd:C,children:r.map(v)})}),e[8]=n,e[9]=r,e[10]=s,e[11]=f,e[12]=a,e[13]=c,e[14]=h,e[15]=u,e[16]=g,e[17]=b}else b=e[17];return b}function CV(t){let{value:e}=t;return String(e.id)}import{jsx as wD}from"react/jsx-runtime";import{getBestFitFromSizes as xV,isImage as yV}from"payload/shared";import"react";var wV="upload upload--has-one";function SD(t){let{className:e,displayPreview:o,fileDoc:n,onRemove:r,readonly:s,reloadDoc:i,serverURL:l}=t,{relationTo:a,value:c}=n,u=String(c?.id),d,f;if(c.url)try{d=new URL(c.url,l).toString()}catch{d=`${l}${c.url}`}if(c.thumbnailURL)try{f=new URL(c.thumbnailURL,l).toString()}catch{f=`${l}${c.thumbnailURL}`}return yV(c.mimeType)&&(f=xV({sizes:c.sizes,thumbnailURL:f,url:d,width:c.width})),wD(lp,{className:[wV,e].filter(Boolean).join(" "),children:wD(ap,{allowEdit:!s,allowRemove:!s,alt:c?.alt||c?.filename,byteSize:c.filesize,collectionSlug:a,displayPreview:o,filename:c.filename,id:u,mimeType:c?.mimeType,onRemove:r,reloadDoc:i,src:d,thumbnailSrc:f,x:c?.width,y:c?.height})})}var wn="upload";function cp(t){let{AfterInput:e,allowCreate:o,api:n,BeforeInput:r,className:s,Description:i,description:l,displayPreview:a,Error:c,filterOptions:u,hasMany:d,isSortable:f,Label:m,label:h,localized:p,maxRows:g,onChange:b,path:C,readOnly:v,relationTo:x,required:y,serverURL:I,showError:w,style:D,value:_}=t,[R,T]=dn.useState(),[S,F]=dn.useState(Array.isArray(x)?x[0]:x),{openModal:A}=le(),{drawerSlug:P,setCollectionSlug:E,setCurrentActivePath:k,setInitialFiles:M,setMaxFiles:N,setOnSuccess:L}=Vo(),{permissions:O}=Fe(),{code:j}=Ie(),{i18n:B,t:V}=$(),G=DD(()=>({...u,[S]:{...u?.[S]||{},id:{...u?.[S]?.id||{},not_in:(u?.[S]?.id?.not_in||[]).concat(...Array.isArray(_)||_?[_]:[])}}}),[_,S,u]),[z,,{closeDrawer:Y,openDrawer:Q}]=Li({collectionSlugs:typeof x=="string"?[x]:x,filterOptions:G}),[Z,,{closeDrawer:X,openDrawer:q}]=bt({collectionSlug:S}),W=dn.useRef(!1),ee=DD(()=>o?!!(typeof S=="string"&&O?.collections&&O.collections?.[S]?.create):!1,[S,O,o]),pe=dn.useCallback(de=>{typeof b=="function"&&b(de)},[b]),ae=dn.useCallback(async(de,U)=>{if(!de.length)return;let ne={depth:0,draft:!0,limit:de.length,locale:j,where:{and:[{id:{in:de}}]}},ve=await fetch(`${I}${n}/${U}`,{body:FD.stringify(ne),credentials:"include",headers:{"Accept-Language":B.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(ve.ok){let Ne=await ve.json(),Me=de.map(Le=>Ne.docs.find(ct=>String(ct.id)===String(Le)));return Me.includes(void 0)&&d&&(Me=Me.map((Le,ct)=>Le||{id:de[ct],filename:`${V("general:untitled")} - ID: ${de[ct]}`,isPlaceholder:!0})),{...Ne,docs:Me}}return null},[j,I,n,B.language,V,d]),Se=ID(de=>{if(d){let U=[...Array.isArray(_)?_:[],...de.map(ne=>ne.id)];pe(U),T(ne=>[...ne||[],...de.map(ve=>({relationTo:S,value:ve}))])}else{let U=de[0];pe(U.id),T([{relationTo:S,value:U}])}},[_,pe,S,d]),K=dn.useCallback(de=>{let U=de;if(!d&&de&&de.length>1){let ne=new DataTransfer;ne.items.add(de[0]),U=ne.files}U&&M(U),E(x),typeof g=="number"&&N(g),k(C),A(P)},[P,d,A,x,E,M,g,N,C,k]),se=dn.useCallback(async de=>{let U=[];for(let[ve,Ne]of de)Ne&&U.push(ve);let ne=await ae(U,S);ne&&T(ve=>[...ve||[],...ne.docs.map(Ne=>({relationTo:S,value:Ne}))]),pe([...Array.isArray(_)?_:[],...U]),Y()},[S,Y,pe,ae,_]),ge=dn.useCallback(de=>{de.doc&&(T(U=>[...U||[],{relationTo:S,value:de.doc}]),pe(de.doc.id)),X()},[X,S,pe]),ye=ID(async({collectionSlug:de,doc:U})=>{let ne=await ae([U.id],de),ve=ne?ne.docs?.[0]:null;T(Ne=>ve?d?[...Ne||[],{relationTo:S,value:ve}]:[{relationTo:S,value:ve}]:Ne),pe(d?[...Array.isArray(_)?_:[],U.id]:U.id),Y()},[Y,d,ae,pe,_,S]),oe=dn.useCallback(async(de,U)=>{let{docs:ne}=await ae([de],U);if(ne[0]){let ve=[];T(Ne=>{let Me=Ne?.findIndex(Le=>(Le.value?.id===ne[0].id||Le.value?.isPlaceholder)&&Le.relationTo===U);if(Me>-1){let Le=[...Ne];return Le[Me]={relationTo:U,value:ne[0]},ve=Le,Le}}),ve.length&&d&&pe(ve.map(Ne=>Ne.value?.id))}},[ae,pe,d]),fe=dn.useCallback(de=>{let U=de.map(({value:ne})=>ne.id);pe(U),T(de)},[pe]),he=dn.useCallback(de=>{let U=de?de.map(({value:ne})=>ne.id):null;pe(d?U:U?U[0]:null),T(de||[])},[pe,d]);_D(()=>{async function de(){if(_){W.current=!0;let U=await ae(Array.isArray(_)?_:[_],S);U&&T(U.docs.map(ne=>({relationTo:S,value:ne})))}}W.current||de()},[ae,S,_]),_D(()=>{L(C,Se)},[_,C,Se,L]);let ie=!_||d&&Array.isArray(_)&&(typeof g!="number"||_.length<g)||!d&&R?.[0]&&typeof R[0].value>"u";return Xi("div",{className:[Te,wn,s,w&&"error",v&&"read-only"].filter(Boolean).join(" "),id:`field-${C?.replace(/\./g,"__")}`,style:D,children:[Ut(me,{CustomComponent:m,Fallback:Ut(we,{label:h,localized:p,path:C,required:y})}),Ut("div",{className:`${wn}__wrap`,children:Ut(me,{CustomComponent:c,Fallback:Ut(Ue,{path:C,showError:w})})}),r,Xi("div",{className:`${wn}__dropzoneAndUpload`,children:[d&&Array.isArray(_)&&_.length>0?Ut(Au,{children:R&&R?.length>0?Ut(yD,{displayPreview:a,fileDocs:R,isSortable:f&&!v,onRemove:he,onReorder:fe,readonly:v,reloadDoc:oe,serverURL:I}):Ut("div",{className:`${wn}__loadingRows`,children:_.map(de=>Ut(Nt,{height:"40px"},de))})}):null,!d&&_?Ut(Au,{children:R&&R?.length>0&&R[0].value?Ut(SD,{displayPreview:a,fileDoc:R[0],onRemove:he,readonly:v,reloadDoc:oe,serverURL:I}):R&&_&&!R?.[0]?.value?Xi(Au,{children:[V("general:untitled")," - ID: ",_]}):Ut(Nt,{height:"62px"})}):null,ie?Ut(Oi,{disabled:v||!ee,multipleFiles:d,onChange:K,children:Xi("div",{className:`${wn}__dropzoneContent`,children:[Xi("div",{className:`${wn}__dropzoneContent__buttons`,children:[ee&&Xi(Au,{children:[Ut(te,{buttonStyle:"pill",className:`${wn}__createNewToggler`,disabled:v||!ee,onClick:()=>{v||(d?K():q())},size:"small",children:V("general:createNew")}),Ut("span",{className:`${wn}__dropzoneContent__orText`,children:V("general:or")})]}),Ut(te,{buttonStyle:"pill",className:`${wn}__listToggler`,disabled:v,onClick:Q,size:"small",children:V("fields:chooseFromExisting")}),Ut(Z,{onSave:ge}),Ut(z,{allowCreate:ee,enableRowSelections:d,onBulkSelect:se,onSelect:ye})]}),ee&&!v&&Xi("p",{className:`${wn}__dragAndDropText`,children:[V("general:or")," ",V("upload:dragAndDrop")]})]})}):Ut(Au,{children:!v&&!R&&(!_||typeof g!="number"||Array.isArray(_)&&_.length<g)?Ut(Nt,{height:"40px"}):null})]}),e,Ut(me,{CustomComponent:i,Fallback:Ut(He,{description:l,path:C})})]})}function DV(t){let{field:e,field:{admin:{allowCreate:o,className:n,description:r,isSortable:s}={},hasMany:i,label:l,localized:a,maxRows:c,relationTo:u,required:d},path:f,readOnly:m,validate:h}=t,{config:p}=H(),g=e.displayPreview,b=IV.useCallback((A,P)=>{if(typeof h=="function")return h(A,{...P,required:d})},[h,d]),{customComponents:{AfterInput:C,BeforeInput:v,Description:x,Error:y,Label:I}={},disabled:w,filterOptions:D,path:_,setValue:R,showError:T,value:S}=$e({potentiallyStalePath:f,validate:b}),F=_V(()=>st(e),[e]);return SV(cp,{AfterInput:C,allowCreate:o!==!1,api:p.routes.api,BeforeInput:v,className:n,Description:x,description:r,displayPreview:g,Error:y,filterOptions:D,hasMany:i,isSortable:s,label:l,Label:I,localized:a,maxRows:c,onChange:R,path:_,readOnly:m||w,relationTo:u,required:d,serverURL:p.serverURL,showError:T,style:F,value:S})}var Eu=Ve(DV);function nl(t){let e=FV(13),{clientFieldConfig:o,forceRender:n,indexPath:r,parentPath:s,parentSchemaPath:i,path:l,permissions:a,readOnly:c,schemaPath:u}=t,d;e[0]!==l?(d=h=>{let[p]=h;return p&&p?.[l]?.customComponents?.Field},e[0]=l,e[1]=d):d=e[1];let f=Rt(d);if(f!==void 0)return f||null;let m;if(e[2]!==o||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==i||e[7]!==l||e[8]!==a||e[9]!==c||e[10]!==u){m=Symbol.for("react.early_return_sentinel");e:{let h={forceRender:n,permissions:a,readOnly:c,schemaPath:u},p={...h,indexPath:r,parentPath:s,parentSchemaPath:i};if(o.admin?.hidden){m=Bt(kc,{...h,path:l});break e}switch(o.type){case"array":{m=Bt(Pu,{...p,field:o,path:l});break e}case"blocks":{m=Bt(pc,{...p,field:o,path:l});break e}case"checkbox":{m=Bt(Ar,{...h,field:o,path:l});break e}case"code":{m=Bt(gc,{...h,field:o,path:l});break e}case"collapsible":{m=Bt(vc,{...p,field:o,path:l});break e}case"date":{m=Bt($c,{...h,field:o,path:l});break e}case"email":{m=Bt(Ti,{...h,field:o,path:l});break e}case"group":{m=Bt(Lc,{...p,field:o,path:l});break e}case"join":{m=Bt(Wc,{...h,field:o,path:l});break e}case"json":{m=Bt(Uc,{...h,field:o,path:l});break e}case"number":{m=Bt(Xc,{...h,field:o,path:l});break e}case"point":{m=Bt(Yc,{...h,field:o,path:l});break e}case"radio":{m=Bt(qc,{...h,field:o,path:l});break e}case"relationship":{m=Bt(ou,{...h,field:o,path:l});break e}case"richText":{m=Bt(ru,{...h,field:o,path:l});break e}case"row":{m=Bt(nu,{...p,field:o});break e}case"select":{m=Bt(su,{...h,field:o,path:l});break e}case"tabs":{m=Bt(cu,{...p,field:o,path:l});break e}case"text":{m=Bt(Bi,{...h,field:o,path:l});break e}case"textarea":{m=Bt(uu,{...h,field:o,path:l});break e}case"ui":{let g;e[12]===Symbol.for("react.memo_cache_sentinel")?(g=Bt(du,{}),e[12]=g):g=e[12],m=g;break e}case"upload":{m=Bt(Eu,{...h,field:o,path:l});break e}}}e[2]=o,e[3]=n,e[4]=r,e[5]=s,e[6]=i,e[7]=l,e[8]=a,e[9]=c,e[10]=u,e[11]=m}else m=e[11];if(m!==Symbol.for("react.early_return_sentinel"))return m}var uv="render-fields",Do=t=>{let e=TV(22),{className:o,fields:n,forceRender:r,margins:s,parentIndexPath:i,parentPath:l,parentSchemaPath:a,permissions:c,readOnly:u}=t,d=ur();if(n&&n.length>0){let f=s&&`${uv}--margins-${s}`,m=s===!1&&`${uv}--margins-none`,h;e[0]!==o||e[1]!==f||e[2]!==m?(h=[uv,o,f,m].filter(Boolean),e[0]=o,e[1]=f,e[2]=m,e[3]=h):h=e[3];let p=h.join(" "),g;if(e[4]!==n||e[5]!==r||e[6]!==d||e[7]!==i||e[8]!==l||e[9]!==a||e[10]!==c||e[11]!==u||e[12]!==p){let b;e[14]!==r||e[15]!==d||e[16]!==i||e[17]!==l||e[18]!==a||e[19]!==c||e[20]!==u?(b=(C,v)=>{if(!C||RV(C))return null;let{operation:x,permissions:y,read:I}=EV({field:C,operation:d,parentName:l?.includes(".")?l.split(".")[l.split(".").length-1]:l,permissions:c});if("name"in C&&!I)return null;let w=u||C?.admin?.readOnly;w&&C.admin?.readOnly===!1&&(w=!1),"name"in C&&!x&&(w=!0);let{indexPath:D,path:_,schemaPath:R}=AV({field:C,index:v,parentIndexPath:i,parentPath:l,parentSchemaPath:a});return cv(Fg,{value:_,children:cv(nl,{clientFieldConfig:C,forceRender:r,indexPath:D,parentPath:l,parentSchemaPath:a,path:_,permissions:y,readOnly:w,schemaPath:R})},`${_}-${v}`)},e[14]=r,e[15]=d,e[16]=i,e[17]=l,e[18]=a,e[19]=c,e[20]=u,e[21]=b):b=e[21],g=cv(Tw,{className:p,forceRender:r,children:n.map(b)}),e[4]=n,e[5]=r,e[6]=d,e[7]=i,e[8]=l,e[9]=a,e[10]=c,e[11]=u,e[12]=p,e[13]=g}else g=e[13];return g}return null};var Nu="array-field",TD=t=>{let e=PV(42),{addRow:o,attributes:n,CustomRowLabel:r,duplicateRow:s,errorCount:i,fields:l,forceRender:a,hasMaxRows:c,isDragging:u,isLoading:d,isSortable:f,labels:m,listeners:h,moveRow:p,parentPath:g,path:b,permissions:C,readOnly:v,removeRow:x,row:y,rowCount:I,rowIndex:w,schemaPath:D,setCollapse:_,setNodeRef:R,transform:T,transition:S}=t,F=a===void 0?!1:a,A=Cm(d,500),{i18n:P}=$(),E=to(),k=`${$V(m.singular,P)} ${String(w+1).padStart(2,"0")}`,M=i>0&&E,N=M?`${Nu}__row--has-errors`:`${Nu}__row--no-errors`,L;e[0]!==N?(L=[`${Nu}__row`,N].filter(Boolean),e[0]=N,e[1]=L):L=e[1];let O=L.join(" "),j=`${g.split(".").join("-")}-row-${w}`,B=u?1:void 0,V;if(e[2]!==r||e[3]!==o||e[4]!==n||e[5]!==O||e[6]!==s||e[7]!==i||e[8]!==k||e[9]!==M||e[10]!==l||e[11]!==F||e[12]!==c||e[13]!==P||e[14]!==A||e[15]!==f||e[16]!==h||e[17]!==p||e[18]!==g||e[19]!==b||e[20]!==C||e[21]!==v||e[22]!==x||e[23]!==y.collapsed||e[24]!==y.id||e[25]!==I||e[26]!==w||e[27]!==D||e[28]!==_||e[29]!==R||e[30]!==j||e[31]!==B||e[32]!==T||e[33]!==S){let G;e[35]!==i||e[36]!==M||e[37]!==P?(G=M&&Hs(go,{count:i,i18n:P,withMessage:!0}),e[35]=i,e[36]=M,e[37]=P,e[38]=G):G=e[38];let z;e[39]!==y.id||e[40]!==_?(z=Y=>_(y.id,Y),e[39]=y.id,e[40]=_,e[41]=z):z=e[41],V=Hs("div",{id:j,ref:R,style:{transform:T,transition:S,zIndex:B},children:Hs(bi,{actions:v?void 0:Hs(bm,{addRow:o,duplicateRow:s,hasMaxRows:c,index:w,isSortable:f,moveRow:p,removeRow:x,rowCount:I}),className:O,collapsibleStyle:M?"error":"default",dragHandleProps:f?{id:y.id,attributes:n,listeners:h}:void 0,header:NV("div",{className:`${Nu}__row-header`,children:[A?Hs(Nt,{height:"1rem",width:"8rem"}):Hs(An,{CustomComponent:r,label:k,path:b,rowNumber:w}),G]}),isCollapsed:y.collapsed,onToggle:z,children:A?Hs(Nt,{}):Hs(Do,{className:`${Nu}__fields`,fields:l,forceRender:F,margins:"small",parentIndexPath:"",parentPath:b,parentSchemaPath:D,permissions:C===!0?C:C?.fields,readOnly:v})})},`${g}-row-${y.id}`),e[2]=r,e[3]=o,e[4]=n,e[5]=O,e[6]=s,e[7]=i,e[8]=k,e[9]=M,e[10]=l,e[11]=F,e[12]=c,e[13]=P,e[14]=A,e[15]=f,e[16]=h,e[17]=p,e[18]=g,e[19]=b,e[20]=C,e[21]=v,e[22]=x,e[23]=y.collapsed,e[24]=y.id,e[25]=I,e[26]=w,e[27]=D,e[28]=_,e[29]=R,e[30]=j,e[31]=B,e[32]=T,e[33]=S,e[34]=V}else V=e[34];return V};var Or="array-field",jV=t=>{let e=LV(52),{field:o,forceRender:n,path:r,permissions:s,readOnly:i,schemaPath:l,validate:a}=t,{name:c,admin:u,fields:d,label:f,localized:m,maxRows:h,minRows:p,required:g}=o,b;e[0]!==u?(b=u===void 0?{}:u,e[0]=u,e[1]=b):b=e[1];let{className:C,description:v,isSortable:x}=b,y=x===void 0?!0:x,I=n===void 0?!1:n,w=l??c,D=p??g?1:0,{setDocFieldPreferences:_}=Pe(),{addFieldRow:R,dispatchFields:T,moveFieldRow:S,removeFieldRow:F,setModified:A}=Be(),P=to(),{code:E}=Ie(),{i18n:k,t:M}=$(),{config:N}=H(),{localization:L}=N,O;e:{if(L&&L.fallback){let J=L.defaultLocale;O=E===J;break e}O=!0}let j=O,B;e[2]!==M?(B=J=>"labels"in J&&J?.labels?J.labels:"labels"in J.field&&J.field.labels?{plural:J.field.labels?.plural,singular:J.field.labels?.singular}:"label"in J.field&&J.field.label?{plural:void 0,singular:J.field.label}:{plural:M("general:rows"),singular:M("general:row")},e[2]=M,e[3]=B):B=e[3];let G=B(t),z;e[4]!==j||e[5]!==h||e[6]!==D||e[7]!==g||e[8]!==a?(z=(J,re)=>{if(!j&&J===null)return!0;if(typeof a=="function")return a(J,{...re,maxRows:h,minRows:D,required:g})},e[4]=j,e[5]=h,e[6]=D,e[7]=g,e[8]=a,e[9]=z):z=e[9];let Y=z,Q;e[10]!==Y||e[11]!==r?(Q={hasRows:!0,potentiallyStalePath:r,validate:Y},e[10]=Y,e[11]=r,e[12]=Q):Q=e[12];let{customComponents:Z,disabled:X,errorPaths:q,path:W,rows:ee,showError:pe,valid:ae,value:Se}=$e(Q),K;e[13]!==Z?(K=Z===void 0?{}:Z,e[13]=Z,e[14]=K):K=e[14];let{AfterInput:se,BeforeInput:ge,Description:ye,Error:oe,Label:fe}=K,he;e[15]!==ee?(he=ee===void 0?[]:ee,e[15]=ee,e[16]=he):he=e[16];let ie=he,de;e[17]!==R||e[18]!==W||e[19]!==w?(de=J=>{R({path:W,rowIndex:J,schemaPath:w}),setTimeout(()=>{Ia(`${W}-row-${J}`)},0)},e[17]=R,e[18]=W,e[19]=w,e[20]=de):de=e[20];let U=de,ne;e[21]!==T||e[22]!==W||e[23]!==A?(ne=J=>{T({type:"DUPLICATE_ROW",path:W,rowIndex:J}),A(!0),setTimeout(()=>{Ia(`${W}-row-${J}`)},0)},e[21]=T,e[22]=W,e[23]=A,e[24]=ne):ne=e[24];let ve=ne,Ne;e[25]!==W||e[26]!==F?(Ne=J=>{F({path:W,rowIndex:J})},e[25]=W,e[26]=F,e[27]=Ne):Ne=e[27];let Me=Ne,Le;e[28]!==S||e[29]!==W?(Le=(J,re)=>{S({moveFromIndex:J,moveToIndex:re,path:W})},e[28]=S,e[29]=W,e[30]=Le):Le=e[30];let ct=Le,vt;e[31]!==T||e[32]!==W||e[33]!==ie||e[34]!==_?(vt=J=>{let{collapsedIDs:re,updatedRows:Ce}=um({collapsed:J,rows:ie});_(W,{collapsed:re}),T({type:"SET_ALL_ROWS_COLLAPSED",path:W,updatedRows:Ce})},e[31]=T,e[32]=W,e[33]=ie,e[34]=_,e[35]=vt):vt=e[35];let Xe=vt,We;e[36]!==T||e[37]!==W||e[38]!==ie||e[39]!==_?(We=(J,re)=>{let{collapsedIDs:Ce,updatedRows:xe}=cm({collapsed:re,rowID:J,rows:ie});T({type:"SET_ROW_COLLAPSED",path:W,updatedRows:xe}),_(W,{collapsed:Ce})},e[36]=T,e[37]=W,e[38]=ie,e[39]=_,e[40]=We):We=e[40];let ho=We,qe=h&&ie.length>=h,Ke=q.length,Qe=P&&q.length>0,St=(i||X)&&ie.length===0,Pt=ie.length&&ie.length<D||g&&ie.length===0,Ct=Qe?`${Or}--has-error`:`${Or}--has-no-error`,Ze;e[41]!==C||e[42]!==Ct?(Ze=[Te,Or,C,Ct].filter(Boolean),e[41]=C,e[42]=Ct,e[43]=Ze):Ze=e[43];let be;e[44]!==oe||e[45]!==W||e[46]!==pe?(be=pe&&yo(me,{CustomComponent:oe,Fallback:yo(Ue,{path:W,showError:pe})}),e[44]=oe,e[45]=W,e[46]=pe,e[47]=be):be=e[47];let ce;return e[48]!==Ke||e[49]!==Qe||e[50]!==k?(ce=Qe&&Ke>0&&yo(go,{count:Ke,i18n:k,withMessage:!0}),e[48]=Ke,e[49]=Qe,e[50]=k,e[51]=ce):ce=e[51],Yi("div",{className:Ze.join(" "),id:`field-${W.replace(/\./g,"__")}`,children:[be,Yi("header",{className:`${Or}__header`,children:[Yi("div",{className:`${Or}__header-wrap`,children:[Yi("div",{className:`${Or}__header-content`,children:[yo("h3",{className:`${Or}__title`,children:yo(me,{CustomComponent:fe,Fallback:yo(we,{as:"span",label:f,localized:m,path:W,required:g})})}),ce]}),ie?.length>0&&Yi("ul",{className:`${Or}__header-actions`,children:[yo("li",{children:yo("button",{className:`${Or}__header-action`,onClick:()=>Xe(!0),type:"button",children:M("fields:collapseAll")})}),yo("li",{children:yo("button",{className:`${Or}__header-action`,onClick:()=>Xe(!1),type:"button",children:M("fields:showAll")})})]})]}),yo(me,{CustomComponent:ye,Fallback:yo(He,{description:v,path:W})})]}),yo(cc,{fieldValue:Se,localized:m,path:W}),ge,(ie?.length>0||!ae&&(St||Pt))&&Yi(Fr,{className:`${Or}__draggable-rows`,ids:ie.map(MV),onDragEnd:J=>{let{moveFromIndex:re,moveToIndex:Ce}=J;return ct(re,Ce)},children:[ie.map((J,re)=>{let{id:Ce,isLoading:xe}=J,ke=`${W}.${re}`,je=q?.filter(Ge=>Ge.startsWith(ke+".")).length;return yo(pn,{disabled:i||X||!y,id:Ce,children:Ge=>yo(TD,{...Ge,addRow:U,CustomRowLabel:ie?.[re]?.customComponents?.RowLabel,duplicateRow:ve,errorCount:je,fields:d,forceRender:I,hasMaxRows:qe,isLoading:xe,isSortable:y,labels:G,moveRow:ct,parentPath:W,path:ke,permissions:s,readOnly:i||X,removeRow:Me,row:J,rowCount:ie?.length,rowIndex:re,schemaPath:w,setCollapse:ho})},Ce)}),!ae&&Yi(kV.Fragment,{children:[St&&yo(Hr,{children:M("validation:fieldHasNo",{label:dv(G.plural,k)})}),Pt&&yo(Hr,{type:"error",children:M("validation:requiresAtLeast",{count:D,label:dv(D>1?G.plural:G.singular,k)||M(D>1?"general:rows":"general:row")})})]})]}),!qe&&!i&&yo(te,{buttonStyle:"icon-label",className:`${Or}__add-row`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{U(Se||0)},children:M("fields:addLabel",{label:dv(G.singular,k)})}),se]})},Pu=Ve(jV);function MV(t){return t.id}import{c as BV}from"react/compiler-runtime";import{jsx as mv,jsxs as RD}from"react/jsx-runtime";import{confirmPassword as OV}from"payload/shared";import"react";var $u=t=>{let e=BV(12),{disabled:o,path:n}=t,r=n===void 0?"confirm-password":n,{t:s}=$(),i;e[0]!==r?(i={path:r,validate:VV},e[0]=r,e[1]=i):i=e[1];let{disabled:l,setValue:a,showError:c,value:u}=$e(i),d=c&&"error",f;e[2]!==d?(f=[Te,"confirm-password",d].filter(Boolean),e[2]=d,e[3]=f):f=e[3];let m=f.join(" "),h;return e[4]!==l||e[5]!==o||e[6]!==r||e[7]!==a||e[8]!==s||e[9]!==m||e[10]!==u?(h=RD("div",{className:m,children:[mv(we,{htmlFor:"field-confirm-password",label:s("authentication:confirmPassword"),required:!0}),RD("div",{className:`${Te}__wrap`,children:[mv(Ue,{path:r}),mv("input",{"aria-label":s("authentication:confirmPassword"),autoComplete:"off",disabled:!!(l||o),id:"field-confirm-password",name:"confirm-password",onChange:a,type:"password",value:u||""})]})]}),e[4]=l,e[5]=o,e[6]=r,e[7]=a,e[8]=s,e[9]=m,e[10]=u,e[11]=h):h=e[11],h};function VV(t,e){return OV(t,{name:"confirm-password",type:"text",required:!0,...e})}import{jsx as zV}from"react/jsx-runtime";import{password as HV}from"payload/shared";import{useCallback as WV,useMemo as UV}from"react";import{c as GV}from"react/compiler-runtime";import{jsx as Zi,jsxs as fv}from"react/jsx-runtime";import{getTranslation as AD}from"@payloadcms/translations";import"react";var ED=t=>{let e=GV(28),{AfterInput:o,autoComplete:n,BeforeInput:r,className:s,description:i,Description:l,Error:a,inputRef:c,Label:u,label:d,localized:f,onChange:m,onKeyDown:h,path:p,placeholder:g,readOnly:b,required:C,rtl:v,showError:x,style:y,value:I,width:w}=t,D=n===void 0?"off":n,{i18n:_}=$(),R=x&&"error",T=b&&"read-only",S;e[0]!==s||e[1]!==R||e[2]!==T?(S=[Te,"password",s,R,T].filter(Boolean),e[0]=s,e[1]=R,e[2]=T,e[3]=S):S=e[3];let F=S.join(" "),A;return e[4]!==o||e[5]!==r||e[6]!==l||e[7]!==a||e[8]!==u||e[9]!==D||e[10]!==i||e[11]!==_||e[12]!==c||e[13]!==d||e[14]!==f||e[15]!==m||e[16]!==h||e[17]!==p||e[18]!==g||e[19]!==b||e[20]!==C||e[21]!==v||e[22]!==x||e[23]!==y||e[24]!==F||e[25]!==I||e[26]!==w?(A=fv("div",{className:F,style:{...y,width:w},children:[Zi(me,{CustomComponent:u,Fallback:Zi(we,{label:d,localized:f,path:p,required:C})}),fv("div",{className:`${Te}__wrap`,children:[Zi(me,{CustomComponent:a,Fallback:Zi(Ue,{path:p,showError:x})}),fv("div",{children:[r,Zi("input",{"aria-label":AD(d,_),autoComplete:D,"data-rtl":v,disabled:b,id:`field-${p.replace(/\./g,"__")}`,name:p,onChange:m,onKeyDown:h,placeholder:AD(g,_),ref:c,type:"password",value:I||""}),o]}),Zi(me,{CustomComponent:l,Fallback:Zi(He,{description:i,path:p})})]})]}),e[4]=o,e[5]=r,e[6]=l,e[7]=a,e[8]=u,e[9]=D,e[10]=i,e[11]=_,e[12]=c,e[13]=d,e[14]=f,e[15]=m,e[16]=h,e[17]=p,e[18]=g,e[19]=b,e[20]=C,e[21]=v,e[22]=x,e[23]=y,e[24]=F,e[25]=I,e[26]=w,e[27]=A):A=e[27],A};var XV=t=>{let{autoComplete:e,field:o,field:{admin:{className:n,disabled:r,placeholder:s,rtl:i}={},label:l,localized:a,required:c}={},inputRef:u,path:d,validate:f}=t,{t:m}=$(),h=Ie(),{config:p}=H(),g=WV((S,F)=>{let A=d?d.split("."):[];return typeof f=="function"?f(S,{...F,required:c}):HV(S,{name:"password",type:"text",blockData:{},data:{},event:"onChange",path:A,preferences:{fields:{}},req:{payload:{config:p},t:m},required:!0,siblingData:{}})},[f,p,m,c,d]),{customComponents:{AfterInput:b,BeforeInput:C,Description:v,Error:x,Label:y}={},disabled:I,setValue:w,showError:D,value:_}=$e({path:d,validate:g}),R=Sa({fieldLocalized:!1,fieldRTL:i,locale:h,localizationConfig:p.localization||void 0}),T=UV(()=>st(o),[o]);return zV(ED,{AfterInput:b,autoComplete:e,BeforeInput:C,className:n,Description:v,Error:x,inputRef:u,Label:y,label:l,localized:a,onChange:S=>{w(S.target.value)},path:d,placeholder:s,readOnly:I||r,required:c,rtl:R,showError:D,style:T,value:_||""})},Lu=Ve(XV);var PD={array:Pu,blocks:pc,checkbox:Ar,code:gc,collapsible:vc,confirmPassword:$u,date:$c,email:Ti,group:Lc,hidden:kc,join:Wc,json:Uc,number:Xc,password:Lu,point:Yc,radio:qc,relationship:ou,richText:ru,row:nu,select:su,tabs:cu,text:Bi,textarea:uu,ui:du,upload:Eu},YV={...PD,Description:He,Error:Ue,Label:we,RowLabel:An};import{c as ZV}from"react/compiler-runtime";import{setsAreEqual as JV}from"payload/shared";import{useEffect as qV}from"react";var es=new Map([]),QV={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},ND=t=>(QV[t.toLowerCase()]||t).trim().toLowerCase().replace("key",""),KV=t=>{let e=ND(t);e==="meta"&&es.forEach((o,n)=>n!=="meta"&&es.delete(n)),es.set(e,Date.now())},eG=t=>{let e=ND(t);e==="meta"&&es.clear(),es.delete(e)},Ji=(t,e)=>{let o=ZV(9),{cmdCtrlKey:n,editDepth:r,keyCodes:s}=t,{modalState:i}=le(),l;o[0]!==n||o[1]!==r||o[2]!==e||o[3]!==s||o[4]!==i?(l=f=>{let m=f.detail?.key?f.detail:f;if(m.key===void 0)return;es.forEach(tG),m.code&&KV(m.code);let h=window.navigator.userAgent.includes("Mac OS X"),p=[...es.keys()].filter(oG);if(JV(new Set(p),new Set(s))&&(!n||h&&es.has("meta")||!h&&m.ctrlKey)){if((Object.keys(i).filter(b=>i[b]?.isOpen)?.length+1||1)!==r)return;e(m)}},o[0]=n,o[1]=r,o[2]=e,o[3]=s,o[4]=i,o[5]=l):l=o[5];let a=l,c=rG,u,d;o[6]!==a?(u=()=>(document.addEventListener("keydown",a,!1),document.addEventListener("bypassKeyDown",a,!1),document.addEventListener("keyup",c,!1),()=>{document.removeEventListener("keydown",a),document.removeEventListener("bypassKeyDown",a),document.removeEventListener("keyup",c)}),d=[a,c],o[6]=a,o[7]=u,o[8]=d):(u=o[7],d=o[8]),qV(u,d)};function tG(t,e){Date.now()-t>3e3&&es.delete(e)}function oG(t){return!["alt","ctrl","meta","shift"].includes(t)}function rG(t){t.code&&eG(t.code)}import{c as nG}from"react/compiler-runtime";import*as LD from"qs-esm";import{useEffect as $D,useRef as sG,useState as up}from"react";var iG=(t,e)=>{let o=nG(32),n;o[0]!==e?(n=e===void 0?{}:e,o[0]=e,o[1]=n):n=o[1];let r=n,{initialData:s,initialParams:i}=r,l;o[2]!==i?(l=i===void 0?{}:i,o[2]=i,o[3]=l):l=o[3];let a=l,{i18n:c}=$(),u;o[4]!==s?(u=s||{},o[4]=s,o[5]=u):u=o[5];let[d,f]=up(u),[m,h]=up(a),[p,g]=up(!s),[b,C]=up(!1),{code:v}=Ie(),x=sG(!1),y;if(o[6]!==v||o[7]!==m){let A;o[9]!==m?(A=typeof m=="object"?m:{},o[9]=m,o[10]=A):A=o[10],y=LD.stringify({locale:v,...A},{addQueryPrefix:!0}),o[6]=v,o[7]=m,o[8]=y}else y=o[8];let I=y,w;o[11]!==c.language||o[12]!==s||o[13]!==I||o[14]!==t?(w=()=>{if(s&&!x.current){x.current=!0;return}let A=new AbortController;return t?(async()=>{C(!1),g(!0);try{let E=await tt.get(`${t}${I}`,{headers:{"Accept-Language":c.language},signal:A.signal});E.status>201&&C(!0);let k=await E.json();f(k),g(!1)}catch{A.signal.aborted||(C(!0),g(!1))}})():(C(!1),g(!1)),()=>{try{A.abort()}catch(E){let k=E}}},o[11]=c.language,o[12]=s,o[13]=I,o[14]=t,o[15]=w):w=o[15];let D;o[16]!==c.language||o[17]!==s||o[18]!==v||o[19]!==I||o[20]!==t?(D=[t,v,I,c.language,s],o[16]=c.language,o[17]=s,o[18]=v,o[19]=I,o[20]=t,o[21]=D):D=o[21],$D(w,D);let _,R;o[22]!==s?(_=()=>{s&&x.current&&f(s)},R=[s],o[22]=s,o[23]=_,o[24]=R):(_=o[23],R=o[24]),$D(_,R);let T;o[25]!==d||o[26]!==b||o[27]!==p?(T={data:d,isError:b,isLoading:p},o[25]=d,o[26]=b,o[27]=p,o[28]=T):T=o[28];let S;o[29]===Symbol.for("react.memo_cache_sentinel")?(S={setParams:h},o[29]=S):S=o[29];let F;return o[30]!==T?(F=[T,S],o[30]=T,o[31]=F):F=o[31],F};import{c as aG}from"react/compiler-runtime";import{useEffect as lG,useState as cG}from"react";var uG=t=>{let e=aG(5),[o,n]=cG(),r,s;e[0]!==t?(r=()=>{let l;return t&&(l=new ResizeObserver(a=>{a.forEach(c=>{let{contentBoxSize:u,contentRect:d}=c,f=0,m=0;if(u){let h=Array.isArray(u)?u[0]:u;if(h){let{blockSize:p,inlineSize:g}=h;f=g,m=p}}else if(d){let{height:h,width:p}=d;f=p,m=h}n({height:m,width:f})})}),l.observe(t)),()=>{l&&l.unobserve(t)}},s=[t],e[0]=t,e[1]=r,e[2]=s):(r=e[1],s=e[2]),lG(r,s);let i;return e[3]!==o?(i={size:o},e[3]=o,e[4]=i):i=e[4],i};import{c as dG}from"react/compiler-runtime";import{flattenTopLevelFields as mG}from"payload/shared";var pv=t=>{let e=dG(4),{admin:o,fields:n}=t,{useAsTitle:r}=o,{i18n:s}=$(),i;return e[0]!==n||e[1]!==s||e[2]!==r?(i=mG(n,{i18n:s,moveSubFieldsToTop:!0})?.find(a=>"name"in a&&a.name===r),e[0]=n,e[1]=s,e[2]=r,e[3]=i):i=e[3],i};import{c as kD}from"react/compiler-runtime";import{jsx as fl}from"react/jsx-runtime";import{useEffect as fG,useRef as pG}from"react";import{jsx as dp}from"react/jsx-runtime";import"react";var ku=({className:t})=>dp("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:dp("path",{className:"fill",d:"M2.5 13.3333L5.83333 16.6667M5.83333 16.6667L9.16667 13.3333M5.83333 16.6667V3.33333M9.16667 7.08333H17.5M9.16667 10.4167H15M11.6667 13.75H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})}),ju=({className:t})=>dp("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:dp("path",{className:"fill",d:"M2.5 6.66668L5.83333 3.33334M5.83333 3.33334L9.16667 6.66668M5.83333 3.33334V16.6667M11.6667 7.08354H17.5M9.16667 10.4169H15M9.16667 13.7502H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})});var ts="sort-header";function hG(){let t=kD(12),{handleSortChange:e,orderableFieldName:o,query:n}=Lt(),r=Array.isArray(n.sort)?n.sort[0]:n.sort,s=pG(r===`-${o}`?"desc":"asc"),i=r===`-${o}`||r===o,l,a;t[0]!==i||t[1]!==o||t[2]!==r?(l=()=>{i&&(s.current=r===`-${o}`?"desc":"asc")},a=[o,r,i],t[0]=i,t[1]=o,t[2]=r,t[3]=l,t[4]=a):(l=t[3],a=t[4]),fG(l,a);let c;t[5]!==e||t[6]!==i||t[7]!==o?(c=()=>{if(i){e(s.current==="asc"?`-${o}`:o),s.current=s.current==="asc"?"desc":"asc";return}e(s.current==="asc"?o:`-${o}`)},t[5]=e,t[6]=i,t[7]=o,t[8]=c):c=t[8];let u=c,d;return t[9]!==u||t[10]!==i?(d={handleSortPress:u,isActive:i,sort:s},t[9]=u,t[10]=i,t[11]=d):d=t[11],d}var gG=t=>{let e=kD(8),{appearance:o}=t,{handleSortPress:n,isActive:r,sort:s}=hG(),{t:i}=$(),l=o&&`${ts}--appearance-${o}`,a;e[0]!==l?(a=[ts,l].filter(Boolean),e[0]=l,e[1]=a):a=e[1];let c=a.join(" "),u;return e[2]!==n||e[3]!==r||e[4]!==s.current||e[5]!==i||e[6]!==c?(u=fl("div",{className:c,children:fl("div",{className:`${ts}__buttons`,children:s.current==="desc"?fl("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:ascending"),label:"Order"}),className:`${ts}__button ${ts}__${s.current} ${r?`${ts}--active`:""}`,onClick:n,type:"button",children:fl(ku,{})}):fl("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:descending"),label:"Order"}),className:`${ts}__button ${ts}__${s.current} ${r?`${ts}--active`:""}`,onClick:n,type:"button",children:fl(ju,{})})})}),e[2]=n,e[3]=r,e[4]=s.current,e[5]=i,e[6]=c,e[7]=u):u=e[7],u};import{c as bG}from"react/compiler-runtime";import{jsx as jD}from"react/jsx-runtime";import"react";var MD="sort-row",vG=()=>{let t=bG(2),{orderableFieldName:e,query:o}=Lt(),n=o.sort===e||o.sort===`-${e}`,r=`${MD} ${n?"active":""}`,s;return t[0]!==r?(s=jD("div",{className:r,role:"button",tabIndex:0,children:jD(Vn,{className:`${MD}__icon`})}),t[0]=r,t[1]=s):s=t[1],s};import{jsx as mn,jsxs as OD}from"react/jsx-runtime";import{DragOverlay as CG}from"@dnd-kit/core";import{useEffect as xG,useState as bv}from"react";import{jsx as mp}from"react/jsx-runtime";var hv=({cellMap:t,columns:e,dragAttributes:o={},dragListeners:n={},rowId:r,...s})=>mp("tr",{...s,children:e.map((i,l)=>{let{accessor:a}=i,c=i.renderedCells[t[r]];return a==="_dragHandle"?mp("td",{className:`cell-${a}`,children:mp("div",{...o,...n,children:c})},l):mp("td",{className:`cell-${a}`,children:c},l)})});import{jsx as gv}from"react/jsx-runtime";var BD=({children:t,className:e,rowId:o})=>typeof o>"u"?null:gv("div",{className:e,children:gv("table",{cellPadding:0,cellSpacing:0,children:gv("tbody",{children:t})})});var fp="table",yG=({appearance:t="default",collection:e,columns:o,data:n})=>{let{config:r}=H(),{data:s,orderableFieldName:i,query:l}=Lt(),a=s?.docs||n,[c,u]=bv(a),[d,f]=bv({}),[m,h]=bv();xG(()=>{u(a),f(Object.fromEntries(a.map((v,x)=>[String(v.id??v._id),x])))},[a]);let p=o?.filter(v=>v?.active);if(!p||p.filter(v=>!["_dragHandle","_select"].includes(v.accessor)).length===0)return mn("div",{children:"No columns selected"});let g=async({moveFromIndex:v,moveToIndex:x})=>{if(l.sort!==i&&l.sort!==`-${i}`){ue.warning('To reorder the rows you must first sort them by the "Order" column'),h(void 0);return}if(v===x){h(void 0);return}let y=c[v].id??c[v]._id,I=x>v?c[x]:c[x-1],w=x>v?c[x+1]:c[x],D=[...c];u(_=>{let R=[..._];return R[v][i]="pending",R.splice(x,0,R.splice(v,1)[0]),R});try{let _=I?{id:I.id??I._id,key:I[i]}:{id:w.id??w._id,key:w[i]},R=I&&l.sort===i||!I&&l.sort===`-${i}`?"greater":"less",T={collectionSlug:e.slug,docsToMove:[y],newKeyWillBe:R,orderableFieldName:i,target:_},S=await fetch(`${r.routes.api}/reorder`,{body:JSON.stringify(T),headers:{"Content-Type":"application/json"},method:"POST"});if(S.status===403)throw new Error("You do not have permission to reorder these rows");if(!S.ok)throw new Error("Failed to reorder. This can happen if you reorder several rows too quickly. Please try again.");if(S.status===200&&(await S.json()).message==="initial migration")throw new Error('You have enabled "orderable" on a collection with existing documentsand this is the first time you have sorted documents. We have run an automatic migration to add an initial order to the documents. Please refresh the page and try again.')}catch(_){let R=_ instanceof Error?_.message:String(_);u(D),ue.error(R)}finally{h(void 0)}},b=({id:v})=>{h(v)},C=c.map(v=>v.id??v._id);return mn("div",{className:[fp,t&&`${fp}--appearance-${t}`].filter(Boolean).join(" "),children:OD(Fr,{ids:C,onDragEnd:g,onDragStart:b,children:[OD("table",{cellPadding:"0",cellSpacing:"0",children:[mn("thead",{children:mn("tr",{children:p.map((v,x)=>mn("th",{id:`heading-${v.accessor}`,children:v.Heading},x))})}),mn("tbody",{children:c.map((v,x)=>mn(pn,{id:C[x],children:({attributes:y,isDragging:I,listeners:w,setNodeRef:D,transform:_,transition:R})=>mn(hv,{cellMap:d,className:`row-${x+1}`,columns:p,dragAttributes:y,dragListeners:w,ref:D,rowId:v.id??v._id,style:{opacity:I?0:1,transform:_,transition:R}})},C[x]))})]}),mn(CG,{children:mn(BD,{className:[fp,`${fp}--drag-preview`].join(" "),rowId:m,children:mn(hv,{cellMap:d,columns:p,rowId:m})})})]})})};import{jsx as VD}from"react/jsx-runtime";import{toWords as wG,transformColumnsToSearchParams as SG}from"payload/shared";import"react";var IG="query-preset-columns-cell",_G=({cellData:t})=>VD("div",{className:IG,children:t?SG(t).map((e,o)=>{let n=!e.startsWith("-");return n?VD(dt,{pillStyle:n?"always-white":"light",size:"small",children:wG(e)},o):null}):"No columns selected"});import{jsx as DG}from"react/jsx-runtime";import{toWords as GD}from"payload/shared";import"react";var FG=t=>{if(t.or&&t.or.length>0&&t.or[0].and&&t.or[0].and.length>0){let o=t.or[0]?.and?.[0];if(!o)return"No where query";let n=Object.keys(o)[0];if(!o[n])return"No where query";let r=Object.keys(o[n])[0],s=o[n][r];return`${GD(n)} ${r} ${GD(s)}`}return""},TG=({cellData:t})=>DG("div",{children:t?FG(t):"No where query"});import{jsx as zD,jsxs as HD}from"react/jsx-runtime";import{toWords as WD}from"payload/shared";import{Fragment as RG}from"react";var AG=({cellData:t})=>{let e=["read","update","delete"];return zD("p",{children:e.reduce((o,n,r)=>{let s=t?.[n];return s&&s.constraint&&o.push(HD(RG,{children:[HD("span",{children:[zD("strong",{children:WD(n)}),": ",WD(s.constraint)]}),r!==e.length-1&&", "]},n)),o},[])})};import{c as EG}from"react/compiler-runtime";import{jsx as vv,jsxs as PG}from"react/jsx-runtime";import{toWords as NG,transformColumnsToSearchParams as $G}from"payload/shared";import"react";var LG=t=>{let e=EG(5),{field:o}=t,{label:n,required:r}=o,{path:s,value:i}=$e(),l;return e[0]!==n||e[1]!==s||e[2]!==r||e[3]!==i?(l=PG("div",{className:"field-type query-preset-columns-field",children:[vv(we,{as:"h3",label:n,path:s,required:r}),vv("div",{className:"value-wrapper",children:i?$G(i).map(kG):"No columns selected"})]}),e[0]=n,e[1]=s,e[2]=r,e[3]=i,e[4]=l):l=e[4],l};function kG(t,e){let o=!t.startsWith("-");return vv(dt,{pillStyle:o?"always-white":"light-gray",size:"small",children:NG(t)},e)}import{jsx as os,jsxs as pp}from"react/jsx-runtime";import{getTranslation as jG}from"@payloadcms/translations";import{toWords as UD}from"payload/shared";import XD from"react";var MG=(t,e)=>{if(!t)return null;let o=r=>{let s=Object.keys(r)[0];if(!r[s])return"No where query";let i=Object.keys(r[s])[0],l=r[s][i];if(typeof l=="object")try{l=new Date(l).toLocaleDateString()}catch{l="Unknown error has occurred"}return pp(dt,{pillStyle:"always-white",size:"small",children:[os("b",{children:UD(s)})," ",i," ",os("b",{children:UD(l)})]})};return((r,s)=>r.or&&r.or.length>0?os("div",{className:"or-condition",children:r.or.map((i,l)=>os(XD.Fragment,{children:i.and&&i.and.length>0?pp("div",{className:"and-condition",children:[l===0&&os("span",{className:"label",children:`Filter ${s} where `}),l>0&&os("span",{className:"label",children:" or "}),i.and.map((a,c)=>pp(XD.Fragment,{children:[o(a),c<i.and.length-1&&os("span",{className:"label",children:" and "})]},c))]}):o(i)},l))}):o(r))(t,e)},BG=t=>{let{field:e}=t,{label:o,required:n}=e,{path:r,value:s}=$e(),{collectionSlug:i}=Lt(),{getEntityConfig:l}=H(),a=l({collectionSlug:i}),{i18n:c}=$();return pp("div",{className:"field-type query-preset-where-field",children:[os(we,{as:"h3",label:o,path:r,required:n}),os("div",{className:"value-wrapper",children:s?MG(s,jG(a?.labels?.plural,c)):"No where query"})]})};import{c as UG}from"react/compiler-runtime";import{jsx as XG}from"react/jsx-runtime";import YG from"react";import{c as OG}from"react/compiler-runtime";import{useRouter as VG}from"next/navigation.js";import{useEffect as Cv,useRef as GG}from"react";function zG(t,...e){t&&t.addEventListener&&t.addEventListener(...e)}function HG(t,...e){t&&t.removeEventListener&&t.removeEventListener(...e)}var WG=(t,e)=>{let o=OG(7),n=t===void 0?!0:t,r;o[0]!==n||o[1]!==e?(r=a=>{if(typeof n!="function"||n())return a.preventDefault(),e&&(a.returnValue=e),e},o[0]=n,o[1]=e,o[2]=r):r=o[2];let s=r,i,l;o[3]!==n||o[4]!==s?(i=()=>{if(n)return zG(window,"beforeunload",s),()=>HG(window,"beforeunload",s)},l=[n,s],o[3]=n,o[4]=s,o[5]=i,o[6]=l):(i=o[5],l=o[6]),Cv(i,l)},YD=({hasAccepted:t=!1,message:e="Are you sure want to leave this page?",onAccept:o,onPrevent:n,prevent:r=!0})=>{WG(r,e);let{startRouteTransition:s}=Je(),i=VG(),l=GG("");Cv(()=>{function a(d,f){let m=new URL(d),h=new URL(f);if(m.hostname===h.hostname&&m.pathname===h.pathname&&m.search===h.search){let p=m.hash,g=h.hash;return p!==g&&m.href.replace(p,"")===h.href.replace(g,"")}return!1}function c(d){for(;d&&d.tagName.toLowerCase()!=="a";)d=d.parentElement;return d}function u(d){try{let f=d.target,m=c(f);if(m){let h=window.location.href,p=m.href,g=a(h,p),b=m.download!=="",C=m.target==="_blank"||d.metaKey||d.ctrlKey;!(p===h||g||b||C)&&r&&(n||!window.confirm(e))&&(l.current=p,d.preventDefault(),d.stopPropagation(),typeof n=="function"&&n())}}catch(f){alert(f)}}return document.addEventListener("click",u,!0),()=>{document.removeEventListener("click",u,!0)}},[n,r,e]),Cv(()=>{t&&l.current&&(o&&o(),s(()=>i.push(l.current)))},[t,o,i,s])};var hp="leave-without-saving",Mu=()=>{let t=UG(15),{closeModal:e,openModal:o}=le(),n=oo(),{isValid:r}=Be(),{user:s}=Fe(),[i,l]=YG.useState(!1),{t:a}=$(),c=!!((n||!r)&&s),u;t[0]!==o?(u=()=>{o(hp)},t[0]=o,t[1]=u):u=t[1];let d=u,f;t[2]!==e?(f=()=>{e(hp)},t[2]=e,t[3]=f):f=t[3];let m=f,h;t[4]!==m||t[5]!==i||t[6]!==d||t[7]!==c?(h={hasAccepted:i,onAccept:m,onPrevent:d,prevent:c},t[4]=m,t[5]=i,t[6]=d,t[7]=c,t[8]=h):h=t[8],YD(h);let p;t[9]!==e?(p=()=>{e(hp)},t[9]=e,t[10]=p):p=t[10];let g=p,b;t[11]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{l(!0)},t[11]=b):b=t[11];let C=b,v;return t[12]!==g||t[13]!==a?(v=XG(ht,{body:a("general:changesNotSaved"),cancelLabel:a("general:stayOnThisPage"),confirmLabel:a("general:leaveAnyway"),heading:a("general:leaveWithoutSaving"),modalSlug:hp,onCancel:g,onConfirm:C}),t[12]=g,t[13]=a,t[14]=v):v=t[14],v};import{c as ZG}from"react/compiler-runtime";import{jsx as Bu,jsxs as xv}from"react/jsx-runtime";import{useEffect as JG}from"react";var pl="document-take-over",gp="document-take-over",yv=t=>{let e=ZG(17),{handleBackToDashboard:o,isActive:n,onReadOnly:r}=t,{closeModal:s,openModal:i}=le(),{t:l}=$(),{startRouteTransition:a}=Je(),c,u;e[0]!==s||e[1]!==n||e[2]!==i?(c=()=>{n?i(pl):s(pl)},u=[n,i,s],e[0]=s,e[1]=n,e[2]=i,e[3]=c,e[4]=u):(c=e[3],u=e[4]),JG(c,u);let d;if(e[5]!==s||e[6]!==o||e[7]!==r||e[8]!==a||e[9]!==l){let f;e[11]!==o||e[12]!==a?(f=()=>{a(()=>o())},e[11]=o,e[12]=a,e[13]=f):f=e[13];let m;e[14]!==s||e[15]!==r?(m=()=>{r(),s(pl)},e[14]=s,e[15]=r,e[16]=m):m=e[16],d=Bu(sr,{className:gp,slug:pl,children:xv("div",{className:`${gp}__wrapper`,children:[xv("div",{className:`${gp}__content`,children:[Bu("h1",{children:l("general:editingTakenOver")}),Bu("p",{children:l("general:anotherUserTakenOver")})]}),xv("div",{className:`${gp}__controls`,children:[Bu(te,{buttonStyle:"primary",id:`${pl}-back-to-dashboard`,onClick:f,size:"large",children:l("general:backToDashboard")}),Bu(te,{buttonStyle:"secondary",id:`${pl}-view-read-only`,onClick:m,size:"large",children:l("general:viewReadOnly")})]})]})}),e[5]=s,e[6]=o,e[7]=r,e[8]=a,e[9]=l,e[10]=d}else d=e[10];return d};import{c as qG}from"react/compiler-runtime";import{jsx as qi,jsxs as Ou}from"react/jsx-runtime";import{useEffect as QG}from"react";var bp=t=>t&&typeof t=="object";var Ws="document-locked",vp="document-locked",KG=t=>t?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(t):"",wv=t=>{let e=qG(30),{handleGoBack:o,isActive:n,onReadOnly:r,onTakeOver:s,updatedAt:i,user:l}=t,{closeModal:a,openModal:c}=le(),{t:u}=$(),{startRouteTransition:d}=Je(),f,m;e[0]!==a||e[1]!==n||e[2]!==c?(f=()=>{n?c(Ws):a(Ws)},m=[n,c,a],e[0]=a,e[1]=n,e[2]=c,e[3]=f,e[4]=m):(f=e[3],m=e[4]),QG(f,m);let h;e[5]!==o||e[6]!==d?(h=()=>{d(()=>o())},e[5]=o,e[6]=d,e[7]=h):h=e[7];let p;if(e[8]!==a||e[9]!==o||e[10]!==r||e[11]!==s||e[12]!==d||e[13]!==u||e[14]!==h||e[15]!==i||e[16]!==l){let g;e[18]!==u||e[19]!==l?(g=bp(l)?l.email??l.id:`${u("general:user")}: ${l}`,e[18]=u,e[19]=l,e[20]=g):g=e[20];let b;e[21]!==o||e[22]!==d?(b=()=>{d(()=>o())},e[21]=o,e[22]=d,e[23]=b):b=e[23];let C;e[24]!==a||e[25]!==r?(C=()=>{r(),a(Ws)},e[24]=a,e[25]=r,e[26]=C):C=e[26];let v;e[27]!==a||e[28]!==s?(v=()=>{s(),a(Ws)},e[27]=a,e[28]=s,e[29]=v):v=e[29],p=qi(sr,{className:vp,onClose:h,slug:Ws,children:Ou("div",{className:`${vp}__wrapper`,children:[Ou("div",{className:`${vp}__content`,children:[qi("h1",{children:u("general:documentLocked")}),Ou("p",{children:[qi("strong",{children:g})," ",u("general:currentlyEditing")]}),Ou("p",{children:[u("general:editedSince")," ",qi("strong",{children:KG(i)})]})]}),Ou("div",{className:`${vp}__controls`,children:[qi(te,{buttonStyle:"secondary",id:`${Ws}-go-back`,onClick:b,size:"large",children:u("general:goBack")}),qi(te,{buttonStyle:"secondary",id:`${Ws}-view-read-only`,onClick:C,size:"large",children:u("general:viewReadOnly")}),qi(te,{buttonStyle:"primary",id:`${Ws}-take-over`,onClick:v,size:"large",children:u("general:takeOver")})]})]})}),e[8]=a,e[9]=o,e[10]=r,e[11]=s,e[12]=d,e[13]=u,e[14]=h,e[15]=i,e[16]=l,e[17]=p}else p=e[17];return p};import{c as ez}from"react/compiler-runtime";import{jsx as tz}from"react/jsx-runtime";import{getTranslation as oz}from"@payloadcms/translations";import x$e from"react";function Sv(t){let e=ez(3),{i18n:o}=$(),{description:n}=t;if(n){let r;return e[0]!==n||e[1]!==o?(r=tz("div",{className:"custom-view-description",children:oz(n,o)}),e[0]=n,e[1]=o,e[2]=r):r=e[2],r}return null}import{jsx as or,jsxs as Sp}from"react/jsx-runtime";import{formatAdminURL as Vz}from"payload/shared";import{useEffect as Gz,useRef as zz,useState as Hz}from"react";import{c as az}from"react/compiler-runtime";import{jsx as iF}from"react/jsx-runtime";import{usePathname as lz}from"next/navigation.js";import{formatAdminURL as cz}from"payload/shared";import"react";import{jsx as Iv,jsxs as rz}from"react/jsx-runtime";import"react";var Vu="graphic-account",ZD=t=>rz("svg",{className:[Vu,t?.active&&`${Vu}--active`].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[Iv("circle",{className:`${Vu}__bg`,cx:"12.5",cy:"12.5",r:"11.5"}),Iv("circle",{className:`${Vu}__head`,cx:"12.5",cy:"10.73",r:"3.98"}),Iv("path",{className:`${Vu}__body`,d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]});var nF=Ks(rF(),1);import{c as sz}from"react/compiler-runtime";import{jsx as iz}from"react/jsx-runtime";import"react";var sF=()=>{let t=sz(2),{user:e}=Fe(),o=(0,nF.default)(e.email.trim().toLowerCase()),r=`?${new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()}`,s=`https://www.gravatar.com/avatar/${o}?${r}`,i;return t[0]!==s?(i=iz("img",{alt:"yas",className:"gravatar-account",height:25,src:s,style:{borderRadius:"50%"},width:25}),t[0]=s,t[1]=i):i=t[1],i};var Fv=()=>{let t=az(3),{config:e}=H(),{admin:o,routes:n}=e,{avatar:r,routes:s}=o,{account:i}=s,{admin:l}=n,{user:a}=Fe(),u=lz()===cz({adminRoute:l,path:i});if(!a?.email||r==="default"){let d;return t[0]!==u?(d=iF(ZD,{active:u}),t[0]=u,t[1]=d):d=t[1],d}if(r==="gravatar"){let d;return t[2]===Symbol.for("react.memo_cache_sentinel")?(d=iF(sF,{}),t[2]=d):d=t[2],d}};import{c as uz}from"react/compiler-runtime";import{jsx as dz}from"react/jsx-runtime";import{createContext as mz,use as fz,useState as pz}from"react";var aF=mz({Actions:{},setViewActions:()=>{}}),Tv=()=>fz(aF),hz=t=>{let e=uz(4),{Actions:o,children:n}=t,[r,s]=pz(o),i;return e[0]!==o||e[1]!==n||e[2]!==r?(i=dz(aF,{value:{Actions:{...r,...o},setViewActions:s},children:n}),e[0]=o,e[1]=n,e[2]=r,e[3]=i):i=e[3],i};import{c as gz}from"react/compiler-runtime";import{jsx as Cp,jsxs as uF}from"react/jsx-runtime";import"react";import{jsx as lF}from"react/jsx-runtime";import"react";var Rv=()=>lF("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:lF("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})});import{jsx as cF}from"react/jsx-runtime";import"react";var Av=()=>cF("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:cF("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})});var Ev="hamburger",Pv=t=>{let e=gz(4),{t:o}=$(),{closeIcon:n,isActive:r}=t,s=n===void 0?"x":n,i=r===void 0?!1:r,l;return e[0]!==s||e[1]!==i||e[2]!==o?(l=uF("div",{className:Ev,children:[!i&&Cp("div",{"aria-label":o("general:open"),className:`${Ev}__open-icon`,title:o("general:open"),children:Cp(Av,{})}),i&&uF("div",{"aria-label":o(s==="collapse"?"general:collapse":"general:close"),className:`${Ev}__close-icon`,title:o(s==="collapse"?"general:collapse":"general:close"),children:[s==="x"&&Cp(Rv,{}),s==="collapse"&&Cp(Ye,{direction:"left"})]})]}),e[0]=s,e[1]=i,e[2]=o,e[3]=l):l=e[3],l};import{c as Cz}from"react/compiler-runtime";import{jsx as Qi,jsxs as xz}from"react/jsx-runtime";import{getTranslation as yz}from"@payloadcms/translations";import{useRouter as wz}from"next/navigation.js";import*as yp from"qs-esm";import{Fragment as Sz}from"react";import{c as bz}from"react/compiler-runtime";import{jsx as dF,jsxs as Nv}from"react/jsx-runtime";import{getTranslation as vz}from"@payloadcms/translations";import"react";var Gu="localizer-button",xp=t=>{let e=bz(12),{ariaLabel:o,className:n}=t,r=Ie(),{i18n:s,t:i}=$(),l;e[0]!==o||e[1]!==i?(l=o||i("general:locale"),e[0]=o,e[1]=i,e[2]=l):l=e[2];let a;e[3]!==n?(a=[Gu,n].filter(Boolean),e[3]=n,e[4]=a):a=e[4];let c=a.join(" "),u=r?r.code:void 0,d=`${i("general:locale")}:`,f;return e[5]!==s||e[6]!==r.label||e[7]!==l||e[8]!==c||e[9]!==u||e[10]!==d?(f=Nv("div",{"aria-label":l,className:c,"data-locale":u,children:[Nv("div",{className:`${Gu}__label`,children:[d,"\xA0"]}),Nv("div",{className:`${Gu}__current`,children:[dF("span",{className:`${Gu}__current-label`,children:`${vz(r.label,s)}`}),dF(Ye,{className:`${Gu}__chevron`})]})]}),e[5]=s,e[6]=r.label,e[7]=l,e[8]=c,e[9]=u,e[10]=d,e[11]=f):f=e[11],f};var $v="localizer",mF=t=>{let e=Cz(17),{className:o}=t,{config:n}=H(),{localization:r}=n,s=wz(),{startRouteTransition:i}=Je(),{setLocaleIsLoading:l}=am(),{i18n:a}=$(),c=Ie();if(r){let{locales:u}=r,d;e[0]!==o?(d=[$v,o].filter(Boolean),e[0]=o,e[1]=d):d=e[1];let f=d.join(" "),m;if(e[2]!==a||e[3]!==c||e[4]!==u||e[5]!==s||e[6]!==l||e[7]!==i||e[8]!==f){let h;e[10]!==a||e[11]!==c||e[12]!==u||e[13]!==s||e[14]!==l||e[15]!==i?(h=p=>{let{close:g}=p;return Qi(_e.ButtonGroup,{children:u.map(b=>{let C=yz(b.label,a);return Qi(_e.Button,{active:c.code===b.code,disabled:c.code===b.code,onClick:()=>{l(!0),g();let v=new URLSearchParams(window.location.search),x=yp.stringify({...yp.parse(v.toString(),{depth:10,ignoreQueryPrefix:!0}),locale:b.code},{addQueryPrefix:!0});i(()=>{s.push(x)})},children:C!==b.code?xz(Sz,{children:[C,"\xA0",Qi("span",{className:`${$v}__locale-code`,"data-locale":b.code,children:`(${b.code})`})]}):Qi("span",{className:`${$v}__locale-code`,"data-locale":b.code,children:C})},b.code)})})},e[10]=a,e[11]=c,e[12]=u,e[13]=s,e[14]=l,e[15]=i,e[16]=h):h=e[16],m=Qi("div",{className:f,children:Qi(yt,{button:Qi(xp,{}),horizontalAlign:"right",render:h,showScrollbar:!0,size:"large"})}),e[2]=a,e[3]=c,e[4]=u,e[5]=s,e[6]=l,e[7]=i,e[8]=f,e[9]=m}else m=e[9];return m}return null};import{jsx as Iz}from"react/jsx-runtime";import{usePathname as _z}from"next/navigation.js";import Hu,{useEffect as zu,useRef as Dz}from"react";var fF=Hu.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),Ki=()=>Hu.use(fF),Fz=async t=>{let o=(await t("nav"))?.open;return typeof o=="boolean"?o:!0},pF=({children:t,initialIsOpen:e})=>{let{breakpoints:{l:o,m:n,s:r}}=Eo(),s=_z(),{getPreference:i}=mo(),l=Dz(null),[a,c]=Hu.useState(e),[u,d]=Hu.useState(!1),[f,m]=Hu.useState(!1);return zu(()=>{o===!1&&(async()=>{let p=await Fz(i);c(p)})()},[o,i,c]),zu(()=>{r===!0&&c(!1)},[s]),zu(()=>{l.current&&(a&&n?l.current.style.overscrollBehavior="contain":l.current.style.overscrollBehavior="auto")},[a,n]),zu(()=>{(o===!0||n===!0||r===!0)&&c(!1),m(!0);let h=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(h)}},[o,n,r]),zu(()=>()=>{l.current&&(l.current.style.overscrollBehavior="auto")},[]),Iz(fF,{value:{hydrated:f,navOpen:a,navRef:l,setNavOpen:c,shouldAnimate:u},children:t})};import{c as Tz}from"react/compiler-runtime";import{jsx as Rz}from"react/jsx-runtime";import"react";var hF="nav-toggler",Lv=t=>{let e=Tz(15),{id:o,children:n,className:r,tabIndex:s}=t,i=s===void 0?0:s,{t:l}=$(),{setPreference:a}=mo(),{navOpen:c,setNavOpen:u}=Ki(),{breakpoints:d}=Eo(),{l:f}=d,m=`${l(c?"general:close":"general:open")} ${l("general:menu")}`,h=c&&`${hF}--is-open`,p;e[0]!==r||e[1]!==h?(p=[hF,h,r].filter(Boolean),e[0]=r,e[1]=h,e[2]=p):p=e[2];let g=p.join(" "),b;e[3]!==f||e[4]!==c||e[5]!==u||e[6]!==a?(b=async()=>{u(!c),f||await a("nav",{open:!c},!0)},e[3]=f,e[4]=c,e[5]=u,e[6]=a,e[7]=b):b=e[7];let C;return e[8]!==n||e[9]!==o||e[10]!==m||e[11]!==g||e[12]!==b||e[13]!==i?(C=Rz("button",{"aria-label":m,className:g,id:o,onClick:b,tabIndex:i,type:"button",children:n}),e[8]=n,e[9]=o,e[10]=m,e[11]=g,e[12]=b,e[13]=i,e[14]=C):C=e[14],C};import{c as Bz}from"react/compiler-runtime";import{jsx as $o,jsxs as vF}from"react/jsx-runtime";import{getTranslation as Oz}from"@payloadcms/translations";import{Fragment as CF}from"react";import{jsx as gF,jsxs as Az}from"react/jsx-runtime";import"react";var wp=({fill:t})=>{let e=t||"var(--theme-elevation-1000)";return Az("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[gF("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:e}),gF("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:e})]})};import{c as Ez}from"react/compiler-runtime";import{jsx as Pz}from"react/jsx-runtime";import{createContext as Nz,use as $z,useState as Lz}from"react";var Cr=()=>$z(bF),bF=Nz({}),kv=t=>{let e=Ez(4),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];let[r,s]=Lz(n),i;return e[1]!==o||e[2]!==r?(i=Pz(bF,{value:{setStepNav:s,stepNav:r},children:o}),e[1]=o,e[2]=r,e[3]=i):i=e[3],i};import{c as kz}from"react/compiler-runtime";import{useEffect as jz}from"react";var Mz=t=>{let e=kz(4),{nav:o}=t,{setStepNav:n}=Cr(),r,s;return e[0]!==o||e[1]!==n?(r=()=>{n(o)},s=[n,o],e[0]=o,e[1]=n,e[2]=r,e[3]=s):(r=e[2],s=e[3]),jz(r,s),null};var Wu="step-nav",xF=t=>{let e=Bz(7),{className:o,CustomIcon:n}=t,{i18n:r}=$(),{stepNav:s}=Cr(),{config:i}=H(),{routes:l}=i,{admin:a}=l,{t:c}=$(),u;return e[0]!==n||e[1]!==a||e[2]!==o||e[3]!==r||e[4]!==s||e[5]!==c?(u=$o(CF,{children:s.length>0?vF("nav",{className:[Wu,o].filter(Boolean).join(" "),children:[$o(Vt,{className:`${Wu}__home`,href:a,prefetch:!1,tabIndex:0,children:$o("span",{title:c("general:dashboard"),children:$o(me,{CustomComponent:n,Fallback:$o(wp,{})})})}),$o("span",{children:"/"}),s.map((d,f)=>{let m=Oz(d.label,r);return s.length===f+1?$o("span",{className:`${Wu}__last`,children:m},f):vF(CF,{children:[d.url?$o(Vt,{href:d.url,prefetch:!1,children:$o("span",{children:m},f)}):$o("span",{children:m},f),$o("span",{children:"/"})]},f)})]}):$o("div",{className:[Wu,o].filter(Boolean).join(" "),children:$o("div",{className:`${Wu}__home`,children:$o("span",{title:c("general:dashboard"),children:$o(me,{CustomComponent:n,Fallback:$o(wp,{})})})})})}),e[0]=n,e[1]=a,e[2]=o,e[3]=r,e[4]=s,e[5]=c,e[6]=u):u=e[6],u};var Lo="app-header";function Wz({CustomAvatar:t,CustomIcon:e}){let{t:o}=$(),{Actions:n}=Tv(),{config:{admin:{routes:{account:r}},localization:s,routes:{admin:i}}}=H(),{navOpen:l}=Ki(),a=zz(null),[c,u]=Hz(!1);Gz(()=>{let f=()=>{let m=a.current;if(m){let h=m.scrollWidth>m.clientWidth;u(h)}};return f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[n]);let d=n?Object.values(n):[];return Sp("header",{className:[Lo,l&&`${Lo}--nav-open`].filter(Boolean).join(" "),children:[or("div",{className:`${Lo}__bg`}),or("div",{className:`${Lo}__content`,children:Sp("div",{className:`${Lo}__wrapper`,children:[or(Lv,{className:`${Lo}__mobile-nav-toggler`,tabIndex:-1,children:or(Pv,{})}),Sp("div",{className:`${Lo}__controls-wrapper`,children:[or("div",{className:`${Lo}__step-nav-wrapper`,children:or(xF,{className:`${Lo}__step-nav`,CustomIcon:e})}),Sp("div",{className:`${Lo}__actions-wrapper`,children:[or("div",{className:`${Lo}__actions`,ref:a,children:d.map((f,m)=>or("div",{className:c&&m===d.length-1?`${Lo}__last-action`:"",children:f},m))}),c&&or("div",{className:`${Lo}__gradient-placeholder`})]}),s&&or(xp,{ariaLabel:"invisible",className:`${Lo}__localizer-spacing`}),or(Vt,{"aria-label":o("authentication:account"),className:`${Lo}__account`,href:Vz({adminRoute:i,path:r}),prefetch:!1,tabIndex:0,children:or(me,{CustomComponent:t,Fallback:or(Fv,{})})})]})]})}),or(mF,{className:`${Lo}__localizer`})]})}import{jsx as jv,jsxs as Uz}from"react/jsx-runtime";import"react";var Uu="card",Xz=t=>{let{id:e,actions:o,buttonAriaLabel:n,href:r,onClick:s,title:i,titleAs:l}=t,a=[Uu,e,(s||r)&&`${Uu}--has-onclick`].filter(Boolean).join(" ");return Uz("div",{className:a,id:e,children:[jv(l??"div",{className:`${Uu}__title`,children:i}),o&&jv("div",{className:`${Uu}__actions`,children:o}),(s||r)&&jv(te,{"aria-label":n,buttonStyle:"none",className:`${Uu}__click`,el:"link",onClick:s,to:r})]})};import{c as Yz}from"react/compiler-runtime";import{jsx as Us,jsxs as Ip}from"react/jsx-runtime";import{getTranslation as Zz}from"@payloadcms/translations";import{useRouter as Jz}from"next/navigation.js";import{formatAdminURL as qz}from"payload/shared";import hl from"react";var _p="copy-locale-data",Dp="copy-locale",Mv=()=>{let t=Yz(38),{config:e}=H(),{localization:o,routes:n,serverURL:r}=e,{admin:s}=n,{code:i}=Ie(),{id:l,collectionSlug:a,globalSlug:c}=Pe(),{i18n:u,t:d}=$(),f=oo(),{toggleModal:m}=le(),{copyDataFromLocale:h}=At(),p=Jz(),{startRouteTransition:g}=Je(),b;t[0]!==o?(b=o&&o.locales.map(Qz)||[],t[0]=o,t[1]=b):b=t[1];let C=b,v;t[2]!==i?(v=G=>G.value!==i,t[2]=i,t[3]=v):v=t[3];let x=C.filter(v),y;t[4]!==u||t[5]!==o?(y=G=>{let z=o&&o.locales.find(Y=>Y.code===G);return z&&z.label?Zz(z.label,u):G},t[4]=u,t[5]=o,t[6]=y):y=t[6];let I=y,[w,D]=hl.useState(!1),[_,R]=hl.useState(null),[T,S]=hl.useState(i),[F,A]=hl.useState(!1),P,E;t[7]!==i||t[8]!==T?(P=()=>{T!==i&&S(i)},E=[i,T],t[7]=i,t[8]=T,t[9]=P,t[10]=E):(P=t[9],E=t[10]),hl.useEffect(P,E);let k;t[11]!==s||t[12]!==a||t[13]!==h||t[14]!==c||t[15]!==l||t[16]!==F||t[17]!==p||t[18]!==r||t[19]!==g||t[20]!==m?(k=async G=>{let{from:z,to:Y}=G;D(!0);try{await h({collectionSlug:a,docID:l,fromLocale:z,globalSlug:c,overrideData:F,toLocale:Y}),D(!1),g(()=>p.push(qz({adminRoute:s,path:`/${a?`collections/${a}/${l}`:`globals/${c}`}`,serverURL:r})+`?locale=${Y}`)),m(Dp)}catch(Q){let Z=Q;ue.error(Z.message)}},t[11]=s,t[12]=a,t[13]=h,t[14]=c,t[15]=l,t[16]=F,t[17]=p,t[18]=r,t[19]=g,t[20]=m,t[21]=k):k=t[21];let M=k;if(!l&&!c)return null;let N;t[22]!==f||t[23]!==d||t[24]!==m?(N=()=>{f?ue.info(d("general:unsavedChanges")):m(Dp)},t[22]=f,t[23]=d,t[24]=m,t[25]=N):N=t[25];let L;t[26]!==m?(L=()=>{m(Dp)},t[26]=m,t[27]=L):L=t[27];let O;t[28]!==M||t[29]!==w||t[30]!==T||t[31]!==d||t[32]!==_?(O=async()=>{if(T===_){ue.error(d("localization:cannotCopySameLocale"));return}w||await M({from:T,to:_})},t[28]=M,t[29]=w,t[30]=T,t[31]=d,t[32]=_,t[33]=O):O=t[33];let j;t[34]===Symbol.for("react.memo_cache_sentinel")?(j=G=>{G?.value&&S(G.value)},t[34]=j):j=t[34];let B;t[35]===Symbol.for("react.memo_cache_sentinel")?(B=G=>{G?.value&&R(G.value)},t[35]=B):B=t[35];let V;return t[36]!==F?(V=()=>A(!F),t[36]=F,t[37]=V):V=t[37],Ip(hl.Fragment,{children:[Us(_e.Button,{id:`${_p}__button`,onClick:N,children:d("localization:copyToLocale")}),Ip($t,{className:_p,gutter:!1,Header:Us(ol,{onClose:L,title:d("localization:copyToLocale")}),slug:Dp,children:[Ip("div",{className:`${_p}__sub-header`,children:[Us("span",{children:T&&_?Us("div",{children:d("localization:copyFromTo",{from:I(T),to:I(_)})}):d("localization:selectLocaleToCopy")}),Us(te,{buttonStyle:"primary",disabled:!T||!_,iconPosition:"left",onClick:O,size:"medium",children:w?d("general:copying")+"...":d("general:copy")})]}),Ip("div",{className:`${_p}__content`,children:[Us(qa,{label:d("localization:copyFrom"),name:"fromLocale",onChange:j,options:C,path:"fromLocale",readOnly:!0,value:T}),Us(qa,{label:d("localization:copyTo"),name:"toLocale",onChange:B,options:x,path:"toLocale",value:_}),Us(Ar,{checked:F,field:{name:"overwriteExisting",label:d("general:overwriteExistingData")},onChange:V,path:"overwriteExisting"})]})]})]})};function Qz(t){return{label:t.label,value:t.code}}import{c as sH}from"react/compiler-runtime";import{jsx as Ap,jsxs as iH}from"react/jsx-runtime";import{getTranslation as _F}from"@payloadcms/translations";import{useRouter as aH,useSearchParams as lH}from"next/navigation.js";import{mergeListSearchAndWhere as cH}from"payload/shared";import*as zv from"qs-esm";import Gv from"react";import{jsx as Kz}from"react/jsx-runtime";import{useSearchParams as eH}from"next/navigation.js";import*as wF from"qs-esm";import{createContext as tH,use as oH,useCallback as Fp,useEffect as yF,useRef as rH,useState as Bv}from"react";var io=function(t){return t.AllAvailable="allAvailable",t.AllInPage="allInPage",t.None="none",t.Some="some",t}({}),SF=tH({}),Ov=({children:t,docs:e=[],totalDocs:o,user:n})=>{let r=rH({}),{code:s}=Ie(),[i,l]=Bv(()=>{let b=new Map;return e.forEach(({id:C})=>{b.set(C,!1)}),b}),[a,c]=Bv("none"),[u,d]=Bv(0),f=eH(),m=Fp((b=!1)=>{let C=new Map;b?(c("allAvailable"),e.forEach(({id:v,_isLocked:x,_userEditing:y})=>{(!x||y?.id===n?.id)&&C.set(v,!0)})):a==="allAvailable"||a==="allInPage"?c("none"):e.forEach(({id:v,_isLocked:x,_userEditing:y})=>{(!x||y?.id===n?.id)&&C.set(v,a!=="some")}),l(C)},[e,a,n?.id]),h=Fp(b=>{let C=e.find(I=>I.id===b);if(C?._isLocked&&n?.id!==C?._userEditing.id)return;let v=i.get(b),x=typeof v=="boolean"?!v:!0,y=new Map(i.set(b,x));a==="allAvailable"&&!x&&c("some"),l(y)},[i,e,a,n?.id]),p=Fp(b=>{let C;if(a==="allAvailable")C=fo(f)?.where||{id:{not_equals:""}};else{let v=[];for(let[x,y]of i)y&&v.push(x);C={id:{in:v}}}return b&&(C={and:[{...b},C]}),wF.stringify({locale:s,where:C},{addQueryPrefix:!0})},[a,i,s,f]),g=Fp(()=>{let b=[];for(let[C,v]of i)v&&b.push(C);return b},[i]);return yF(()=>{if(a==="allAvailable")return;let b=!1,C=!0;if(!i.size)C=!1,b=!1;else for(let[v,x]of i)C=C&&x,b=b||x;C&&i.size===e.length?c("allInPage"):c(b?"some":"none")},[a,i,o,e]),yF(()=>{let b=0;if(a==="allAvailable")b=o;else for(let[C,v]of i)v&&b++;d(b)},[a,i,o]),r.current={count:u,getQueryParams:p,getSelectedIds:g,selectAll:a,selected:i,setSelection:h,toggleAll:m,totalDocs:o},Kz(SF,{value:r.current,children:t})},To=()=>oH(SF);import{c as nH}from"react/compiler-runtime";import{jsx as gl,jsxs as Vv}from"react/jsx-runtime";import IF from"react";var Tp="list-selection";function Rp(t){let e=nH(9),{count:o,ListActions:n,SelectionActions:r}=t,{t:s}=$(),i;if(e[0]!==n||e[1]!==r||e[2]!==o||e[3]!==s){let l;e[5]!==n?(l=n&&n.length>0&&Vv(IF.Fragment,{children:[gl("span",{children:"\u2014"}),gl("div",{className:`${Tp}__actions`,children:n})]}),e[5]=n,e[6]=l):l=e[6];let a;e[7]!==r?(a=r&&r.length>0&&Vv(IF.Fragment,{children:[gl("span",{children:"\u2014"}),gl("div",{className:`${Tp}__actions`,children:r})]}),e[7]=r,e[8]=a):a=e[8],i=Vv("div",{className:Tp,children:[gl("span",{children:s("general:selectedCount",{count:o,label:""})}),l,a]}),e[0]=n,e[1]=r,e[2]=o,e[3]=s,e[4]=i}else i=e[4];return i}function zo({children:t,className:e,...o}){return gl(te,{...o,buttonStyle:"none",className:[`${Tp}__button`,e].filter(Boolean).join(" "),children:t})}var DF="confirm-delete-many-docs",Hv=t=>{let e=sH(18),{collection:o}=t,n;e[0]!==o?(n=o===void 0?{}:o,e[0]=o,e[1]=n):n=e[1];let{slug:r}=n,{permissions:s}=Fe(),{count:i,getSelectedIds:l,selectAll:a,toggleAll:c}=To(),u=aH(),d=lH(),{clearRouteCache:f}=Jt(),h=s?.collections?.[r]?.delete;if(a===io.None||!h)return null;let p=a===io.AllAvailable,g;if(e[2]!==f||e[3]!==i||e[4]!==l||e[5]!==u||e[6]!==d||e[7]!==a||e[8]!==p||e[9]!==r||e[10]!==c){let b=p?[]:l(),C;e[12]!==f||e[13]!==u||e[14]!==d||e[15]!==a||e[16]!==c?(C=()=>{c(),u.replace(zv.stringify({...fo(d),page:a?"1":void 0},{addQueryPrefix:!0})),f()},e[12]=f,e[13]=u,e[14]=d,e[15]=a,e[16]=c,e[17]=C):C=e[17],g=Ap(Gv.Fragment,{children:Ap(Wv,{afterDelete:C,search:fo(d)?.search,selections:{[r]:{all:a===io.AllAvailable,ids:b,totalCount:p?i:b.length}},where:fo(d)?.where})}),e[2]=f,e[3]=i,e[4]=l,e[5]=u,e[6]=d,e[7]=a,e[8]=p,e[9]=r,e[10]=c,e[11]=g}else g=e[11];return g};function Wv({afterDelete:t,search:e,selections:o,where:n}){let{t:r}=$(),{config:{collections:s,routes:{api:i},serverURL:l}}=H(),{code:a}=Ie(),{i18n:c}=$(),{openModal:u}=le(),d=Gv.useCallback(async()=>{let h=Object.keys(o).length===1,p={};for(let[g,{all:b,ids:C=[]}]of Object.entries(o)){let v=s.find(({slug:x})=>x===g);if(v){let x;b?h&&n?x=n:x={id:{not_equals:""}}:x={id:{in:C}};let y=await tt.delete(`${l}${i}/${g}${zv.stringify({limit:0,locale:a,where:cH({collectionConfig:v,search:e,where:x})},{addQueryPrefix:!0})}`,{headers:{"Accept-Language":c.language,"Content-Type":"application/json"}});try{let{plural:I,singular:w}=v.labels,D=await y.json(),_=D?.docs.length||0,R=_>1?I:w;(y.status<400||_>0)&&ue.success(r("general:deletedCountSuccessfully",{count:_,label:_F(R,c)})),D?.errors.length>0&&ue.error(D.message,{description:D.errors.map(T=>T.message).join(`
`)}),p[g]={deletedCount:_,errors:D?.errors||null,ids:D?.docs.map(T=>T.id)||[],totalCount:D.totalDocs},y.status>400&&D?.errors.length===0&&(ue.error(r("error:unknown")),p[g].errors=[r("error:unknown")]);continue}catch(I){ue.error(r("error:unknown")),p[g]={deletedCount:0,errors:[I],ids:[],totalCount:0};continue}}}typeof t=="function"&&t(p)},[o,t,s,a,e,l,i,c,n,r]),{label:f,labelCount:m}=Object.entries(o).reduce((h,[p,g],b,C)=>{let v=s.find(({slug:x})=>x===p);if(v){let x=h.labelCount===void 0?g.totalCount:h.labelCount,y=`${h.labelCount!==void 0?`${g.totalCount} `:""}${_F(g.totalCount>1?v.labels.plural:v.labels.singular,c)}`,I;return b===C.length-1&&b!==0?I=`${h.label} and ${y}`:b>0?I=`${h.label}, ${y}`:I=y,{label:I,labelCount:x}}return h},{label:"",labelCount:void 0});return iH(Gv.Fragment,{children:[Ap(zo,{"aria-label":r("general:delete"),className:"delete-documents__toggle",onClick:()=>{u(DF)},children:r("general:delete")}),Ap(ht,{body:r("general:aboutToDeleteCount",{count:m,label:f}),confirmingLabel:r("general:deleting"),heading:r("general:confirmDeletion"),modalSlug:DF,onConfirm:d})]})}import{c as XH}from"react/compiler-runtime";import{jsx as lt,jsxs as Ro}from"react/jsx-runtime";import{getTranslation as YH}from"@payloadcms/translations";import{formatAdminURL as ZH}from"payload/shared";import Kv,{Fragment as Yu,useEffect as JH}from"react";import{jsx as TF,jsxs as dH}from"react/jsx-runtime";import{dequal as mH}from"dequal/lite";import{reduceFieldsToValues as RF,versionDefaults as fH}from"payload/shared";import pH,{useDeferredValue as hH,useEffect as AF,useRef as ea,useState as gH}from"react";import{unflatten as uH}from"payload/shared";var FF=(t,e,o)=>{let n={data:{},valid:!0};return t&&(Object.keys(t).forEach(r=>{(o===!0||!t[r]?.disableFormData)&&(n.data[r]=t[r]?.value,t[r].valid||(n.valid=!1))}),e&&(n.data=uH(n.data))),n};var bH="autosave",EF=1e3,PF=({id:t,collection:e,global:o})=>{let{config:{routes:{api:n},serverURL:r}}=H(),{docConfig:s,incrementVersionCount:i,lastUpdateTime:l,mostRecentVersionIsAutosaved:a,setLastUpdateTime:c,setMostRecentVersionIsAutosaved:u,setUnpublishedVersionCount:d,updateSavedDocumentData:f}=Pe(),{reportUpdate:m}=Vi(),{dispatchFields:h,isValid:p,setBackgroundProcessing:g,setIsValid:b,setSubmitted:C}=Be(),[v]=ua(),x=oo(),y=to(),{code:I}=Ie(),{i18n:w,t:D}=$(),_=s?.versions,R=fH.autosaveInterval;_.drafts&&_.drafts.autosave&&(R=_.drafts.autosave.interval);let T=!!(s?.versions?.drafts&&s?.versions?.drafts.validate),[S,F]=gH(!1),A=hH(S),P=ar(v,R),E=ea(v),k=ea(x),M=ea(I),N=ea(p);E.current=v,k.current=x,M.current=I;let{queueTask:L}=Xa(),O=ea(null),j=Gt(()=>{O.current=void 0;let z,Y,Q=()=>{Y-z<EF?O.current=setTimeout(()=>{F(!1)},EF-(Y-z)):G()};L(async()=>{if(x){z=new Date().getTime(),F(!0);let Z,X,q;if(e&&t&&(q=e.slug,Z=`${r}${n}/${q}/${t}?draft=true&autosave=true&locale=${M.current}`,X="PATCH"),o&&(q=o.slug,Z=`${r}${n}/globals/${q}?draft=true&autosave=true&locale=${M.current}`,X="POST"),Z&&k.current){let{data:W,valid:ee}=FF(E.current,!0);if(W._status="draft",!(y&&!ee&&_?.drafts&&_?.drafts?.validate)&&N.current){let ae;try{ae=await fetch(Z,{body:JSON.stringify(W),credentials:"include",headers:{"Accept-Language":w.language,"Content-Type":"application/json"},method:X})}catch{}let Se=new Date;Y=Se.getTime(),ae.status===200&&(c(Se.getTime()),m({id:t,entitySlug:q,updatedAt:Se.toISOString()}),a||(i(),u(!0),d(se=>se+1)));let K=await ae.json();if(_?.drafts&&_?.drafts?.validate&&K?.errors){if(Array.isArray(K.errors)){let[se,ge]=K.errors.reduce(([ye,oe],fe)=>{let he=[],ie=[];return fe?.message&&ie.push(fe),Array.isArray(fe?.data)&&fe.data.forEach(de=>{de?.field?he.push(de):ie.push(de)}),[[...ye,...he],[...oe,...ie]]},[[],[]]);h({type:"ADD_SERVER_ERRORS",errors:se}),ge.forEach(ye=>{ue.error(ye.message||w.t("error:unknown"))}),N.current=!1,b(!1),C(!0),Q();return}}else{let se=K?.doc||K?.result;se&&(b(!0),N.current=!0,f(se))}Q()}}}},{afterProcess:()=>{g(!1)},beforeProcess:()=>{if(!N.current)return N.current=!0,!1;g(!0)}})}),B=ea(!1),V=ea(RF(P));AF(()=>{if(!B.current){B.current=!0;return}let z=RF(P);mH(z,V)||(V.current=z,j())},[P]),AF(()=>()=>{G()},[]);let G=Gt(()=>{O.current&&clearTimeout(O.current),F(!1)});return dH("div",{className:bH,children:[T&&!p&&TF(Mu,{}),A&&D("general:saving"),!A&&!!l&&TF(pH.Fragment,{children:D("version:lastSavedAgo",{distance:wg({date:l,i18n:w})})})]})};import{jsx as Ep,jsxs as vH}from"react/jsx-runtime";import{getTranslation as NF}from"@payloadcms/translations";import{useRouter as CH}from"next/navigation.js";import{formatAdminURL as xH}from"payload/shared";import yH,{useCallback as $F}from"react";var LF=t=>{let{id:e,buttonId:o,collectionSlug:n,onDelete:r,redirectAfterDelete:s=!0,singularLabel:i,title:l}=t,{config:{routes:{admin:a,api:c},serverURL:u},getEntityConfig:d}=H(),f=d({collectionSlug:n}),{setModified:m}=Be(),h=CH(),{i18n:p,t:g}=$(),{title:b}=lr(),{startRouteTransition:C}=Je(),{openModal:v}=le(),x=`delete-${e}`,y=$F(()=>{ue.error(g("error:deletingTitle",{title:b}))},[g,b]),I=$F(async()=>{m(!1);try{await tt.delete(`${u}${c}/${n}/${e}`,{headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}).then(async w=>{try{let D=await w.json();if(w.status<400){if(ue.success(g("general:titleDeleted",{label:NF(i,p),title:b})||D.message),s)return C(()=>h.push(xH({adminRoute:a,path:`/collections/${n}`})));typeof r=="function"&&await r({id:e,collectionConfig:f});return}return D.errors?D.errors.forEach(_=>ue.error(_.message)):y(),!1}catch{return y()}})}catch{return y()}},[m,u,c,n,e,g,i,y,p,b,h,a,s,r,f,C]);return e?vH(yH.Fragment,{children:[Ep(_e.Button,{id:o,onClick:()=>{v(x)},children:g("general:delete")}),Ep(ht,{body:Ep(er,{elements:{1:({children:w})=>Ep("strong",{children:w})},i18nKey:"general:aboutToDelete",t:g,variables:{label:NF(i,p),title:l||b||e}}),confirmingLabel:g("general:deleting"),heading:g("general:confirmDeletion"),modalSlug:x,onConfirm:I})]}):null};import{jsx as kF,jsxs as wH}from"react/jsx-runtime";import{getTranslation as jF}from"@payloadcms/translations";import{useRouter as SH}from"next/navigation.js";import{formatAdminURL as IH}from"payload/shared";import MF,{useCallback as BF}from"react";var OF=({id:t,slug:e,onDuplicate:o,redirectAfterDuplicate:n=!0,singularLabel:r})=>{let s=SH(),i=oo(),{openModal:l}=le(),a=Ie(),{setModified:c}=Be(),{startRouteTransition:u}=Je(),{config:{routes:{admin:d,api:f},serverURL:m},getEntityConfig:h}=H(),p=h({collectionSlug:e}),[g,b]=MF.useState(!1),{i18n:C,t:v}=$(),x=`duplicate-${t}`,y=BF(async()=>{b(!0),await tt.post(`${m}${f}/${e}/${t}/duplicate${a?.code?`?locale=${a.code}`:""}`,{body:JSON.stringify({}),headers:{"Accept-Language":C.language,"Content-Type":"application/json",credentials:"include"}}).then(async w=>{let{doc:D,errors:_,message:R}=await w.json();if(w.status<400){if(ue.success(R||v("general:successfullyDuplicated",{label:jF(r,C)})),c(!1),n)return u(()=>s.push(IH({adminRoute:d,path:`/collections/${e}/${D.id}${a?.code?`?locale=${a.code}`:""}`})));typeof o=="function"&&o({collectionConfig:p,doc:D})}else ue.error(_?.[0].message||R||v("error:unspecific",{label:jF(r,C)}))})},[a,m,f,e,t,C,v,r,o,n,c,s,d,p,u]),I=BF(async()=>{b(!1),await y()},[y]);return wH(MF.Fragment,{children:[kF(_e.Button,{id:"action-duplicate",onClick:()=>i?(b(!0),l(x)):y(),children:v("general:duplicate")}),g&&kF(ht,{body:v("general:unsavedChangesDuplicate"),confirmLabel:v("general:duplicateWithoutSaving"),heading:v("general:unsavedChanges"),modalSlug:x,onConfirm:I})]})};import{c as DH}from"react/compiler-runtime";import{jsx as zF,jsxs as FH}from"react/jsx-runtime";import{useState as TH}from"react";import{jsx as VF,jsxs as _H}from"react/jsx-runtime";import"react";var GF=({className:t})=>_H("svg",{className:["icon icon--lock",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[VF("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),VF("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]});var HF="locked",Xu=t=>{let e=DH(8),{className:o,user:n}=t,[r,s]=TH(!1),{t:i}=$(),l=bp(n)?n.email??n.id:i("general:anotherUser"),a;e[0]!==o?(a=[HF,o].filter(Boolean),e[0]=o,e[1]=a):a=e[1];let c=a.join(" "),u,d;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>s(!0),d=()=>s(!1),e[2]=u,e[3]=d):(u=e[2],d=e[3]);let f=`${l} ${i("general:isEditing")}`,m;return e[4]!==r||e[5]!==c||e[6]!==f?(m=FH("div",{className:c,onMouseEnter:u,onMouseLeave:d,role:"button",tabIndex:0,children:[zF(Io,{alignCaret:"left",className:`${HF}__tooltip`,position:"top",show:r,children:f}),zF(GF,{})]}),e[4]=r,e[5]=c,e[6]=f,e[7]=m):m=e[7],m};import{c as EH}from"react/compiler-runtime";import{jsx as PH}from"react/jsx-runtime";import"react";import*as UF from"qs-esm";import{useCallback as RH,useRef as AH,useState as WF}from"react";var XF=()=>{let{id:t,collectionSlug:e,globalSlug:o,versionCount:n}=Pe(),[r,s]=WF(!1),[i,l]=WF(""),{code:a}=Ie(),c=n>0,{config:{routes:{api:u},serverURL:d}}=H(),{t:f}=$(),m=AH(!1);return{generatePreviewURL:RH(async({openPreviewWindow:p=!1})=>{if(!m.current){m.current=!0;try{s(!0);let g=`${d}${u}`;e&&(g=`${g}/${e}/${t}/preview`),o&&(g=`${g}/globals/${o}/preview`);let C=await fetch(`${g}?${UF.stringify({draft:c?"true":"false",locale:a||void 0})}`);if(!C.ok)throw new Error;let v=await C.json();if(!v)throw new Error;l(v),s(!1),m.current=!1,p&&window.open(v,"_blank")}catch{s(!1),m.current=!1,ue.error(f("error:previewing"))}}},[d,u,e,o,c,a,t,f]),isLoading:r,label:f(r?"general:loading":"version:preview"),previewURL:i}};var NH="preview-btn";function Uv(t){let e=EH(5),{generatePreviewURL:o,label:n}=XF(),r;e[0]!==o?(r=()=>o({openPreviewWindow:!0}),e[0]=o,e[1]=r):r=e[1];let s;return e[2]!==n||e[3]!==r?(s=PH(te,{buttonStyle:"secondary",className:NH,icon:"link",iconPosition:"left",onClick:r,size:"medium",children:n}),e[2]=n,e[3]=r,e[4]=s):s=e[4],s}import{jsx as vl,jsxs as KF}from"react/jsx-runtime";import*as e6 from"qs-esm";import Yv,{useCallback as Zv}from"react";import{jsx as Qt,jsxs as ta}from"react/jsx-runtime";import{getTranslation as jH}from"@payloadcms/translations";import*as qF from"qs-esm";import Ho,{useCallback as MH,useMemo as BH}from"react";import{jsx as Xs,jsxs as $H}from"react/jsx-runtime";import"react";var YF="table",Xv=({appearance:t,columns:e,data:o})=>{let n=e?.filter(r=>r?.active);return!n||n.length===0?Xs("div",{children:"No columns selected"}):Xs("div",{className:[YF,t&&`${YF}--appearance-${t}`].filter(Boolean).join(" "),children:$H("table",{cellPadding:"0",cellSpacing:"0",children:[Xs("thead",{children:Xs("tr",{children:n.map((r,s)=>Xs("th",{id:`heading-${r.accessor.replace(/\./g,"__")}`,children:r.Heading},s))})}),Xs("tbody",{children:o&&o.map((r,s)=>Xs("tr",{className:`row-${s+1}`,children:n.map((i,l)=>{let{accessor:a}=i;return Xs("td",{className:`cell-${a.replace(/\./g,"__")}`,children:i.renderedCells[s]},l)})},typeof r.id=="string"||typeof r.id=="number"?String(r.id):s))})]})})};import{jsx as Sn,jsxs as LH}from"react/jsx-runtime";import{getTranslation as kH}from"@payloadcms/translations";import"react";var ZF=({dateFormat:t,deleteHandler:e,docs:o,i18n:n,localization:r,supportedTimezones:s,t:i})=>{let l=[{accessor:"input.type",active:!0,field:{name:"",type:"text"},Heading:Sn("span",{children:i("version:type")}),renderedCells:o.map(a=>{let c=a.input?.type;return LH(dt,{pillStyle:c==="publish"?"success":"warning",size:"small",children:[c==="publish"&&i("version:publish"),c==="unpublish"&&i("version:unpublish")]},a.id)})},{accessor:"waitUntil",active:!0,field:{name:"",type:"date"},Heading:Sn("span",{children:i("general:time")}),renderedCells:o.map(a=>Sn("span",{children:Rr({date:a.waitUntil,i18n:n,pattern:t,timezone:a.input.timezone})},a.id))},{accessor:"input.timezone",active:!0,field:{name:"",type:"text"},Heading:Sn("span",{children:i("general:timezone")}),renderedCells:o.map(a=>{let u=s.find(d=>d.value===a.input.timezone)?.label||a.input.timezone;return Sn("span",{children:u||i("general:noValue")},a.id)})}];return r&&l.push({accessor:"input.locale",active:!0,field:{name:"",type:"text"},Heading:Sn("span",{children:i("general:locale")}),renderedCells:o.map(a=>{if(a.input.locale){let c=r.locales.find(u=>u.code===a.input.locale);if(c)return Sn("span",{children:kH(c.label,n)},a.id)}return Sn("span",{children:i("general:all")},a.id)})}),l.push({accessor:"delete",active:!0,field:{name:"delete",type:"text"},Heading:Sn("span",{children:i("general:delete")}),renderedCells:o.map(a=>Sn(te,{buttonStyle:"icon-label",className:"schedule-publish__delete",icon:"x",onClick:c=>{c.preventDefault(),e(a.id)},tooltip:i("general:delete")},a.id))}),l};var bl="schedule-publish",JF={label:"All",value:"all"},QF=({slug:t,defaultType:e,schedulePublishConfig:o})=>{let{toggleModal:n}=le(),{config:{admin:{dateFormat:r,timezones:{defaultTimezone:s,supportedTimezones:i}},localization:l,routes:{api:a},serverURL:c}}=H(),{id:u,collectionSlug:d,globalSlug:f}=Pe(),{title:m}=lr(),{i18n:h,t:p}=$(),{schedulePublish:g}=At(),[b,C]=Ho.useState(e||"publish"),[v,x]=Ho.useState(),[y,I]=Ho.useState(s),[w,D]=Ho.useState(JF),[_,R]=Ho.useState(!1),T=p("general:schedulePublishFor",{title:m}),[S,F]=Ho.useState(),[A,P]=Ho.useState(),E=Ho.useRef(()=>null),k=Intl.DateTimeFormat().resolvedOptions().timeZone,M=Ho.useMemo(()=>{if(l){let V=l.locales.map(({code:G,label:z})=>({label:jH(z,h),value:G}));return V.unshift(JF),V}return[]},[l,h]),N=Ho.useCallback(async()=>{let V={sort:"waitUntil",where:{and:[{taskSlug:{equals:"schedulePublish"}},{waitUntil:{greater_than:new Date}}]}};d&&(V.where.and.push({"input.doc.value":{equals:String(u)}}),V.where.and.push({"input.doc.relationTo":{equals:d}})),f&&V.where.and.push({"input.global":{equals:f}});let{docs:G}=await tt.post(`${c}${a}/payload-jobs`,{body:qF.stringify(V),headers:{"Accept-Language":h.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"}}).then(z=>z.json());P(ZF({dateFormat:r,deleteHandler:E.current,docs:G,i18n:h,localization:l,supportedTimezones:i,t:p})),F(G)},[d,f,c,a,h,r,l,i,p,u]),L=Ho.useCallback(async V=>{try{await g({deleteID:V}),await N(),ue.success(p("general:deletedSuccessfully"))}catch(G){console.error(G),ue.error(G.message)}},[N,g,p]);Ho.useEffect(()=>{E.current=L},[L]);let O=Ho.useCallback(async()=>{if(!v)return ue.error(p("general:noDateSelected"));R(!0);let V;typeof w=="object"&&w.value!=="all"&&b==="publish"&&(V=w.value);try{await g({type:b,date:v,doc:d?{relationTo:d,value:String(u)}:void 0,global:f||void 0,locale:V,timezone:y}),x(void 0),ue.success(p("version:scheduledSuccessfully")),N()}catch(G){console.error(G),ue.error(G.message)}R(!1)},[v,w,b,p,g,d,u,f,y,N]),j=BH(()=>{if(y&&k&&v){let V=Yt.tz(y),G=Yt.tz(k),z=new Yt(v).withTimeZone(y),Y=Yr(z,V);return Yr(Y,G).toISOString()}return v},[y,v,k]),B=MH(V=>{if(y&&V){let G=Yt.tz(y),z=new Yt(V),Y=Yr(z,G);x(Y||null)}else x(V||null)},[x,y]);return Ho.useEffect(()=>{S||(async()=>await N())()},[S,N]),ta($t,{className:bl,gutter:!1,Header:ta("div",{className:`${bl}__drawer-header`,children:[Qt("h2",{title:T,children:T}),Qt(kf,{onClick:()=>n(t)})]}),slug:t,children:[ta(bo,{className:`${bl}__scheduler`,children:[Qt(we,{label:p("version:type"),required:!0}),ta("ul",{className:`${bl}__type`,children:[Qt("li",{children:Qt(Jc,{id:`${t}-type`,isSelected:b==="publish",onChange:()=>C("publish"),option:{label:p("version:publish"),value:"publish"},path:`${t}-type`,readOnly:_})}),Qt("li",{children:Qt(Jc,{id:`${t}-type`,isSelected:b==="unpublish",onChange:()=>C("unpublish"),option:{label:p("version:unpublish"),value:"unpublish"},path:`${t}-type`,readOnly:_})})]}),Qt("br",{}),Qt(we,{label:p("general:time"),path:"time",required:!0}),Qt(Da,{id:"time",minDate:new Date,onChange:V=>B(V),pickerAppearance:"dayAndTime",readOnly:_,timeFormat:o?.timeFormat,timeIntervals:o?.timeIntervals??5,value:j}),i.length>0&&Qt(Nc,{id:"timezone-picker",onChange:I,options:i,selectedTimezone:y}),Qt("br",{}),M.length>0&&b==="publish"&&ta(Ho.Fragment,{children:[Qt(we,{label:p("localization:localeToPublish")}),Qt(ft,{onChange:V=>D(V),options:M,value:w}),Qt("br",{})]}),ta("div",{className:`${bl}__actions`,children:[Qt(te,{buttonStyle:"primary",disabled:_,id:"scheduled-publish-save",onClick:O,type:"button",children:p("general:save")}),_?Qt("span",{children:p("general:saving")}):null]})]}),ta(bo,{className:`${bl}__upcoming`,children:[Qt("h4",{children:p("general:upcomingEvents")}),!S&&Qt(Nt,{}),S?.length===0&&Qt(Hr,{type:"info",children:p("general:noUpcomingEventsScheduled")}),S?.length>0&&Qt(Xv,{appearance:"condensed",columns:A,data:S})]})]})};function Jv({label:t}){let{id:e,collectionSlug:o,docConfig:n,globalSlug:r,hasPublishedDoc:s,hasPublishPermission:i,setHasPublishedDoc:l,setMostRecentVersionIsAutosaved:a,setUnpublishedVersionCount:c,unpublishedVersionCount:u,uploadStatus:d}=Pe(),{config:f,getEntityConfig:m}=H(),{submit:h}=Be(),p=oo(),g=et(),{code:b}=Ie(),{isModalOpen:C,toggleModal:v}=le(),x=`schedule-publish-${e}`,{localization:y,routes:{api:I},serverURL:w}=f,{t:D}=$(),_=t||D("version:publishChanges"),R=Yv.useMemo(()=>{if(o)return m({collectionSlug:o});if(r)return m({globalSlug:r})},[o,r,m]),T=u>0,S=typeof R?.versions?.drafts=="object"&&R?.versions?.drafts.schedulePublish,F=i&&(p||T||!s)&&d!=="uploading",A=!!S,P=!!(typeof R?.versions?.drafts=="object"&&R?.versions?.drafts.autosave),E=!!(A&&i&&(r||o&&e)&&(P||!p)),M=ur()==="update"&&!p,N=Zv(async()=>{if(M)return;let Z=`?locale=${b}&depth=0&fallback-locale=null&draft=true`,X,q="POST";o&&(X=`${w}${I}/${o}${e?`/${e}`:""}${Z}`,e&&(q="PATCH")),r&&(X=`${w}${I}/globals/${r}${Z}`),await h({action:X,method:q,overrides:{_status:"draft"},skipValidation:!0})},[h,o,r,w,I,b,e,M]);Ji({cmdCtrlKey:!0,editDepth:g,keyCodes:["s"]},Z=>{Z.preventDefault(),Z.stopPropagation(),N&&n.versions?.drafts&&n.versions?.drafts?.autosave&&N()});let L=Zv(()=>{d!=="uploading"&&(h({overrides:{_status:"published"}}),c(0),a(!1),l(!0))},[l,h,c,d,a]),O=Zv(Z=>{if(d==="uploading")return;let X=e6.stringify({publishSpecificLocale:Z}),q=`${w}${I}${r?`/globals/${r}`:`/${o}/${e?`${"/"+e}`:""}`}${X?"?"+X:""}`;h({action:q,overrides:{_status:"published"}}),l(!0)},[I,o,r,e,w,l,h,d]),j=!y||y&&y.defaultLocalePublishOption!=="active",B=y&&y?.locales.find(Z=>typeof Z=="string"?Z===b:Z.code===b),V=B&&(typeof B.label=="string"?B.label:B.label?.[b]??void 0),G=j?L:()=>O(B.code),z=j?_:D("version:publishIn",{locale:V}),Y=j?()=>O(B.code):L,Q=j?D("version:publishIn",{locale:V}):D("version:publishAllLocales");return i?KF(Yv.Fragment,{children:[vl(vr,{buttonId:"action-save",disabled:!F,enableSubMenu:E,onClick:G,size:"medium",SubMenuPopupContent:y||E?({close:Z})=>KF(Yv.Fragment,{children:[E&&vl(_e.ButtonGroup,{children:vl(_e.Button,{id:"schedule-publish",onClick:()=>[v(x),Z()],children:D("version:schedulePublish")})},"schedule-publish"),y&&F&&vl(_e.ButtonGroup,{children:vl(_e.Button,{id:"publish-locale",onClick:Y,children:Q})})]}):void 0,type:"button",children:y?z:_}),E&&C(x)&&vl(QF,{defaultType:T?"publish":"unpublish",schedulePublishConfig:typeof S=="object"&&S,slug:x})]}):null}import{jsx as OH}from"react/jsx-runtime";import{useRef as VH}from"react";function qv({label:t}){let{uploadStatus:e}=Pe(),{t:o}=$(),{submit:n}=Be(),r=oo(),s=t||o("general:save"),i=VH(null),l=et(),c=ur()==="update"&&!r||e==="uploading";return Ji({cmdCtrlKey:!0,editDepth:l,keyCodes:["s"]},d=>{d.preventDefault(),d.stopPropagation(),i?.current&&i.current.click()}),OH(vr,{buttonId:"action-save",disabled:c,onClick:()=>{if(e!=="uploading")return void n()},ref:i,size:"medium",type:"button",children:s})}import{jsx as GH}from"react/jsx-runtime";import{useCallback as zH,useRef as HH}from"react";var WH="save-draft";function Qv(t){let{config:{routes:{api:e},serverURL:o}}=H(),{id:n,collectionSlug:r,globalSlug:s,setUnpublishedVersionCount:i,uploadStatus:l}=Pe(),a=oo(),{code:c}=Ie(),u=HH(null),d=et(),{t:f}=$(),{submit:m}=Be(),p=ur()==="update"&&!a||l==="uploading",g=zH(async()=>{if(p)return;let b=`?locale=${c}&depth=0&fallback-locale=null&draft=true`,C,v="POST";r&&(C=`${o}${e}/${r}${n?`/${n}`:""}${b}`,n&&(v="PATCH")),s&&(C=`${o}${e}/globals/${s}${b}`),await m({action:C,method:v,overrides:{_status:"draft"},skipValidation:!0}),i(x=>x+1)},[m,r,s,o,e,c,n,p,i]);return Ji({cmdCtrlKey:!0,editDepth:d,keyCodes:["s"]},b=>{b.preventDefault(),b.stopPropagation(),u?.current&&u.current.click()}),GH(vr,{buttonId:"action-save-draft",buttonStyle:"secondary",className:WH,disabled:p,onClick:()=>void g(),ref:u,size:"medium",type:"button",children:f("version:saveDraft")})}import{jsx as Cl,jsxs as Pp}from"react/jsx-runtime";import t6,{useCallback as UH}from"react";var xl="status",o6=()=>{let{id:t,collectionSlug:e,docPermissions:o,globalSlug:n,hasPublishedDoc:r,incrementVersionCount:s,setHasPublishedDoc:i,setMostRecentVersionIsAutosaved:l,setUnpublishedVersionCount:a,unpublishedVersionCount:c}=Pe(),{toggleModal:u}=le(),{config:{routes:{api:d},serverURL:f}}=H(),{reset:m}=Be(),{code:h}=Ie(),{i18n:p,t:g}=$(),b=`confirm-un-publish-${t}`,C=`confirm-revert-${t}`,v;c>0&&r?v="changed":r?r&&c<=0&&(v="published"):v="draft";let x=UH(async I=>{let w,D,_;I==="unpublish"&&(_={_status:"draft"}),e&&(w=`${f}${d}/${e}/${t}?locale=${h}&fallback-locale=null&depth=0`,D="patch"),n&&(w=`${f}${d}/globals/${n}?locale=${h}&fallback-locale=null&depth=0`,D="post"),I==="revert"&&(_=await tt.get(w,{headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}).then(S=>S.json()));let R=await tt[D](w,{body:JSON.stringify(_),headers:{"Accept-Language":p.language,"Content-Type":"application/json"}});if(R.status===200){let T,S=await R.json();n?T=S.result:e&&(T=S.doc),m(T),ue.success(S.message),s(),l(!1),I==="unpublish"?i(!1):I==="revert"&&a(0)}else try{let T=await R.json();T.errors?.[0]?.message?ue.error(T.errors[0].message):T.error?ue.error(T.error):ue.error(g("error:unPublishingDocument"))}catch{ue.error(g("error:unPublishingDocument"))}},[d,e,n,t,p.language,s,h,m,f,a,l,g,i]),y=o?.update;return v?Cl("div",{className:xl,title:`${g("version:status")}: ${g(`version:${v}`)}`,children:Pp("div",{className:`${xl}__value-wrap`,children:[Pp("span",{className:`${xl}__label`,children:[g("version:status"),":\xA0"]}),Cl("span",{className:`${xl}__value`,children:g(`version:${v}`)}),y&&v==="published"&&Pp(t6.Fragment,{children:["\xA0\u2014\xA0",Cl(te,{buttonStyle:"none",className:`${xl}__action`,id:"action-unpublish",onClick:()=>u(b),children:g("version:unpublish")}),Cl(ht,{body:g("version:aboutToUnpublish"),confirmingLabel:g("version:unpublishing"),heading:g("version:confirmUnpublish"),modalSlug:b,onConfirm:()=>x("unpublish")})]}),y&&v==="changed"&&Pp(t6.Fragment,{children:["\xA0\u2014\xA0",Cl(te,{buttonStyle:"none",className:`${xl}__action`,id:"action-revert-to-published",onClick:()=>u(C),children:g("version:revertToPublished")}),Cl(ht,{body:g("version:aboutToRevertToPublished"),confirmingLabel:g("version:reverting"),heading:g("version:confirmRevertToSaved"),modalSlug:C,onConfirm:()=>x("revert")})]})]})}):null};var jt="doc-controls",e0=t=>{let e=XH(12),{id:o,slug:n,BeforeDocumentControls:r,customComponents:s,data:i,disableActions:l,disableCreate:a,EditMenuItems:c,hasSavePermission:u,isAccountView:d,isEditing:f,onDelete:m,onDrawerCreateNew:h,onDuplicate:p,onTakeOver:g,permissions:b,readOnlyForIncomingUser:C,redirectAfterDelete:v,redirectAfterDuplicate:x,user:y}=t,I;e[0]!==s?(I=s===void 0?{}:s,e[0]=s,e[1]=I):I=e[1];let{PreviewButton:w,PublishButton:D,SaveButton:_,SaveDraftButton:R}=I,{i18n:T,t:S}=$(),F=et(),{config:A,getEntityConfig:P}=H(),E=P({collectionSlug:n}),k=P({globalSlug:n}),{admin:M,localization:N,routes:L}=A,{dateFormat:O}=M,{admin:j}=L,[B,V]=Kv.useState(""),[G,z]=Kv.useState(""),Y=Dr(),Q=oi(),Z,X;e[2]!==i||e[3]!==O||e[4]!==T?(Z=()=>{i?.updatedAt&&V(Rr({date:i.updatedAt,i18n:T,pattern:O})),i?.createdAt&&z(Rr({date:i.createdAt,i18n:T,pattern:O}))},X=[i,T,O],e[2]=i,e[3]=O,e[4]=T,e[5]=Z,e[6]=X):(Z=e[5],X=e[6]),JH(Z,X);let q=b&&"create"in b&&b.create,W=b&&"delete"in b&&b.delete,ee=!!(E&&o&&!l&&(q||W)),pe=!o&&E?.versions?.drafts&&E.versions?.drafts.validate,ae=E?.versions?.drafts,Se=k?.versions?.drafts,K=ae&&ae?.autosave||Se&&Se?.autosave,se=ae&&ae?.autosave,ge=Se&&Se?.autosave,ye=se&&ae.autosave!==!1&&ae.autosave.showSaveDraftButton===!0||ge&&Se.autosave!==!1&&Se.autosave.showSaveDraftButton===!0,oe=N&&!E?.admin?.disableCopyToLocale,fe=E&&E.folders,he=y&&C,ie;return e[7]!==g||e[8]!==C||e[9]!==S||e[10]!==y?(ie=y&&C&&lt(te,{buttonStyle:"secondary",id:"take-over",onClick:g,size:"medium",type:"button",children:S("general:takeOver")}),e[7]=g,e[8]=C,e[9]=S,e[10]=y,e[11]=ie):ie=e[11],Ro(bo,{className:jt,children:[Ro("div",{className:`${jt}__wrapper`,children:[Ro("div",{className:`${jt}__content`,children:[he||fe?Ro("div",{className:`${jt}__meta-icons`,children:[he&&lt(Xu,{className:`${jt}__locked-controls`,user:y}),fe&&A.folders&&lt(bu,{folderCollectionSlug:A.folders.slug,folderFieldName:A.folders.fieldName})]}):null,Ro("ul",{className:`${jt}__meta`,children:[E&&!f&&!d&&lt("li",{className:`${jt}__list-item`,children:lt("p",{className:`${jt}__value`,children:T.t("general:creatingNewLabel",{label:YH(E?.labels?.singular??T.t("general:document"),T)})})}),(E?.versions?.drafts||k?.versions?.drafts)&&Ro(Yu,{children:[(k||E&&f)&&lt("li",{className:[`${jt}__status`,`${jt}__list-item`].filter(Boolean).join(" "),children:lt(o6,{})}),u&&K&&!pe&&lt("li",{className:`${jt}__list-item`,children:lt(PF,{collection:E,global:k,id:o,publishedDocUpdatedAt:i?.createdAt})})]}),E?.timestamps&&(f||d)&&Ro(Yu,{children:[Ro("li",{className:[`${jt}__list-item`,`${jt}__value-wrap`].filter(Boolean).join(" "),title:i?.updatedAt?B:"",children:[Ro("p",{className:`${jt}__label`,children:[T.t("general:lastModified"),":\xA0"]}),i?.updatedAt&&lt("p",{className:`${jt}__value`,children:B})]}),Ro("li",{className:[`${jt}__list-item`,`${jt}__value-wrap`].filter(Boolean).join(" "),title:i?.createdAt?G:"",children:[Ro("p",{className:`${jt}__label`,children:[T.t("general:created"),":\xA0"]}),i?.createdAt&&lt("p",{className:`${jt}__value`,children:G})]})]})]})]}),Ro("div",{className:`${jt}__controls-wrapper`,children:[Ro("div",{className:`${jt}__controls`,children:[r,(E?.admin.preview||k?.admin.preview)&&lt(me,{CustomComponent:w,Fallback:lt(Uv,{})}),u&&lt(Yu,{children:E?.versions?.drafts||k?.versions?.drafts?Ro(Yu,{children:[(pe||!K||K&&ye)&&lt(me,{CustomComponent:R,Fallback:lt(Qv,{})}),lt(me,{CustomComponent:D,Fallback:lt(Jv,{})})]}):lt(me,{CustomComponent:_,Fallback:lt(qv,{})})}),ie]}),ee&&!C&&lt(yt,{button:Ro("div",{className:`${jt}__dots`,children:[lt("div",{}),lt("div",{}),lt("div",{})]}),className:`${jt}__popup`,disabled:Q||Y,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:Ro(_e.ButtonGroup,{children:[oe&&lt(Mv,{}),q&&Ro(Kv.Fragment,{children:[!a&&lt(Yu,{children:F>1?lt(_e.Button,{id:"action-create",onClick:h,children:T.t("general:createNew")}):lt(_e.Button,{href:ZH({adminRoute:j,path:`/collections/${E?.slug}/create`}),id:"action-create",children:T.t("general:createNew")})}),E.disableDuplicate!==!0&&f&&lt(OF,{id:o.toString(),onDuplicate:p,redirectAfterDuplicate:x,singularLabel:E?.labels?.singular,slug:E?.slug})]}),W&&lt(LF,{buttonId:"action-delete",collectionSlug:E?.slug,id:o.toString(),onDelete:m,redirectAfterDelete:v,singularLabel:E?.labels?.singular,useAsTitle:E?.admin?.useAsTitle}),c]})})]})]}),lt("div",{className:`${jt}__divider`})]})};import{jsx as i6}from"react/jsx-runtime";import"react";var r6=/^<(?<name>[^\s/>]+)[^>]*>$/,n6=/^<(?<isEnd>\/)?(?<name>[^\s>]+)[^>]*>$/,t0=/^<[^>]+>/,qH=/^<img[^>]*>$/,s6=/^<video[^>]*>.*?<\/video>$/ms,Np=class{config;leastCommonLength=1/0;matchedBlockList=[];newTokens=[];oldTokens=[];operationList=[];sideBySideContents;unifiedContent;constructor(e,o,{classNames:n={createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper"},greedyBoundary:r=1e3,greedyMatch:s=!0,minMatchedSize:i=2,tokenizeByCharacter:l=!1}={}){if(this.config={classNames:{createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper",...n},greedyBoundary:r,greedyMatch:s,minMatchedSize:i},e=e.trim(),o=o.trim(),e===o){this.unifiedContent=e;let c=0,u=e.replace(/<([^\s/>]+)[^>]*>/g,(d,f)=>{let m=f.length+1;return`${d.slice(0,m)} data-seq="${++c}"${d.slice(m)}`});this.sideBySideContents=[u,u];return}let a=l?this.tokenizeByCharacter:this.tokenizeByWord;this.oldTokens=a(e),this.newTokens=a(o),this.matchedBlockList=this.getMatchedBlockList(),this.operationList=this.getOperationList()}computeBestMatchedBlock(e,o,n,r){let s=null;for(let i=e;i<o;i++){let l=Math.min(o-i,r-n),a=this.slideBestMatchedBlock(i,n,l);if(a&&(!s||a.size>s.size)&&(s=a,a.size>this.leastCommonLength))return s}for(let i=n;i<r;i++){let l=Math.min(o-e,r-i),a=this.slideBestMatchedBlock(e,i,l);if(a&&(!s||a.size>s.size)&&(s=a,a.size>this.leastCommonLength))return s}return s}computeMatchedBlockList(e,o,n,r,s=[]){let i=this.computeBestMatchedBlock(e,o,n,r);return i?(e<i.oldStart&&n<i.newStart&&this.computeMatchedBlockList(e,i.oldStart,n,i.newStart,s),s.push(i),o>i.oldEnd&&r>i.newEnd&&this.computeMatchedBlockList(i.oldEnd,o,i.newEnd,r,s),s):[]}dressUpBlockTag(e,o){return e==="create"?`<div class="${this.config.classNames.createBlock}">${o}</div>`:e==="delete"?`<div class="${this.config.classNames.deleteBlock}">${o}</div>`:""}dressUpDiffContent(e,o){let n=o.length;if(!n)return"";let r="",s=0,i=-1;for(let l of o){i++;let a=l.includes('data-enable-match="true"'),c=l.includes('data-enable-match="false"'),u=!!l.match(t0)?.length;if(c)s=i+1,r+=l;else if(!a&&u)i>s&&(r+=this.dressUpText(e,o.slice(s,i))),s=i+1,l.match(s6)?r+=this.dressUpBlockTag(e,l):r+=l;else if(a&&u){i>s&&(r+=this.dressUpText(e,o.slice(s,i))),s=i+1;let d=this.dressupMatchEnabledHtmlTag(e,l);r+=d}}return s<n&&(r+=this.dressUpText(e,o.slice(s))),r}dressUpInlineTag(e,o){return e==="create"?`<span class="${this.config.classNames.createInline}">${o}</span>`:e==="delete"?`<span class="${this.config.classNames.deleteInline}">${o}</span>`:""}dressupMatchEnabledHtmlTag(e,o){let n=o.match(r6)?.groups?.name;if(!n)return o;let r=n.length+1,s=e==="create"?"create":"delete";return`${o.slice(0,r)} data-match-type="${s}"${o.slice(r,o.length)}`}dressUpText(e,o){let n=o.join("");return n.trim()?e==="create"?`<span data-match-type="create">${n}</span>`:e==="delete"?`<span data-match-type="delete">${n}</span>`:"":""}getMatchedBlockList(){let e=this.oldTokens.length,o=this.newTokens.length,n=null,r=0;for(;r<e&&r<o&&this.oldTokens[r]===this.newTokens[r];)r++;r>=this.config.minMatchedSize&&(n={newEnd:r,newStart:0,oldEnd:r,oldStart:0,size:r});let s=null,i=e-1,l=o-1;for(;r<=i&&r<=l&&this.oldTokens[i]===this.newTokens[l];)i--,l--;let a=e-1-i;a>=this.config.minMatchedSize&&(s={newEnd:o,newStart:l+1,oldEnd:e,oldStart:i+1,size:a});let c=n?r:0,u=s?i+1:e,d=n?r:0,f=s?l+1:o;if(this.config.greedyMatch){let h=Math.min(u-c,f-d);h>this.config.greedyBoundary&&(this.leastCommonLength=Math.floor(h/3))}let m=this.computeMatchedBlockList(c,u,d,f);return n&&m.unshift(n),s&&m.push(s),m}getOperationList(){let e=[],o=0,n=0;for(let c of this.matchedBlockList){let u=o===c.oldStart,d=n===c.newStart,f={newEnd:c.newStart,newStart:n,oldEnd:c.oldStart,oldStart:o};!u&&!d?e.push(Object.assign(f,{type:"replace"})):u&&!d?e.push(Object.assign(f,{type:"create"})):!u&&d&&e.push(Object.assign(f,{type:"delete"})),e.push({type:"equal",newEnd:c.newEnd,newStart:c.newStart,oldEnd:c.oldEnd,oldStart:c.oldStart}),o=c.oldEnd,n=c.newEnd}let r=this.oldTokens.length,s=this.newTokens.length,i={newEnd:s,newStart:n,oldEnd:r,oldStart:o},l=o===r,a=n===s;return!l&&!a?e.push(Object.assign(i,{type:"replace"})):l&&!a?e.push(Object.assign(i,{type:"create"})):!l&&a&&e.push(Object.assign(i,{type:"delete"})),e}slideBestMatchedBlock(e,o,n){let r=0,s=null,i=0;for(let l=0;l<n;l++)this.oldTokens[e+l]===this.newTokens[o+l]?i++:i=0,i>r&&(r=i,s={newEnd:o+l+1,newStart:o+l-i+1,oldEnd:e+l+1,oldStart:e+l-i+1,size:i});return r>=this.config.minMatchedSize?s:null}tokenizeByCharacter(e){let o=[],n=0,r=/<picture[^>]*>.*?<\/picture>|<video[^>]*>.*?<\/video>|<[^>]+>/gs,s;for(;(s=r.exec(e))!==null;){let l=e.substring(n,s.index);if(l)for(let a of l)o.push(a);o.push(s[0]),n=s.index+s[0].length}let i=e.substring(n);for(let l of i)o.push(l);return o}tokenizeByWord(e){return e.match(/<picture[^>]*>.*?<\/picture>|<video[^>]*>.*?<\/video>|<[^>]+>|\w+\b|\s+|[^<>\w]/gs)||[]}getSideBySideContents(){if(this.sideBySideContents!==void 0)return this.sideBySideContents;let e="",o="",n=0;this.operationList.forEach(s=>{switch(s.type){case"create":{o+=this.dressUpDiffContent("create",this.newTokens.slice(s.newStart,s.newEnd));break}case"delete":{let i=this.oldTokens.slice(s.oldStart,s.oldEnd);e+=this.dressUpDiffContent("delete",i);break}case"equal":{let i=this.newTokens.slice(s.newStart,s.newEnd),l="";for(let a of i){let c=a.match(r6);if(c){n+=1;let u=(c?.groups?.name?.length??0)+1;l+=`${a.slice(0,u)} data-seq="${n}"${a.slice(u)}`}else l+=a}e+=l,o+=l;break}case"replace":{e+=this.dressUpDiffContent("delete",this.oldTokens.slice(s.oldStart,s.oldEnd)),o+=this.dressUpDiffContent("create",this.newTokens.slice(s.newStart,s.newEnd));break}default:console.error("Richtext diff error - invalid operation: "+String(s.type))}});let r=[e,o];return this.sideBySideContents=r,r}getUnifiedContent(){if(this.unifiedContent!==void 0)return this.unifiedContent;let e="";return this.operationList.forEach(o=>{switch(o.type){case"create":{e+=this.dressUpDiffContent("create",this.newTokens.slice(o.newStart,o.newEnd));break}case"delete":{e+=this.dressUpDiffContent("delete",this.oldTokens.slice(o.oldStart,o.oldEnd));break}case"equal":{for(let n of this.newTokens.slice(o.newStart,o.newEnd))e+=n;break}case"replace":{let n=this.oldTokens.slice(o.oldStart,o.oldEnd),r=this.newTokens.slice(o.newStart,o.newEnd);if(n.length===1&&r.length===1&&n[0]?.match(t0)&&r[0]?.match(t0)){e+=r[0];break}let s=[],i=[],l=o.newStart;for(let a=o.oldStart;a<o.oldEnd;a++){let c=this.oldTokens[a];if(!c)continue;let u=c?.match(n6);if(u){if([qH,s6].some(f=>c?.match(f))){s.push(c);continue}e+=this.dressUpDiffContent("delete",s),s.splice(0);let d=!1;for(let f=l;f<o.newEnd;f++){let m=this.newTokens[f];if(!m)continue;let h=m?.match(n6);if(h&&h.groups?.name===u.groups?.name&&h.groups?.isEnd===u.groups?.isEnd){d=!0,e+=this.dressUpDiffContent("create",i),e+=m,i.splice(0),l=f+1;break}else i.push(m)}d||(e+=c,i.splice(0))}else s.push(c)}l<o.newEnd&&i.push(...this.newTokens.slice(l,o.newEnd)),e+=this.dressUpDiffContent("delete",s),e+=this.dressUpDiffContent("create",i);break}default:console.error("Richtext diff error - invalid operation: "+String(o.type))}}),this.unifiedContent=e,e}};var a6="html-diff",QH=({fromHTML:t,toHTML:e,tokenizeByCharacter:o})=>{let n=new Np(t,e,{tokenizeByCharacter:o}),[r,s]=n.getSideBySideContents(),i=r?i6("div",{className:`${a6}__diff-old html-diff`,dangerouslySetInnerHTML:{__html:r}}):null,l=s?i6("div",{className:`${a6}__diff-new html-diff`,dangerouslySetInnerHTML:{__html:s}}):null;return{From:i,To:l}};import{useEffect as nW}from"react";import{jsx as KH}from"react/jsx-runtime";import{createContext as eW,use as tW,useEffect as oW,useRef as rW}from"react";var l6=eW(null),c6=({children:t})=>{let e=rW(new Set);return oW(()=>{let r=s=>{e.current.forEach(({handler:i,ref:l})=>{l.current&&!l.current.contains(s.target)&&i()})};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]),KH(l6,{value:{register:r=>e.current.add(r),unregister:r=>e.current.delete(r)},children:t})},o0=()=>{let t=tW(l6);if(!t)throw new Error("useClickOutside must be used within a ClickOutsideProvider");return t};function sW(t,e,o=!0){let{register:n,unregister:r}=o0();nW(()=>{if(!o||!t.current)return;let s={handler:e,ref:t};return n(s),()=>r(s)},[t,e,o,n,r])}import{c as h6}from"react/compiler-runtime";import{jsx as Zu,jsxs as gW}from"react/jsx-runtime";import{useState as bW}from"react";import{c as n0}from"react/compiler-runtime";import{jsx as wo,jsxs as $p}from"react/jsx-runtime";import{getTranslation as iW}from"@payloadcms/translations";import{useRouter as aW,useSearchParams as lW}from"next/navigation.js";import{combineWhereConstraints as cW,mergeListSearchAndWhere as uW,unflatten as u6}from"payload/shared";import*as r0 from"qs-esm";import d6,{useCallback as m6,useEffect as dW,useMemo as f6,useState as mW}from"react";var fW=t=>{let e=n0(7),{action:o,disabled:n}=t,{submit:r}=Be(),{t:s}=$(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=wo(vr,{className:`${Wo}__save`,disabled:n,onClick:l,children:s("general:save")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},pW=t=>{let e=n0(7),{action:o,disabled:n}=t,{submit:r}=Be(),{t:s}=$(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=wo(vr,{className:`${Wo}__publish`,disabled:n,onClick:l,children:s("version:publishChanges")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},hW=t=>{let e=n0(7),{action:o,disabled:n}=t,{submit:r}=Be(),{t:s}=$(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=wo(vr,{buttonStyle:"secondary",className:`${Wo}__draft`,disabled:n,onClick:l,children:s("version:saveDraft")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},p6=t=>{let{collection:e,collection:{fields:o,labels:{plural:n,singular:r}}={},count:s,drawerSlug:i,ids:l,selectAll:a,selectedFields:c,setSelectedFields:u}=t,{permissions:d,user:f}=Fe(),{code:m}=Ie(),{closeModal:h}=le(),{config:{routes:{api:p},serverURL:g}}=H(),{getFormState:b}=At(),{i18n:C,t:v}=$(),[x,y]=mW(!1),I=aW(),w=d6.useRef(null),{clearRouteCache:D}=Jt(),_=d?.collections?.[e.slug],R=lW(),T=f6(()=>u6(c.reduce((E,k)=>(E[k.value.path]=!0,E),{})),[c]),S=m6(async({formState:E,submitted:k})=>{let M=hr(w),{state:N}=await b({collectionSlug:e.slug,docPermissions:_,docPreferences:null,formState:E,operation:"update",schemaPath:e.slug,select:T,signal:M.signal,skipValidation:!k});return w.current=null,N},[b,e,_,T]);dW(()=>{let E=w.current;return()=>{pr(E)}},[]);let F=f6(()=>{let E=[],k=uW({collectionConfig:e,search:R.get("search")});return k&&E.push(k),a?E.push(fo(R)?.where||{id:{exists:!0}}):E.push({id:{in:l||[]}}),r0.stringify({locale:m,where:cW(E)},{addQueryPrefix:!0})},[e,R,a,l,m]),A=()=>{I.replace(r0.stringify({...fo(R),page:a?"1":void 0},{addQueryPrefix:!0})),D(),h(i)},P=m6(async({dispatchFields:E,formState:k,selected:M})=>{y(!0),u(M||[]);let{state:N}=await b({collectionSlug:e.slug,docPermissions:_,docPreferences:null,formState:k,operation:"update",schemaPath:e.slug,select:u6(M.reduce((L,O)=>(L[O.value.path]=!0,L),{})),skipValidation:!0});E({type:"UPDATE_MANY",formState:N}),y(!1)},[b,e.slug,_,u]);return wo(nc,{collectionSlug:e.slug,currentEditor:f,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:wo(gm,{value:"update",children:$p("div",{className:`${Wo}__main`,children:[$p("div",{className:`${Wo}__header`,children:[wo("h2",{className:`${Wo}__header__title`,children:v("general:editingLabel",{count:s,label:iW(s>1?n:r,C)})}),wo("button",{"aria-label":v("general:close"),className:`${Wo}__header__close`,id:`close-drawer__${i}`,onClick:()=>h(i),type:"button",children:wo(pt,{})})]}),$p(Yn,{className:`${Wo}__form`,isInitializing:x,onChange:[S],onSuccess:A,children:[wo(zf,{fields:o,onChange:P,permissions:_.fields}),c.length===0?null:wo("div",{className:"render-fields",children:c.map((E,k)=>{let{value:{field:M,fieldPermissions:N,path:L}}=E;return wo(nl,{clientFieldConfig:M,indexPath:"",parentPath:"",parentSchemaPath:"",path:L,permissions:N},`${L}-${k}`)})}),wo("div",{className:`${Wo}__sidebar-wrap`,children:wo("div",{className:`${Wo}__sidebar`,children:wo("div",{className:`${Wo}__sidebar-sticky-wrap`,children:wo("div",{className:`${Wo}__document-actions`,children:e?.versions?.drafts?$p(d6.Fragment,{children:[wo(hW,{action:`${g}${p}/${e.slug}${F}&draft=true`,disabled:c.length===0}),wo(pW,{action:`${g}${p}/${e.slug}${F}&draft=true`,disabled:c.length===0})]}):wo(fW,{action:`${g}${p}/${e.slug}${F}`,disabled:c.length===0})})})})})]})]})})})};var Wo="edit-many",vW=t=>{let e=h6(5),{count:o,selectAll:n,selected:r}=To(),s;return e[0]!==o||e[1]!==t||e[2]!==n||e[3]!==r?(s=Zu(Ju,{...t,count:o,ids:Array.from(r.keys()),selectAll:n===io.AllAvailable}),e[0]=o,e[1]=t,e[2]=n,e[3]=r,e[4]=s):s=e[4],s},Ju=t=>{let e=h6(14),{collection:o,count:n,ids:r,selectAll:s}=t,{permissions:i}=Fe(),{openModal:l}=le(),{t:a}=$(),c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=[],e[0]=c):c=e[0];let[u,d]=bW(c),f=i?.collections?.[o.slug],m=`edit-${o.slug}`;if(n===0||!f?.update)return null;let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=[Wo,`${Wo}__toggle`].filter(Boolean),e[1]=h):h=e[1];let p;if(e[2]!==o||e[3]!==n||e[4]!==m||e[5]!==r||e[6]!==l||e[7]!==s||e[8]!==u||e[9]!==a){let g;e[11]!==m||e[12]!==l?(g=()=>{l(m),d([])},e[11]=m,e[12]=l,e[13]=g):g=e[13],p=gW("div",{className:h.join(" "),children:[Zu(zo,{"aria-label":a("general:edit"),onClick:g,children:a("general:edit")}),Zu(si,{children:Zu($t,{Header:null,slug:m,children:Zu(p6,{collection:o,count:n,drawerSlug:m,ids:r,selectAll:s,selectedFields:u,setSelectedFields:d})})})]}),e[2]=o,e[3]=n,e[4]=m,e[5]=r,e[6]=l,e[7]=s,e[8]=u,e[9]=a,e[10]=p}else p=e[10];return p};import{c as CW}from"react/compiler-runtime";import{jsx as xW}from"react/jsx-runtime";import"react";function yW(t){let e=CW(6),o=et(),n;e[0]!==t.style?(n=t.style||{},e[0]=t.style,e[1]=n):n=e[1];let r=`calc(100 + ${o||0} + 1)`,s;return e[2]!==t||e[3]!==n||e[4]!==r?(s=xW(sr,{...t,style:{...n,zIndex:r}}),e[2]=t,e[3]=n,e[4]=r,e[5]=s):s=e[5],s}import{c as wW}from"react/compiler-runtime";import{jsx as Lp,jsxs as SW}from"react/jsx-runtime";import IW from"react";function s0(t){let e=wW(12),{highlightField:o,setKey:n}=t,{id:r}=Pe(),{toggleModal:s}=le(),{t:i}=$(),l=`generate-confirmation-${r}`,a;e[0]!==o||e[1]!==n||e[2]!==i?(a=()=>{n(),ue.success(i("authentication:newAPIKeyGenerated")),o(!0)},e[0]=o,e[1]=n,e[2]=i,e[3]=a):a=e[3];let c=a,u;e[4]!==l||e[5]!==s?(u=()=>{s(l)},e[4]=l,e[5]=s,e[6]=u):u=e[6];let d;return e[7]!==c||e[8]!==l||e[9]!==i||e[10]!==u?(d=SW(IW.Fragment,{children:[Lp(te,{buttonStyle:"secondary",onClick:u,size:"small",children:i("authentication:generateNewAPIKey")}),Lp(ht,{body:Lp(er,{elements:{1:_W},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:i}),confirmLabel:i("authentication:generate"),heading:i("authentication:confirmGeneration"),modalSlug:l,onConfirm:c})]}),e[7]=c,e[8]=l,e[9]=i,e[10]=u,e[11]=d):d=e[11],d}function _W(t){let{children:e}=t;return Lp("strong",{children:e})}import{c as DW}from"react/compiler-runtime";import{useEffect as FW}from"react";function TW(t){let e=DW(4),{permissions:o}=t,{setPermissions:n}=Fe(),r,s;return e[0]!==o||e[1]!==n?(r=()=>{n(o)},s=[o,n],e[0]=o,e[1]=n,e[2]=r,e[3]=s):(r=e[2],s=e[3]),FW(r,s),null}import{jsx as ao,jsxs as Op}from"react/jsx-runtime";import{getTranslation as Il}from"@payloadcms/translations";import{validateWhereQuery as cU}from"payload/shared";import uU,{Fragment as Q6,useEffect as K6,useRef as eT,useState as dU}from"react";import{jsx as i0,jsxs as RW}from"react/jsx-runtime";import"react";var a0="dots",kp=({ariaLabel:t,className:e,noBackground:o,orientation:n="vertical"})=>RW("div",{"aria-label":t,className:[e,a0,o&&`${a0}--no-background`,n&&`${a0}--${n}`].filter(Boolean).join(" "),children:[i0("div",{}),i0("div",{}),i0("div",{})]});import{jsx as g6}from"react/jsx-runtime";import{useEffect as b6,useRef as v6,useState as AW}from"react";import{usePathname as EW}from"next/navigation.js";var C6="search-filter",qu=t=>{let{handleChange:e,initialParams:o,label:n,searchQueryParam:r}=t,s=o?.search||r,i=EW(),[l,a]=AW(typeof s=="string"?s:void 0),c=v6(!0),u=v6(typeof s=="string"?s:void 0),d=ar(l,300);return b6(()=>{s!==u.current&&(c.current=!1,a(s),u.current=s)},[s,i]),b6(()=>{d!==u.current&&c.current&&(e&&e(d),u.current=d)},[d,e]),g6("div",{className:C6,children:g6("input",{"aria-label":n,className:`${C6}__input`,id:"search-filter-input",onChange:f=>{c.current=!0,a(f.target.value)},placeholder:n,type:"text",value:l||""})})};import{jsx as ss,jsxs as od}from"react/jsx-runtime";import{getTranslation as tU}from"@payloadcms/translations";import{transformWhereQuery as oU,validateWhereQuery as B6}from"payload/shared";import Mp,{useMemo as O6}from"react";import{jsx as rs,jsxs as b0}from"react/jsx-runtime";import{useCallback as $6,useEffect as XW,useState as YW}from"react";import{jsx as Qu}from"react/jsx-runtime";import"react";import{jsx as x6}from"react/jsx-runtime";import"react";var PW="condition-value-date",l0=({disabled:t,field:{admin:e},onChange:o,value:n})=>{let{date:r}=e||{};return x6("div",{className:PW,children:x6(Da,{...r,onChange:o,readOnly:t,value:n})})};import{c as NW}from"react/compiler-runtime";import{jsx as y6}from"react/jsx-runtime";import w6 from"react";var $W="condition-value-number",c0=t=>{let e=NW(18),{disabled:o,field:n,onChange:r,operator:s,value:i}=t,{hasMany:l}=n,{t:a}=$(),c;e[0]!==l||e[1]!==s?(c=["in","not_in"].includes(s)||l,e[0]=l,e[1]=s,e[2]=c):c=e[2];let u=c,d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[3]=d):d=e[3];let[f,m]=w6.useState(d),h;e[4]!==u||e[5]!==r?(h=v=>{let x;v?u&&(Array.isArray(v)?x=v.map(LW):x=[Number(v.value?.value||v.value)]):x=[],r(x)},e[4]=u,e[5]=r,e[6]=h):h=e[6];let p=h,g,b;e[7]!==i?(g=()=>{Array.isArray(i)?m(i.map(kW)):m([])},b=[i],e[7]=i,e[8]=g,e[9]=b):(g=e[8],b=e[9]),w6.useEffect(g,b);let C;return e[10]!==o||e[11]!==u||e[12]!==r||e[13]!==p||e[14]!==a||e[15]!==i||e[16]!==f?(C=u?y6(ft,{disabled:o,isClearable:!0,isCreatable:!0,isMulti:u,isSortable:!0,numberOnly:!0,onChange:p,options:[],placeholder:a("general:enterAValue"),value:f||[]}):y6("input",{className:$W,disabled:o,onChange:v=>r(v.target.value),placeholder:a("general:enterAValue"),type:"number",value:i}),e[10]=o,e[11]=u,e[12]=r,e[13]=p,e[14]=a,e[15]=i,e[16]=f,e[17]=C):C=e[17],C};function LW(t){return Number(t.value?.value||t.value)}function kW(t,e){return{id:`${t}${e}`,label:`${t}`,value:{toString:()=>`${t}${e}`,value:t?.value||t}}}import{jsx as u0}from"react/jsx-runtime";import*as R6 from"qs-esm";import D6,{useCallback as jp,useEffect as F6,useReducer as MW,useState as d0}from"react";import{getTranslation as S6}from"@payloadcms/translations";var I6=t=>t.reduce((e,o)=>o.options?[...e,...I6(o.options)]:[...e,o.id],[]),jW=(t,e)=>{switch(e.type){case"ADD":{let{collection:o,data:n,hasMultipleRelations:r,i18n:s,relation:i}=e,l=o.admin.useAsTitle||"id",a=I6(t);if(!r)return[...t,...n.docs.reduce((f,m)=>a.indexOf(m.id)===-1?(a.push(m.id),[...f,{label:m[l],value:m.id}]):f,[])];let c=[...t],u=c.find(f=>f.label===S6(o.labels.plural,s)),d=n.docs.reduce((f,m)=>a.indexOf(m.id)===-1?(a.push(m.id),[...f,{label:m[l],relationTo:i,value:m.id}]):f,[]);return u?u.options=[...u.options,...d]:c.push({label:S6(o.labels.plural,s),options:d,value:void 0}),c}case"CLEAR":return e.required?[]:[{label:e.i18n.t("general:none"),value:"null"}];default:return t}},_6=jW;var T6="condition-value-relationship",BW=10,m0=t=>{let{disabled:e,field:{admin:{isSortable:o,placeholder:n}={},hasMany:r,relationTo:s},filterOptions:i,onChange:l,value:a}=t,{config:{routes:{api:c},serverURL:u},getEntityConfig:d}=H(),f=Array.isArray(s),[m,h]=MW(_6,[]),[p,g]=d0(""),b=ar(p,300),[C,v]=d0(""),[x,y]=d0(!1),{i18n:I,t:w}=$(),D=Ie(),_=f?s:[s],R=D6.useRef(new Map(_.map(N=>[N,{hasLoadedAll:!1,nextPage:1}]))),T=jp((N,L)=>{let O=d({collectionSlug:L});h({type:"ADD",collection:O,data:N,hasMultipleRelations:f,i18n:I,relation:L})},[f,I,d]),S=Gt(async({abortController:N,relationSlug:L})=>{let O=R.current.get(L);if(L&&!O.hasLoadedAll){let B=d({collectionSlug:L})?.admin?.useAsTitle||"id",V={and:[]},G={depth:0,limit:BW,locale:D.code,page:O.nextPage,select:{[B]:!0},where:V};i&&i?.[L]&&G.where.and.push(i[L]),b&&G.where.and.push({[B]:{like:b}});try{let z=await fetch(`${u}${c}/${L}${R6.stringify(G,{addQueryPrefix:!0})}`,{credentials:"include",headers:{"Accept-Language":I.language},signal:N.signal});if(z.ok){let Y=await z.json();Y.docs.length>0&&(T(Y,L),Y.nextPage?R.current.set(L,{hasLoadedAll:!1,nextPage:Y.nextPage}):R.current.set(L,{hasLoadedAll:!0,nextPage:null}))}else v(w("error:unspecific"))}catch(z){N.signal.aborted||console.error(z)}}y(!0)}),F=D6.useCallback(()=>{let N=R.current.entries().next().value;if(N[0]&&!N[1].hasLoadedAll){let L=new AbortController;S({abortController:L,relationSlug:N[0]})}},[]),A=jp(()=>{if(a){if(r)return Array.isArray(a)?a.map(N=>{if(f){let L;return m.forEach(O=>{O.options&&O.options.some(j=>j?.value==N.value?(L=j,!0):!1)}),L}return m.find(L=>L.value==N)}):void 0;if(f){let N,L=a;return m.forEach(O=>{O?.options&&O.options.some(j=>j?.value==L.value?(N=j,!0):!1)}),N}return m.find(N=>N.value==a)}},[r,f,a,m]),P=jp(N=>{if(N!==p){h({type:"CLEAR",i18n:I,required:!1});let L=Array.isArray(s)?s:[s];R.current=new Map(L.map(O=>[O,{hasLoadedAll:!1,nextPage:1}])),g(N)}},[I,s,p]),E=jp(async(N,L)=>{if(!C&&N!=="null"&&N&&L){let O=await fetch(`${u}${c}/${L}/${N}?depth=0`,{credentials:"include",headers:{"Accept-Language":I.language}});if(O.ok){let j=await O.json();T({docs:[j]},L)}else console.error(w("error:loadingDocument",{id:N}))}},[I,T,c,C,u,w]);F6(()=>{let N=Array.isArray(s)?s:[s];R.current=new Map(N.map(O=>[O,{hasLoadedAll:!1,nextPage:1}])),h({type:"CLEAR",i18n:I,required:!1}),y(!1);let L=[];return N.forEach(O=>{let j=new AbortController;S({abortController:j,relationSlug:O}),L.push(j)}),()=>{L.forEach(O=>{if(O.signal)try{O.abort()}catch{}})}},[I,s,b,i]),F6(()=>{if(a&&x){if(r)(A()||[]).forEach((L,O)=>{L||(f?E(a[O].value,a[O].relationTo):E(a[O],s))});else if(!A())if(f){let L=a;E(L.value,L.relationTo)}else E(a,s)}},[E,A,r,f,s,a,x]);let k=["field-type",T6,C&&"error-loading"].filter(Boolean).join(" "),M=A()||a;return u0("div",{className:k,children:C?u0("div",{className:`${T6}__error-loading`,children:C}):u0(ft,{disabled:e,isMulti:r,isSortable:o,onChange:N=>{if(!N){l(null);return}r&&Array.isArray(N)?l(N?N.map(L=>f?{relationTo:L?.relationTo,value:L?.value}:L?.value):null):f&&!Array.isArray(N)?l({relationTo:N?.relationTo,value:N?.value}):Array.isArray(N)||l(N?.value)},onInputChange:P,onMenuScrollToBottom:F,options:m,placeholder:n,value:M})})};import{c as OW}from"react/compiler-runtime";import{jsx as VW}from"react/jsx-runtime";import{getTranslation as f0}from"@payloadcms/translations";import p0 from"react";var h0=t=>{let e=OW(26),{disabled:o,field:n,isClearable:r,onChange:s,operator:i,options:l,value:a}=t,{admin:c}=n,{placeholder:u}=c,{i18n:d}=$(),f;e[0]!==l?(f=Pc(l),e[0]=l,e[1]=f):f=e[1];let[m,h]=p0.useState(f),p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=["in","not_in"],e[2]=p):p=e[2];let g=p.includes(i),b;if(g&&Array.isArray(a)){let _;e[3]!==d||e[4]!==m?(_=R=>{let T=m.find(S=>S.value===R);return{label:T?f0(T.label,d):R,value:T?.value??R}},e[3]=d,e[4]=m,e[5]=_):_=e[5],b=a.map(_)}else if(a){let _,R;if(e[6]!==d||e[7]!==m||e[8]!==a){let T;e[11]!==a?(T=S=>S.value===a,e[11]=a,e[12]=T):T=e[12],_=m.find(T),R=_?f0(_.label,d):a,e[6]=d,e[7]=m,e[8]=a,e[9]=_,e[10]=R}else _=e[9],R=e[10];b={label:R,value:_?.value??a}}let C;e[13]!==g||e[14]!==s?(C=_=>{let R;_?g?Array.isArray(_)?R=_.map(GW):R=[]:R=_.value:R=null,s(R)},e[13]=g,e[14]=s,e[15]=C):C=e[15];let v=C,x,y;e[16]!==l?(x=()=>{h(Pc(l))},y=[l],e[16]=l,e[17]=x,e[18]=y):(x=e[17],y=e[18]),p0.useEffect(x,y);let I,w;e[19]!==g||e[20]!==s||e[21]!==a?(I=()=>{!g&&Array.isArray(a)&&s(a[0])},w=[g,s,a],e[19]=g,e[20]=s,e[21]=a,e[22]=I,e[23]=w):(I=e[22],w=e[23]),p0.useEffect(I,w);let D;return e[24]!==d?(D=_=>({..._,label:f0(_.label,d)}),e[24]=d,e[25]=D):D=e[25],VW(ft,{disabled:o,isClearable:r,isMulti:g,onChange:v,options:m.map(D),placeholder:u,value:b})};function GW(t){return t.value}import{c as zW}from"react/compiler-runtime";import{jsx as A6}from"react/jsx-runtime";import E6 from"react";var HW="condition-value-text",g0=t=>{let e=zW(18),{disabled:o,field:n,onChange:r,operator:s,value:i}=t,{hasMany:l}=n,{t:a}=$(),c;e[0]!==l||e[1]!==s?(c=["in","not_in"].includes(s)||l,e[0]=l,e[1]=s,e[2]=c):c=e[2];let u=c,d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[3]=d):d=e[3];let[f,m]=E6.useState(d),h;e[4]!==u||e[5]!==r?(h=v=>{let x;v?u&&(Array.isArray(v)?x=v.map(WW):x=[v.value?.value||v.value]):x=[],r(x)},e[4]=u,e[5]=r,e[6]=h):h=e[6];let p=h,g,b;e[7]!==i?(g=()=>{Array.isArray(i)?m(i.map(UW)):m([])},b=[i],e[7]=i,e[8]=g,e[9]=b):(g=e[8],b=e[9]),E6.useEffect(g,b);let C;return e[10]!==o||e[11]!==u||e[12]!==r||e[13]!==p||e[14]!==a||e[15]!==i||e[16]!==f?(C=u?A6(ft,{disabled:o,isClearable:!0,isCreatable:!0,isMulti:u,isSortable:!0,onChange:p,options:[],placeholder:a("general:enterAValue"),value:f||[]}):A6("input",{className:HW,disabled:o,onChange:v=>r(v.target.value),placeholder:a("general:enterAValue"),type:"text",value:i||""}),e[10]=o,e[11]=u,e[12]=r,e[13]=p,e[14]=a,e[15]=i,e[16]=f,e[17]=C):C=e[17],C};function WW(t){return t.value?.value||t.value}function UW(t,e){return{id:`${t}${e}`,label:`${t}`,value:{toString:()=>`${t}${e}`,value:t?.value||t}}}var P6=({booleanSelect:t,disabled:e,filterOptions:o,internalField:n,onChange:r,operator:s,options:i,value:l})=>{if(t||["radio","select"].includes(n?.field?.type))return Qu(h0,{disabled:e,field:n.field,isClearable:!t,onChange:r,operator:s,options:i,value:l});switch(n?.field?.type){case"date":return Qu(l0,{disabled:e,field:n.field,onChange:r,operator:s,value:l});case"number":return Qu(c0,{disabled:e,field:n.field,onChange:r,operator:s,value:l});case"relationship":return Qu(m0,{disabled:e,field:n.field,filterOptions:o,onChange:r,operator:s,value:l});default:return Qu(g0,{disabled:e,field:n?.field,onChange:r,operator:s,value:l})}};var N6=t=>({all:"any",contains:"string",equals:"any",exists:"boolean",greater_than:t==="date"?"object":"string",greater_than_equal:t==="date"?"object":"string",in:"any",intersects:"any",less_than:t==="date"?"object":"string",less_than_equal:t==="date"?"object":"string",like:"string",near:"any",not_equals:"any",not_in:"any",not_like:"string",within:"any"});var ns="condition",L6=t=>{let{addCondition:e,andIndex:o,fieldName:n,filterOptions:r,operator:s,orIndex:i,reducedFields:l,removeCondition:a,RenderedFilter:c,updateCondition:u,value:d}=t,{t:f}=$(),m=l.find(w=>w.value===n),[h,p]=YW(d),g=ar(h,300),b=["exists"].includes(s)||m?.field?.type==="checkbox",C=[];b?C=[{label:f("general:true"),value:"true"},{label:f("general:false"),value:"false"}]:m?.field&&"options"in m.field&&(C=m.field.options);let v=Gt(async w=>{s&&await u({andIndex:o,field:m,operator:s,orIndex:i,value:w===null?"":w})});XW(()=>{v(g)},[g]);let x=!m?.value&&typeof m?.value!="number"||m?.field?.admin?.disableListFilter,y=$6(async w=>{p(void 0),await u({andIndex:o,field:l.find(D=>D.value===w.value),operator:s,orIndex:i,value:void 0})},[o,s,i,l,u]),I=$6(async w=>{let _=N6(m.field.type)[w.value]||"any",R=_==="any"||typeof d===_||_==="boolean"&&(d==="true"||d==="false");R||p(void 0),await u({andIndex:o,field:m,operator:w.value,orIndex:i,value:R?d:void 0})},[o,m,i,u,d]);return rs("div",{className:ns,children:b0("div",{className:`${ns}__wrap`,children:[b0("div",{className:`${ns}__inputs`,children:[rs("div",{className:`${ns}__field`,children:rs(ft,{disabled:x,filterOption:(w,D)=>(w?.data?.plainTextLabel||w.label).toLowerCase().includes(D.toLowerCase()),isClearable:!1,onChange:y,options:l.filter(w=>!w.field.admin.disableListFilter),value:m||{value:m?.value}})}),rs("div",{className:`${ns}__operator`,children:rs(ft,{disabled:x,isClearable:!1,onChange:I,options:m?.operators,value:m?.operators.find(w=>s===w.value)||null})}),rs("div",{className:`${ns}__value`,children:c||rs(P6,{booleanSelect:b,disabled:!s||!m||m?.field?.admin?.disableListFilter,filterOptions:r,internalField:m,onChange:p,operator:s,options:C,value:h??""})})]}),b0("div",{className:`${ns}__actions`,children:[rs(te,{buttonStyle:"icon-label",className:`${ns}__actions-remove`,icon:"x",iconStyle:"with-border",onClick:()=>a({andIndex:o,orIndex:i}),round:!0}),rs(te,{buttonStyle:"icon-label",className:`${ns}__actions-add`,icon:"plus",iconStyle:"with-border",onClick:()=>e({andIndex:o+1,field:l.find(w=>!w.field.admin?.disableListFilter),orIndex:i,relation:"and"}),round:!0})]})]})})};var v0=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],C0=[{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"},{label:"exists",value:"exists"}],xr=[...v0,...C0],k6=[...xr,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],ZW=[...v0,{label:"exists",value:"exists"},{label:"near",value:"near"}],j6={label:"within",value:"within"},M6={label:"intersects",value:"intersects"},Ku={label:"isLike",value:"like"},ed={label:"isNotLike",value:"not_like"},yl={label:"contains",value:"contains"},JW={checkbox:{component:"Text",operators:v0},code:{component:"Text",operators:[...xr,Ku,ed,yl]},date:{component:"Date",operators:[...xr,...k6]},email:{component:"Text",operators:[...xr,yl]},json:{component:"Text",operators:[...xr,Ku,yl,ed,j6,M6]},number:{component:"Number",operators:[...xr,...k6]},point:{component:"Point",operators:[...ZW,j6,M6]},radio:{component:"Select",operators:[...xr]},relationship:{component:"Relationship",operators:[...xr]},richText:{component:"Text",operators:[...xr,Ku,ed,yl]},select:{component:"Select",operators:[...xr]},text:{component:"Text",operators:[...xr,Ku,ed,yl]},textarea:{component:"Text",operators:[...xr,Ku,ed,yl]},upload:{component:"Text",operators:[...xr]}},oa=JW;import{getTranslation as td}from"@payloadcms/translations";import{fieldAffectsData as qW,fieldIsHiddenOrDisabled as QW,fieldIsID as KW,tabHasName as eU}from"payload/shared";var Ys=({fields:t,i18n:e,labelPrefix:o,pathPrefix:n})=>t.reduce((r,s)=>{if(QW(s)&&!KW(s))return r;if(s.type==="tabs"&&"tabs"in s)return s.tabs.forEach(l=>{if(typeof l.label!="boolean"){let a=td(l.label,e),c=o?o+" > "+a:a,u=eU(l)&&l.name?n?n+"."+l.name:l.name:n;typeof a=="string"&&r.push(...Ys({fields:l.fields,i18n:e,labelPrefix:c,pathPrefix:u}))}}),r;if(s.type==="row"&&"fields"in s)return r.push(...Ys({fields:s.fields,i18n:e,labelPrefix:o,pathPrefix:n})),r;if(s.type==="collapsible"&&"fields"in s){let i=td(s.label||"",e),l=o?o+" > "+i:i;return r.push(...Ys({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:n})),r}if(s.type==="group"&&"fields"in s){let i=td(s.label||"",e),l=o?i?o+" > "+i:o:i;if(qW(s)){let a=s.name?n?n+"."+s.name:s.name:n;r.push(...Ys({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:a}))}else r.push(...Ys({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:n}));return r}if(s.type==="array"&&"fields"in s){let i=td(s.label||"",e),l=o?i?o+" > "+i:o:i,a=s.name?n?n+"."+s.name:s.name:n;return r.push(...Ys({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:a})),r}if(typeof oa[s.type]=="object"){let i=new Set,a=("hasMany"in s&&s.hasMany?C0:oa[s.type].operators).reduce((m,h)=>{if(!i.has(h.value)){i.add(h.value);let p=`operators:${h.label}`;m.push({...h,label:e.t(p)})}return m},[]),c=td(s.label||"",e),u=o?mu({field:s,prefix:o}):c,d=n?rl(n,s):s.name,f={label:u,plainTextLabel:`${o?o+" > ":""}${c}`,value:d,...oa[s.type],field:s,operators:a};return r.push(f),r}return r},[]);var In="where-builder",V6=t=>{let{collectionPluralLabel:e,fields:o,renderedFilters:n,resolvedFilterOptions:r}=t,{i18n:s,t:i}=$(),l=O6(()=>Ys({fields:o,i18n:s}),[o,s]),{handleWhereChange:a,query:c}=Lt(),u=O6(()=>{let h=c.where;if(h){if(B6(h))return h.or;let p=oU(h);if(B6(p))return p.or;console.warn(`Invalid where query in URL: ${JSON.stringify(h)}`)}return[]},[c.where]),d=Mp.useCallback(async({andIndex:h,field:p,orIndex:g,relation:b})=>{let C=[...u],v=oa[p.field.type].operators[0].value;b==="and"?C[g].and.splice(h,0,{[String(p.value)]:{[v]:void 0}}):C.push({and:[{[String(p.value)]:{[v]:void 0}}]}),await a({or:C})},[u,a]),f=Mp.useCallback(async({andIndex:h,field:p,operator:g,orIndex:b,value:C})=>{let v=u[b].and[h],x=oa[p.field.type],y=g||x.operators[0].value;if(typeof v=="object"&&p.value){let I=C??v?.[y],w=I!==v?.[String(p.value)]?.[String(y)],D=y!==Object.keys(v?.[String(p.value)]||{})?.[0];if(w||D){let _={[String(p.value)]:{[y]:I}},R=[...u];R[b].and[h]=_,await a({or:R})}}},[u,a]),m=Mp.useCallback(async({andIndex:h,orIndex:p})=>{let g=[...u];g[p].and.splice(h,1),g[p].and.length===0&&g.splice(p,1),await a({or:g})},[u,a]);return od("div",{className:In,children:[u.length>0&&od(Mp.Fragment,{children:[ss("div",{className:`${In}__label`,children:i("general:filterWhere",{label:tU(e,s)})}),ss("ul",{className:`${In}__or-filters`,children:u.map((h,p)=>{let g=`${p}_${Array.isArray(h?.and)?h.and.length:""}`;return od("li",{children:[p!==0&&ss("div",{className:`${In}__label`,children:i("general:or")}),ss("ul",{className:`${In}__and-filters`,children:Array.isArray(h?.and)&&h.and.map((b,C)=>{let v=u[p].and[C],x=Object.keys(v)[0],y=Object.keys(v?.[x]||{})?.[0]||void 0,I=v?.[x]?.[y]||void 0;return od("li",{children:[C!==0&&ss("div",{className:`${In}__label`,children:i("general:and")}),ss(L6,{addCondition:d,andIndex:C,fieldName:x,filterOptions:r?.get(x),operator:y,orIndex:p,reducedFields:l,removeCondition:m,RenderedFilter:n?.get(x),updateCondition:f,value:I})]},C)})})]},g)})}),ss(te,{buttonStyle:"icon-label",className:`${In}__add-or`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{await d({andIndex:0,field:l[0],orIndex:u.length,relation:"or"})},children:i("general:or")})]}),u.length===0&&od("div",{className:`${In}__no-filters`,children:[ss("div",{className:`${In}__label`,children:i("general:noFiltersSet")}),ss(te,{buttonStyle:"icon-label",className:`${In}__add-first-filter`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{l.length>0&&await d({andIndex:0,field:l.find(h=>!h.field.admin?.disableListFilter),orIndex:u.length,relation:"or"})},children:i("general:addFilter")})]})]})};import{c as rU}from"react/compiler-runtime";import{jsx as rd,jsxs as nU}from"react/jsx-runtime";import{getTranslation as sU}from"@payloadcms/translations";import{jsx as G6}from"react/jsx-runtime";import"react";var z6=({className:t})=>G6("svg",{className:["icon","icon--people",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:G6("path",{className:"stroke",d:"M14 16C14 14.5855 13.4381 13.229 12.4379 12.2288C11.4377 11.2286 10.0812 10.6667 8.66668 10.6667M8.66668 10.6667C7.25219 10.6667 5.89563 11.2286 4.89544 12.2288C3.89525 13.229 3.33334 14.5855 3.33334 16M8.66668 10.6667C10.5076 10.6667 12 9.17428 12 7.33333C12 5.49238 10.5076 4 8.66668 4C6.82573 4 5.33334 5.49238 5.33334 7.33333C5.33334 9.17428 6.82573 10.6667 8.66668 10.6667ZM16.6667 15.3333C16.6667 13.0867 15.3333 11 14 10C14.4383 9.67118 14.7888 9.23939 15.0204 8.74285C15.252 8.2463 15.3577 7.70031 15.328 7.1532C15.2984 6.60609 15.1343 6.07472 14.8503 5.60613C14.5664 5.13754 14.1713 4.74617 13.7 4.46667",strokeLinecap:"round",strokeLinejoin:"round"})});var wl="active-query-preset";function H6(t){let e=rU(44),{activePreset:o,openPresetListDrawer:n,resetPreset:r}=t,{i18n:s,t:i}=$(),{getEntityConfig:l}=H(),a,c,u,d,f,m,h,p,g,b,C,v,x,y,I;if(e[0]!==o||e[1]!==l||e[2]!==s||e[3]!==n||e[4]!==i){let D=l({collectionSlug:"payload-query-presets"});m=nU,h=dt;let _=o&&`${wl}--active`,R;e[20]!==_?(R=[wl,_].filter(Boolean),e[20]=_,e[21]=R):R=e[21],I=R.join(" "),c="select-preset",e[22]!==n?(u=()=>{n()},e[22]=n,e[23]=u):u=e[23],d=o?"always-white":"light",f="small",e[24]!==o?.isShared?(y=o?.isShared&&rd(z6,{className:`${wl}__shared`}),e[24]=o?.isShared,e[25]=y):y=e[25],v=rd,x="div",C=`${wl}__label-text-max-width`,g=rd,b="div",a=`${wl}__label-text`,p=o?.title||i("general:selectLabel",{label:sU(D.labels.singular,s)}),e[0]=o,e[1]=l,e[2]=s,e[3]=n,e[4]=i,e[5]=a,e[6]=c,e[7]=u,e[8]=d,e[9]=f,e[10]=m,e[11]=h,e[12]=p,e[13]=g,e[14]=b,e[15]=C,e[16]=v,e[17]=x,e[18]=y,e[19]=I}else a=e[5],c=e[6],u=e[7],d=e[8],f=e[9],m=e[10],h=e[11],p=e[12],g=e[13],b=e[14],C=e[15],v=e[16],x=e[17],y=e[18],I=e[19];let w;return e[26]!==o||e[27]!==r||e[28]!==a||e[29]!==c||e[30]!==u||e[31]!==d||e[32]!==f||e[33]!==m||e[34]!==h||e[35]!==p||e[36]!==g||e[37]!==b||e[38]!==C||e[39]!==v||e[40]!==x||e[41]!==y||e[42]!==I?(w=m(h,{className:I,id:c,onClick:u,pillStyle:d,size:f,children:[y,v(x,{className:C,children:g(b,{className:a,children:p})}),o?rd("div",{className:`${wl}__clear`,id:"clear-preset",onClick:async D=>{D.stopPropagation(),await r()},onKeyDown:async D=>{(D.key==="Enter"||D.key===" ")&&(D.stopPropagation(),await r())},role:"button",tabIndex:0,children:rd(pt,{})}):null]}),e[26]=o,e[27]=r,e[28]=a,e[29]=c,e[30]=u,e[31]=d,e[32]=f,e[33]=m,e[34]=h,e[35]=p,e[36]=g,e[37]=b,e[38]=C,e[39]=v,e[40]=x,e[41]=y,e[42]=I,e[43]=w):w=e[43],w}import{fieldAffectsData as iU,flattenTopLevelFields as aU}from"payload/shared";var W6=(t,e,o)=>t?aU(e,{i18n:o,moveSubFieldsToTop:!0}).filter(r=>iU(r)&&t.includes(r.name)):null;import{jsx as Vr,jsxs as U6,Fragment as lU}from"react/jsx-runtime";import{getTranslation as x0}from"@payloadcms/translations";import{transformColumnsToPreferences as X6,transformColumnsToSearchParams as Y6}from"payload/shared";import{useCallback as Bp,useMemo as Z6}from"react";var J6="confirm-delete-preset",Sl="payload-query-presets",q6=({activePreset:t,collectionSlug:e,queryPresetPermissions:o})=>{let{modified:n,query:r,refineListData:s,setModified:i}=Lt(),{i18n:l,t:a}=$(),{openModal:c}=le(),{config:{routes:{api:u}},getEntityConfig:d}=H(),f=d({collectionSlug:Sl}),[m,,{openDrawer:h}]=bt({id:t?.id,collectionSlug:Sl}),[p,,{closeDrawer:g,openDrawer:b}]=bt({collectionSlug:Sl}),C=Z6(()=>({"payload-query-presets":{isTemp:{not_equals:!0},relatedCollection:{equals:e}}}),[e]),[v,,{closeDrawer:x,openDrawer:y}]=Li({collectionSlugs:[Sl],filterOptions:C,selectedCollection:Sl}),I=Bp(async T=>{await s({columns:T.columns?Y6(T.columns):void 0,preset:T.id,where:T.where},!1)},[s]),w=Bp(async()=>{await s({columns:void 0,preset:void 0,where:void 0},!1)},[s]),D=Bp(async()=>{try{await fetch(`${u}/${Sl}/${t.id}`,{method:"DELETE"}).then(async T=>{try{let S=await T.json();T.status<400?(ue.success(a("general:titleDeleted",{label:x0(f?.labels?.singular,l),title:t.title})),await w()):S.errors?S.errors.forEach(F=>ue.error(F.message)):ue.error(a("error:deletingTitle",{title:t.title}))}catch{ue.error(a("error:deletingTitle",{title:t.title}))}})}catch{ue.error(a("error:deletingTitle",{title:t.title}))}},[u,t?.id,t?.title,a,f,l,w]),_=Bp(async()=>{try{await fetch(`${u}/payload-query-presets/${t.id}`,{body:JSON.stringify({columns:X6(r.columns),where:r.where}),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"}).then(async T=>{try{let S=await T.json();T.status<400?(ue.success(a("general:updatedLabelSuccessfully",{label:x0(f?.labels?.singular,l)})),i(!1)):S.errors?S.errors.forEach(F=>ue.error(F.message)):ue.error(a("error:unknown"))}catch{ue.error(a("error:unknown"))}})}catch{ue.error(a("error:unknown"))}},[u,t?.id,r.columns,r.where,a,f?.labels?.singular,l,i]),R=Z6(()=>{let T=t&&n;return[Vr(Nd,{label:x0(f?.labels?.plural,l)},"preset-group-label"),U6(_e.ButtonGroup,{children:[T&&Vr(_e.Button,{onClick:async()=>{await s({columns:Y6(t.columns),where:t.where},!1)},children:a("general:reset")}),T&&o.update&&Vr(_e.Button,{onClick:async()=>{await _()},children:t?.isShared?a("general:updateForEveryone"):a("general:save")}),Vr(_e.Button,{onClick:()=>{b()},children:a("general:createNew")}),t&&o?.delete&&U6(lU,{children:[Vr(_e.Button,{onClick:()=>c(J6),children:a("general:delete")}),Vr(_e.Button,{onClick:()=>{h()},children:a("general:edit")})]})]},"preset-group-buttons")]},[t,o?.delete,o?.update,b,h,c,_,a,s,n,f?.labels?.plural,l]);return{CreateNewPresetDrawer:Vr(p,{initialData:{columns:X6(r.columns),relatedCollection:e,where:r.where},onSave:async({doc:T})=>{g(),await I(T)},redirectAfterCreate:!1}),DeletePresetModal:Vr(ht,{body:Vr(er,{elements:{1:({children:T})=>Vr("strong",{children:T})},i18nKey:"general:aboutToDelete",t:a,variables:{label:f?.labels?.singular,title:t?.title}}),confirmingLabel:a("general:deleting"),heading:a("general:confirmDeletion"),modalSlug:J6,onConfirm:D}),EditPresetDrawer:Vr(m,{onDelete:()=>{},onDuplicate:async({doc:T})=>{await I(T)},onSave:async({doc:T})=>{await I(T)}}),hasModifiedPreset:n,openPresetListDrawer:y,PresetListDrawer:Vr(v,{allowCreate:!1,disableQueryPresets:!0,onSelect:async({doc:T})=>{x(),await I(T)}}),queryPresetMenuItems:R,resetPreset:w}};var ko="list-controls",y0=t=>{let{beforeActions:e,collectionConfig:o,collectionSlug:n,disableQueryPresets:r,enableColumns:s=!0,enableFilters:i=!0,enableSort:l=!1,listMenuItems:a,queryPreset:c,queryPresetPermissions:u,renderedFilters:d,resolvedFilterOptions:f}=t,{handleSearchChange:m,query:h}=Lt(),{CreateNewPresetDrawer:p,DeletePresetModal:g,EditPresetDrawer:b,hasModifiedPreset:C,openPresetListDrawer:v,PresetListDrawer:x,queryPresetMenuItems:y,resetPreset:I}=q6({activePreset:c,collectionSlug:n,queryPresetPermissions:u}),w=pv(o),{i18n:D,t:_}=$(),{breakpoints:{s:R}}=Eo(),T=(w&&Il("label"in w&&(typeof w.label=="string"||typeof w.label=="object")?w.label:"name"in w?w.name:null,D))??"ID",S=W6(o.admin.listSearchableFields,o.fields,D),F=eT(_("general:searchBy",{label:Il(T,D)})),A=eT(!!h?.where),P=cU(h?.where),[E,k]=dU(P?"where":void 0);K6(()=>{A.current&&!h?.where?A.current=!1:h?.where&&(A.current=!0)},[k,h?.where]),K6(()=>{S?.length>0?F.current=S.reduce((N,L,O)=>{let j="label"in L&&L.label?L.label:"name"in L?L.name:null;return O===0?`${_("general:searchBy",{label:Il(j,D)})}`:O===S.length-1?`${N} ${_("general:or")} ${Il(j,D)}`:`${N}, ${Il(j,D)}`},""):F.current=_("general:searchBy",{label:Il(T,D)})},[_,S,D,T]);let M=a;return o?.enableQueryPresets&&!r&&y?.length>0&&(M=[...y,a?.length>0?ao(_e.Divider,{},"divider"):null,...a||[]]),Op(Q6,{children:[Op("div",{className:ko,children:[Op("div",{className:`${ko}__wrap`,children:[ao(vi,{}),ao(qu,{handleChange:m,label:F.current,searchQueryParam:h?.search},n),c&&C?ao("div",{className:`${ko}__modified`,children:"Modified"}):null,ao("div",{className:`${ko}__buttons`,children:Op("div",{className:`${ko}__buttons-wrap`,children:[!R&&ao(uU.Fragment,{children:e&&e}),s&&ao(dt,{"aria-controls":`${ko}-columns`,"aria-expanded":E==="columns",className:`${ko}__toggle-columns`,icon:ao(Ye,{direction:E==="columns"?"up":"down"}),onClick:()=>k(E!=="columns"?"columns":void 0),pillStyle:"light",size:"small",children:_("general:columns")}),i&&ao(dt,{"aria-controls":`${ko}-where`,"aria-expanded":E==="where",className:`${ko}__toggle-where`,icon:ao(Ye,{direction:E==="where"?"up":"down"}),onClick:()=>k(E!=="where"?"where":void 0),pillStyle:"light",size:"small",children:_("general:filters")}),l&&ao(dt,{"aria-controls":`${ko}-sort`,"aria-expanded":E==="sort",className:`${ko}__toggle-sort`,icon:ao(Ye,{}),onClick:()=>k(E!=="sort"?"sort":void 0),pillStyle:"light",size:"small",children:_("general:sort")}),!r&&ao(H6,{activePreset:c,openPresetListDrawer:v,resetPreset:I}),M&&Array.isArray(M)&&M.length>0&&ao(yt,{button:ao(kp,{ariaLabel:_("general:moreOptions")}),className:`${ko}__popup`,horizontalAlign:"right",id:"list-menu",size:"medium",verticalAlign:"bottom",children:M.map((N,L)=>ao(Q6,{children:N},`list-menu-item-${L}`))})]})})]}),s&&ao(Er,{className:`${ko}__columns`,height:E==="columns"?"auto":0,id:`${ko}-columns`,children:ao(lf,{collectionSlug:o.slug})}),ao(Er,{className:`${ko}__where`,height:E==="where"?"auto":0,id:`${ko}-where`,children:ao(V6,{collectionPluralLabel:o?.labels?.plural,collectionSlug:o.slug,fields:o?.fields,renderedFilters:d,resolvedFilterOptions:f})})]}),x,b,p,g]})};import{c as AU}from"react/compiler-runtime";import{jsx as _l,jsxs as EU}from"react/jsx-runtime";import{Fragment as PU}from"react";import{c as nT}from"react/compiler-runtime";import{jsx as S0,jsxs as vU}from"react/jsx-runtime";import CU from"react";import{jsx as mU}from"react/jsx-runtime";import{getTranslation as tT}from"@payloadcms/translations";import{useRouter as fU,useSearchParams as pU}from"next/navigation.js";import{combineWhereConstraints as hU,mergeListSearchAndWhere as gU}from"payload/shared";import*as w0 from"qs-esm";import bU,{useCallback as oT}from"react";function rT(t){let{collection:e,collection:{slug:o,labels:{plural:n,singular:r}}={},drawerSlug:s,ids:i,selectAll:l}=t,{clearRouteCache:a}=Jt(),{config:{routes:{api:c},serverURL:u}}=H(),{code:d}=Ie(),f=fU(),m=pU(),{i18n:h,t:p}=$(),g=oT(()=>{ue.error(p("error:unknown"))},[p]),b=bU.useMemo(()=>{let v=[{_status:{not_equals:"published"}}],x=gU({collectionConfig:e,search:m.get("search")});return x&&v.push(x),l?v.push(fo(m)?.where||{id:{exists:!0}}):v.push({id:{in:i||[]}}),w0.stringify({locale:d,where:hU(v)},{addQueryPrefix:!0})},[e,m,l,i,d]),C=oT(async()=>{await tt.patch(`${u}${c}/${o}${b}&draft=true`,{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":h.language,"Content-Type":"application/json"}}).then(async v=>{try{let x=await v.json(),y=x?.docs.length||0,I=y>1?n:r;return v.status<400||y>0?(ue.success(p("general:updatedCountSuccessfully",{count:y,label:tT(I,h)})),x?.errors.length>0&&ue.error(x.message,{description:x.errors.map(w=>w.message).join(`
`)}),f.replace(w0.stringify({...fo(m),page:l?"1":void 0},{addQueryPrefix:!0})),a(),null):(x.errors?x.errors.forEach(w=>ue.error(w.message)):g(),!1)}catch{return g()}})},[u,c,o,b,h,n,r,p,f,m,l,a,g]);return mU(ht,{body:p("version:aboutToPublishSelection",{label:tT(n,h)}),cancelLabel:p("general:cancel"),confirmingLabel:p("version:publishing"),confirmLabel:p("general:confirm"),heading:p("version:confirmPublish"),modalSlug:s,onConfirm:C})}var xU=t=>{let e=nT(5),{count:o,selectAll:n,selected:r}=To(),s;return e[0]!==o||e[1]!==t||e[2]!==n||e[3]!==r?(s=S0(nd,{...t,count:o,ids:Array.from(r.keys()),selectAll:n===io.AllAvailable}),e[0]=o,e[1]=t,e[2]=n,e[3]=r,e[4]=s):s=e[4],s},nd=t=>{let e=nT(10),{collection:o,collection:n,count:r,ids:s,selectAll:i}=t,{slug:l,versions:a}=n===void 0?{}:n,{permissions:c}=Fe(),{t:u}=$(),{openModal:d}=le(),m=c?.collections?.[l]?.update,h=`publish-${l}`;if(!a?.drafts||r===0||!m)return null;let p;if(e[0]!==o||e[1]!==h||e[2]!==s||e[3]!==d||e[4]!==i||e[5]!==u){let g;e[7]!==h||e[8]!==d?(g=()=>{d(h)},e[7]=h,e[8]=d,e[9]=g):g=e[9],p=vU(CU.Fragment,{children:[S0(zo,{"aria-label":u("version:publish"),onClick:g,children:u("version:publish")}),S0(rT,{collection:o,drawerSlug:h,ids:s,selectAll:i})]}),e[0]=o,e[1]=h,e[2]=s,e[3]=d,e[4]=i,e[5]=u,e[6]=p}else p=e[6];return p};import{c as lT}from"react/compiler-runtime";import{jsx as _0,jsxs as FU}from"react/jsx-runtime";import TU from"react";import{jsx as yU}from"react/jsx-runtime";import{getTranslation as sT}from"@payloadcms/translations";import{useRouter as wU,useSearchParams as SU}from"next/navigation.js";import{combineWhereConstraints as IU,mergeListSearchAndWhere as _U}from"payload/shared";import*as I0 from"qs-esm";import DU,{useCallback as iT}from"react";function aT(t){let{collection:e,collection:{slug:o,labels:{plural:n,singular:r}}={},drawerSlug:s,ids:i,selectAll:l}=t,{config:{routes:{api:a},serverURL:c}}=H(),{code:u}=Ie(),{i18n:d,t:f}=$(),m=SU(),h=wU(),{clearRouteCache:p}=Jt(),g=iT(()=>{ue.error(f("error:unknown"))},[f]),b=DU.useMemo(()=>{let v=[{_status:{not_equals:"draft"}}],x=_U({collectionConfig:e,search:m.get("search")});return x&&v.push(x),l||v.push({id:{in:i||[]}}),I0.stringify({locale:u,where:IU(v)},{addQueryPrefix:!0})},[e,m,l,i,u]),C=iT(async()=>{await tt.patch(`${c}${a}/${o}${b}`,{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":d.language,"Content-Type":"application/json"}}).then(async v=>{try{let x=await v.json(),y=x?.docs.length||0,I=y>1?n:r;return v.status<400||y>0?(ue.success(f("general:updatedCountSuccessfully",{count:y,label:sT(I,d)})),x?.errors.length>0&&ue.error(x.message,{description:x.errors.map(w=>w.message).join(`
`)}),h.replace(I0.stringify({...fo(m),page:l?"1":void 0},{addQueryPrefix:!0})),p(),null):(x.errors?x.errors.forEach(w=>ue.error(w.message)):g(),!1)}catch{return g()}})},[c,a,o,b,d,n,r,f,h,m,l,p,g]);return yU(ht,{body:f("version:aboutToUnpublishSelection",{label:sT(n,d)}),confirmingLabel:f("version:unpublishing"),heading:f("version:confirmUnpublish"),modalSlug:s,onConfirm:C})}var RU=t=>{let e=lT(5),{count:o,selectAll:n,selected:r}=To(),s;return e[0]!==o||e[1]!==t||e[2]!==n||e[3]!==r?(s=_0(sd,{...t,count:o,ids:Array.from(r.keys()),selectAll:n===io.AllAvailable}),e[0]=o,e[1]=t,e[2]=n,e[3]=r,e[4]=s):s=e[4],s},sd=t=>{let e=lT(10),{collection:o,collection:n,count:r,ids:s,selectAll:i}=t,{slug:l,versions:a}=n===void 0?{}:n,{t:c}=$(),{permissions:u}=Fe(),{toggleModal:d}=le(),m=u?.collections?.[l]?.update,h=`unpublish-${l}`;if(!a?.drafts||r===0||!m)return null;let p;if(e[0]!==o||e[1]!==h||e[2]!==s||e[3]!==i||e[4]!==c||e[5]!==d){let g;e[7]!==h||e[8]!==d?(g=()=>{d(h)},e[7]=h,e[8]=d,e[9]=g):g=e[9],p=FU(TU.Fragment,{children:[_0(zo,{"aria-label":c("version:unpublish"),onClick:g,children:c("version:unpublish")}),_0(aT,{collection:o,drawerSlug:h,ids:s,selectAll:i})]}),e[0]=o,e[1]=h,e[2]=s,e[3]=i,e[4]=c,e[5]=d,e[6]=p}else p=e[6];return p};var id=t=>{let e=AU(11),{collectionConfig:o,disableBulkDelete:n,disableBulkEdit:r,label:s}=t,{count:i,getSelectedIds:l,selectAll:a,toggleAll:c,totalDocs:u}=To(),{t:d}=$();if(i===0)return null;let f;return e[0]!==o||e[1]!==i||e[2]!==n||e[3]!==r||e[4]!==l||e[5]!==s||e[6]!==a||e[7]!==d||e[8]!==c||e[9]!==u?(f=_l(Rp,{count:i,ListActions:[a!==io.AllAvailable&&i<u?_l(zo,{"aria-label":d("general:selectAll",{count:`(${u})`,label:s}),id:"select-all-across-pages",onClick:()=>c(!0),children:d("general:selectAll",{count:`(${u})`,label:""})},"select-all"):null].filter(Boolean),SelectionActions:[!r&&EU(PU,{children:[_l(Ju,{collection:o,count:i,ids:l(),selectAll:a===io.AllAvailable}),_l(nd,{collection:o,count:i,ids:l(),selectAll:a===io.AllAvailable}),_l(sd,{collection:o,count:i,ids:l(),selectAll:a===io.AllAvailable})]},"bulk-actions"),!n&&_l(Hv,{collection:o},"bulk-delete")].filter(Boolean)}),e[0]=o,e[1]=i,e[2]=n,e[3]=r,e[4]=l,e[5]=s,e[6]=a,e[7]=d,e[8]=c,e[9]=u,e[10]=f):f=e[10],f};import{jsx as as,jsxs as ZU,Fragment as JU}from"react/jsx-runtime";import{getTranslation as R0}from"@payloadcms/translations";import"react";import{jsx as cT}from"react/jsx-runtime";var NU="close-modal-button";function uT({slug:t,className:e}){let{closeModal:o}=le(),{t:n}=$();return cT("button",{"aria-label":n("general:close"),className:[NU,e].filter(Boolean).join(" "),onClick:()=>{o(t)},type:"button",children:cT(pt,{})},"close-button")}import{c as $U}from"react/compiler-runtime";import{jsx as LU,jsxs as dT}from"react/jsx-runtime";import{getTranslation as kU}from"@payloadcms/translations";import{formatAdminURL as mT}from"payload/shared";var ad="list-folder-pills";function Vp(t){let e=$U(16),{collectionConfig:o,folderCollectionSlug:n,viewType:r}=t,{i18n:s,t:i}=$(),{config:l}=H();if(!n)return null;let a=r==="folders"&&`${ad}__button--active`,c;e[0]!==a?(c=[`${ad}__button`,a].filter(Boolean),e[0]=a,e[1]=c):c=e[1];let u=c.join(" "),d=r==="folders",f=r==="list"?"link":"div",m=`/collections/${o.slug}/${n}`,h;if(e[2]!==o.labels?.plural||e[3]!==o.slug||e[4]!==l.routes.admin||e[5]!==l.serverURL||e[6]!==s||e[7]!==i||e[8]!==u||e[9]!==d||e[10]!==f||e[11]!==m||e[12]!==r){let p=LU(te,{buttonStyle:"tab",className:u,disabled:d,el:f,to:mT({adminRoute:l.routes.admin,path:m,serverURL:l.serverURL}),children:i("folder:byFolder")}),g=r==="list"&&`${ad}__button--active`,b;e[14]!==g?(b=[`${ad}__button`,g].filter(Boolean),e[14]=g,e[15]=b):b=e[15],h=dT("div",{className:ad,children:[p,dT(te,{buttonStyle:"tab",className:b.join(" "),disabled:r==="list",el:r==="folders"?"link":"div",to:mT({adminRoute:l.routes.admin,path:`/collections/${o.slug}`,serverURL:l.serverURL}),children:[i("general:all")," ",kU(o?.labels?.plural,s)]})]}),e[2]=o.labels?.plural,e[3]=o.slug,e[4]=l.routes.admin,e[5]=l.serverURL,e[6]=s,e[7]=i,e[8]=u,e[9]=d,e[10]=f,e[11]=m,e[12]=r,e[13]=h}else h=e[13];return h}import{c as jU}from"react/compiler-runtime";import{jsx as fT,jsxs as MU}from"react/jsx-runtime";import{getTranslation as pT}from"@payloadcms/translations";import{jsx as Gp,jsxs as D0}from"react/jsx-runtime";import"react";var is="list-header",ra=t=>D0("header",{className:[is,t.className].filter(Boolean).join(" "),children:[D0("div",{className:`${is}__content`,children:[D0("div",{className:`${is}__title-and-actions`,children:[Gp("h1",{className:`${is}__title`,children:t.title}),t.TitleActions.length?Gp("div",{className:`${is}__title-actions`,children:t.TitleActions}):null]}),t.Actions.length?Gp("div",{className:`${is}__actions`,children:t.Actions}):null]}),t.AfterListHeaderContent?Gp("div",{className:`${is}__after-header-content`,children:t.AfterListHeaderContent}):null]});var BU="list-drawer",hT=()=>{let t=jU(12),{i18n:e,t:o}=$(),{config:n,getEntityConfig:r}=H(),{collections:s}=n,{enabledCollections:i,selectedOption:l,setSelectedOption:a}=fr(),c;if(t[0]!==s||t[1]!==i||t[2]!==r||t[3]!==e||t[4]!==l||t[5]!==a||t[6]!==o){c=Symbol.for("react.early_return_sentinel");e:{let u;t[8]!==i?(u=f=>{let{slug:m}=f;return i.includes(m)},t[8]=i,t[9]=u):u=t[9];let d=s.filter(u);if(d.length>1){let f=r({collectionSlug:l.value}),m;t[10]!==e?(m=h=>({label:pT(h.labels.singular,e),value:h.slug}),t[10]=e,t[11]=m):m=t[11],c=MU("div",{className:`${BU}__select-collection-wrap`,children:[fT(we,{label:o("upload:selectCollectionToBrowse")}),fT(ft,{className:`${is}__select-collection`,isClearable:!1,onChange:a,options:d.map(m),value:{label:pT(f?.labels.singular,e),value:f?.slug}})]});break e}}t[0]=s,t[1]=i,t[2]=r,t[3]=e,t[4]=l,t[5]=a,t[6]=o,t[7]=c}else c=t[7];return c!==Symbol.for("react.early_return_sentinel")?c:null};import{c as OU}from"react/compiler-runtime";import{jsx as gT}from"react/jsx-runtime";var VU="list-header";function F0(t){let e=OU(3),{hasCreatePermission:o}=t,{DocumentDrawerToggler:n}=fr(),{t:r}=$();if(!o)return null;let s;return e[0]!==n||e[1]!==r?(s=gT(n,{className:`${VU}__create-new-button`,children:gT(dt,{size:"small",children:r("general:createNew")})},"create-new-button-toggler"),e[0]=n,e[1]=r,e[2]=s):s=e[2],s}import{c as GU}from"react/compiler-runtime";import{jsx as zU}from"react/jsx-runtime";import{useRouter as HU}from"next/navigation.js";import"react";function ld(t){let e=GU(13),{collectionSlug:o,hasCreatePermission:n,isBulkUploadEnabled:r,onBulkUploadSuccess:s,openBulkUpload:i}=t,{drawerSlug:l,setCollectionSlug:a,setCurrentActivePath:c,setOnSuccess:u}=Vo(),{t:d}=$(),{openModal:f}=le(),m=HU(),h;e[0]!==l||e[1]!==o||e[2]!==s||e[3]!==i||e[4]!==f||e[5]!==m||e[6]!==a||e[7]!==c||e[8]!==u?(h=()=>{typeof i=="function"?i():(a(o),c(o),f(l),u(o,()=>{typeof s=="function"?s():m.refresh()}))},e[0]=l,e[1]=o,e[2]=s,e[3]=i,e[4]=f,e[5]=m,e[6]=a,e[7]=c,e[8]=u,e[9]=h):h=e[9];let p=h;if(!n||!r)return null;let g;return e[10]!==p||e[11]!==d?(g=zU(te,{"aria-label":d("upload:bulkUpload"),buttonStyle:"pill",onClick:p,size:"small",children:d("upload:bulkUpload")},"bulk-upload-button"),e[10]=p,e[11]=d,e[12]=g):g=e[12],g}import{c as WU}from"react/compiler-runtime";import{jsx as UU}from"react/jsx-runtime";import{getTranslation as XU}from"@payloadcms/translations";import"react";var YU="list-create-new-doc";function T0(t){let e=WU(5),{collectionConfig:o,hasCreatePermission:n,newDocumentURL:r}=t,{i18n:s,t:i}=$();if(!n)return null;let l=o?.labels?.singular,a;return e[0]!==s||e[1]!==r||e[2]!==i||e[3]!==l?(a=UU(te,{"aria-label":i("general:createNewLabel",{label:XU(l,s)}),buttonStyle:"pill",className:`${YU}__create-new-button`,el:"link",size:"small",to:r,children:i("general:createNew")},"create-new-button"),e[0]=s,e[1]=r,e[2]=i,e[3]=l,e[4]=a):a=e[4],a}var bT="list-drawer",A0=({className:t,collectionConfig:e,Description:o,disableBulkDelete:n,disableBulkEdit:r,hasCreatePermission:s,i18n:i,isBulkUploadEnabled:l,newDocumentURL:a,onBulkUploadSuccess:c,openBulkUpload:u,smallBreak:d,viewType:f})=>{let{config:m,getEntityConfig:h}=H(),{drawerSlug:p,isInDrawer:g,selectedOption:b}=fr();return g?as(ra,{Actions:[as(uT,{className:`${bT}__header-close`,slug:p},"close-button")],AfterListHeaderContent:ZU(JU,{children:[o,as(hT,{})]}),className:`${bT}__header`,title:R0(h({collectionSlug:b.value})?.labels?.plural,i),TitleActions:[as(F0,{hasCreatePermission:s},"list-drawer-create-new-doc")].filter(Boolean)}):as(ra,{Actions:[!d&&as(id,{collectionConfig:e,disableBulkDelete:n,disableBulkEdit:r,label:R0(e?.labels?.plural,i)},"list-selection"),e.folders&&m.folders&&as(Vp,{collectionConfig:e,folderCollectionSlug:m.folders.slug,viewType:f},"list-header-buttons")].filter(Boolean),AfterListHeaderContent:o,className:t,title:R0(e?.labels?.plural,i),TitleActions:[s&&as(T0,{collectionConfig:e,hasCreatePermission:s,newDocumentURL:a},"list-header-create-new-doc"),s&&l&&as(ld,{collectionSlug:e.slug,hasCreatePermission:s,isBulkUploadEnabled:l,onBulkUploadSuccess:c,openBulkUpload:u},"list-header-bulk-upload")].filter(Boolean)})};import{c as qU}from"react/compiler-runtime";import{jsx as CT}from"react/jsx-runtime";import{formatAdminURL as QU}from"payload/shared";import"react";import{jsx as vT}from"react/jsx-runtime";import"react";var E0=()=>vT("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:vT("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})});var KU="nav",eX=t=>{let e=qU(5),{tabIndex:o}=t,n=o===void 0?0:o,{t:r}=$(),{config:s}=H(),{admin:i,routes:l}=s,{routes:a}=i,{logout:c}=a,{admin:u}=l,d;return e[0]!==u||e[1]!==c||e[2]!==r||e[3]!==n?(d=CT(Vt,{"aria-label":r("authentication:logOut"),className:`${KU}__log-out`,href:QU({adminRoute:u,path:c}),prefetch:!1,tabIndex:n,title:r("authentication:logOut"),children:CT(E0,{})}),e[0]=u,e[1]=c,e[2]=r,e[3]=n,e[4]=d):d=e[4],d};import{c as tX}from"react/compiler-runtime";import{jsx as Dl,jsxs as xT}from"react/jsx-runtime";import oX,{useState as yT}from"react";var Zs="nav-group",rX="nav",nX=t=>{let e=tX(21),{children:o,isOpen:n,label:r}=t,[s,i]=yT(typeof n<"u"?!n:!1),[l,a]=yT(!1),{setPreference:c}=mo(),{navOpen:u}=Ki();if(r){let f;e[0]!==s||e[1]!==r||e[2]!==c?(f=()=>{a(!0);let D={};D?.[r]?D[r].open=!!s:D[r]={open:!!s},c(rX,{groups:D},!0),i(!s)},e[0]=s,e[1]=r,e[2]=c,e[3]=f):f=e[3];let m=f,h=`${r}`,p=s&&`${Zs}--collapsed`,g;e[4]!==h||e[5]!==p?(g=[`${Zs}`,h,p].filter(Boolean),e[4]=h,e[5]=p,e[6]=g):g=e[6];let b=g.join(" "),C=`nav-group-${r}`,v=`${Zs}__toggle--${s?"collapsed":"open"}`,x;e[7]!==v?(x=[`${Zs}__toggle`,v].filter(Boolean),e[7]=v,e[8]=x):x=e[8];let y=x.join(" "),I=u?0:-1,w;return e[9]!==l||e[10]!==o||e[11]!==s||e[12]!==r||e[13]!==I||e[14]!==b||e[15]!==C||e[16]!==y||e[17]!==m?(w=xT("div",{className:b,id:C,children:[xT("button",{className:y,onClick:m,tabIndex:I,type:"button",children:[Dl("div",{className:`${Zs}__label`,children:r}),Dl("div",{className:`${Zs}__indicator`,children:Dl(Ye,{className:`${Zs}__indicator`,direction:s?void 0:"up"})})]}),Dl(Er,{duration:l?200:0,height:s?0:"auto",children:Dl("div",{className:`${Zs}__content`,children:o})})]}),e[9]=l,e[10]=o,e[11]=s,e[12]=r,e[13]=I,e[14]=b,e[15]=C,e[16]=y,e[17]=m,e[18]=w):w=e[18],w}let d;return e[19]!==o?(d=Dl(oX.Fragment,{children:o}),e[19]=o,e[20]=d):d=e[20],d};import{c as sX}from"react/compiler-runtime";import{jsx as Js,jsxs as wT}from"react/jsx-runtime";import{collectionDefaults as iX,isNumber as aX}from"payload/shared";import"react";var Fl="per-page",lX=iX.admin.pagination.limits,P0=t=>{let e=sX(9),{defaultLimit:o,handleChange:n,limit:r,limits:s}=t,i=o===void 0?10:o,l=s===void 0?lX:s,{t:a}=$(),c=aX(r)?r:i,u;if(e[0]!==n||e[1]!==c||e[2]!==l||e[3]!==a){let d;e[5]!==n||e[6]!==c||e[7]!==l?(d=f=>{let{close:m}=f;return Js(_e.ButtonGroup,{children:l.map((h,p)=>wT(_e.Button,{className:[`${Fl}__button`,h===c&&`${Fl}__button-active`].filter(Boolean).join(" "),onClick:()=>{m(),n&&n(h)},children:[h===c&&Js("div",{className:`${Fl}__chevron`,children:Js(Ye,{direction:"right",size:"small"})}),"\xA0",Js("span",{children:h})]},p))})},e[5]=n,e[6]=c,e[7]=l,e[8]=d):d=e[8],u=Js("div",{className:Fl,children:Js(yt,{button:wT("div",{className:`${Fl}__base-button`,children:[Js("span",{children:a("general:perPage",{limit:c})}),"\xA0",Js(Ye,{className:`${Fl}__icon`})]}),horizontalAlign:"right",render:d,size:"small"})}),e[0]=n,e[1]=c,e[2]=l,e[3]=a,e[4]=u}else u=e[4];return u};import{jsx as cX,jsxs as uX}from"react/jsx-runtime";import{formatAdminURL as dX}from"payload/shared";import"react";var mX="browse-by-folder-button";function fX({active:t}){let{t:e}=$(),{config:o}=H(),{admin:{routes:{browseByFolder:n}},routes:{admin:r}}=o;return uX(Vt,{className:[mX,t&&"active"].filter(Boolean).join(" "),href:dX({adminRoute:r,path:n}),id:"browse-by-folder",prefetch:!1,children:[cX(tr,{}),e("folder:browseByFolder")]})}import{c as vX}from"react/compiler-runtime";import{jsx as Hp}from"react/jsx-runtime";import{Fragment as ST}from"react";import{c as pX}from"react/compiler-runtime";import{jsx as hX,jsxs as gX}from"react/jsx-runtime";import"react";function N0(t){return t===void 0||typeof t=="number"?t:decodeURIComponent(t)}var bX="id-label",zp=t=>{let e=pX(9),{id:o,className:n,prefix:r}=t,s=r===void 0?"ID:":r,{config:i}=H(),{routes:l}=i,{admin:a}=l,{collectionSlug:c,globalSlug:u}=Pe(),d=Tr(),f=`/${c?`collections/${c}`:`globals/${u}`}/${o}`,m;if(e[0]!==a||e[1]!==n||e[2]!==d||e[3]!==o||e[4]!==s||e[5]!==f){let h=mf({adminRoute:a,path:f}),p;e[7]!==n?(p=[bX,n].filter(Boolean),e[7]=n,e[8]=p):p=e[8],m=gX("div",{className:p.join(" "),title:o,children:[s,"\xA0",d>1?hX(Vt,{href:h,children:N0(o)}):N0(o)]}),e[0]=a,e[1]=n,e[2]=d,e[3]=o,e[4]=s,e[5]=f,e[6]=m}else m=e[6];return m};var $0="render-title",L0=t=>{let e=vX(10),{className:o,element:n,fallback:r,title:s}=t,i=n===void 0?"h1":n,{id:l,isInitializing:a}=Pe(),{title:c}=lr(),u=s||c||r,d=u===l,f=i,m;if(e[0]!==f||e[1]!==o||e[2]!==l||e[3]!==d||e[4]!==a||e[5]!==u){let h=Hp(ST,{children:"\xA0"}),p=d&&`${$0}--has-id`,g;e[7]!==o||e[8]!==p?(g=[o,$0,p].filter(Boolean),e[7]=o,e[8]=p,e[9]=g):g=e[9],m=Hp(f,{className:g.join(" "),title:u,children:a?h:Hp(ST,{children:d?Hp(zp,{className:`${$0}__id`,id:l}):u||h})}),e[0]=f,e[1]=o,e[2]=l,e[3]=d,e[4]=a,e[5]=u,e[6]=m}else m=e[6];return m};import{c as CX}from"react/compiler-runtime";import{jsx as Tl,jsxs as IT}from"react/jsx-runtime";import"react";var _n="sort-column",xX=t=>{let e=CX(22),{name:o,appearance:n,disable:r,Label:s,label:i}=t,l=r===void 0?!1:r,{handleSortChange:a,query:c}=Lt(),{t:u}=$(),{sort:d}=c,f=`-${o}`,m=o,h;e[0]!==m||e[1]!==d?(h=[`${_n}__asc`],d===m&&h.push(`${_n}--active`),e[0]=m,e[1]=d,e[2]=h):h=e[2];let p;e[3]!==f||e[4]!==d?(p=[`${_n}__desc`],d===f&&p.push(`${_n}--active`),e[3]=f,e[4]=d,e[5]=p):p=e[5];let g=n&&`${_n}--appearance-${n}`,b;e[6]!==g?(b=[_n,g].filter(Boolean),e[6]=g,e[7]=b):b=e[7];let C=b.join(" "),v;e[8]!==s||e[9]!==i?(v=s??Tl(we,{hideLocale:!0,label:i,unstyled:!0}),e[8]=s,e[9]=i,e[10]=v):v=e[10];let x;return e[11]!==m||e[12]!==h||e[13]!==f||e[14]!==p||e[15]!==l||e[16]!==a||e[17]!==i||e[18]!==u||e[19]!==C||e[20]!==v?(x=IT("div",{className:C,children:[Tl("span",{className:`${_n}__label`,children:v}),!l&&IT("div",{className:`${_n}__buttons`,children:[Tl("button",{"aria-label":u("general:sortByLabelDirection",{direction:u("general:ascending"),label:i}),className:[...h,`${_n}__button`].filter(Boolean).join(" "),onClick:()=>void a(m),type:"button",children:Tl(Ye,{direction:"up"})}),Tl("button",{"aria-label":u("general:sortByLabelDirection",{direction:u("general:descending"),label:i}),className:[...p,`${_n}__button`].filter(Boolean).join(" "),onClick:()=>void a(f),type:"button",children:Tl(Ye,{})})]})]}),e[11]=m,e[12]=h,e[13]=f,e[14]=p,e[15]=l,e[16]=a,e[17]=i,e[18]=u,e[19]=C,e[20]=v,e[21]=x):x=e[21],x};import{jsx as _T}from"react/jsx-runtime";import"react";var yX=t=>{let{className:e}=t;return _T("svg",{className:[e,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:_T("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})};import{jsx as DT}from"react/jsx-runtime";import"react";var wX=()=>DT("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:DT("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})});import{jsx as k0}from"react/jsx-runtime";import"react";var j0="minimize-maximize",SX=({className:t,isMinimized:e})=>{let o=[j0,e?`${j0}--minimized`:`${j0}--maximized`,t].filter(Boolean).join(" ");return k0("svg",{className:o,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:e?k0("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):k0("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})};import{jsx as FT}from"react/jsx-runtime";import"react";var Rl=()=>FT("svg",{className:"icon icon--document",fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:FT("path",{clipRule:"evenodd",d:"M3.5 1C2.94772 1 2.5 1.44772 2.5 2V14C2.5 14.5523 2.94771 15 3.5 15H12.5C13.0523 15 13.5 14.5523 13.5 14V4.41421C13.5 4.149 13.3946 3.89464 13.2071 3.70711L10.7929 1.29289C10.6054 1.10536 10.351 1 10.0858 1H3.5ZM5 5.5C5 5.22386 5.22386 5 5.5 5H10.5C10.7761 5 11 5.22386 11 5.5C11 5.77614 10.7761 6 10.5 6H5.5C5.22386 6 5 5.77614 5 5.5ZM5 8.5C5 8.22386 5.22386 8 5.5 8H10.5C10.7761 8 11 8.22386 11 8.5C11 8.77614 10.7761 9 10.5 9H5.5C5.22386 9 5 8.77614 5 8.5ZM5 11.5C5 11.2239 5.22386 11 5.5 11H10.5C10.7761 11 11 11.2239 11 11.5C11 11.7761 10.7761 12 10.5 12H5.5C5.22386 12 5 11.7761 5 11.5Z",fill:"currentColor",fillRule:"evenodd"})});import{jsx as cd,jsxs as IX}from"react/jsx-runtime";import"react";function _X(){return IX("svg",{className:"icon icon--move-folder",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[cd("g",{filter:"url(#filter0_d_278_1086)",children:cd("path",{d:"M5.33334 10V7.33334C5.33334 6.97971 5.47382 6.64058 5.72387 6.39053C5.97392 6.14048 6.31305 6 6.66668 6H9.26668C9.48967 5.99782 9.70965 6.0516 9.90648 6.15642C10.1033 6.26124 10.2707 6.41375 10.3933 6.6L10.9333 7.4C11.0547 7.58436 11.22 7.73568 11.4143 7.84041C11.6087 7.94513 11.8259 7.99997 12.0467 8H17.3333C17.687 8 18.0261 8.14048 18.2762 8.39053C18.5262 8.64058 18.6667 8.97971 18.6667 9.33334V16C18.6667 16.3536 18.5262 16.6928 18.2762 16.9428C18.0261 17.1929 17.687 17.3333 17.3333 17.3333H6.66668C6.31305 17.3333 5.97392 17.1929 5.72387 16.9428C5.47382 16.6928 5.33334 16.3536 5.33334 16V15.3333M5.33334 12.6667H12M12 12.6667L10 14.6667M12 12.6667L10 10.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),cd("defs",{children:cd("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"26",id:"filter0_d_278_1086",width:"26",x:"-1",y:"-1",children:cd("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_278_1086",mode:"normal",result:"shape"})})})]})}import{jsx as Wp,jsxs as DX}from"react/jsx-runtime";import"react";var M0=()=>DX("svg",{className:"icon icon--grid-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Wp("path",{d:"M8 4H4.66667C4.29848 4 4 4.29848 4 4.66667V8C4 8.36819 4.29848 8.66667 4.66667 8.66667H8C8.36819 8.66667 8.66667 8.36819 8.66667 8V4.66667C8.66667 4.29848 8.36819 4 8 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Wp("path",{d:"M15.3333 4H12C11.6318 4 11.3333 4.29848 11.3333 4.66667V8C11.3333 8.36819 11.6318 8.66667 12 8.66667H15.3333C15.7015 8.66667 16 8.36819 16 8V4.66667C16 4.29848 15.7015 4 15.3333 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Wp("path",{d:"M15.3333 11.3333H12C11.6318 11.3333 11.3333 11.6318 11.3333 12V15.3333C11.3333 15.7015 11.6318 16 12 16H15.3333C15.7015 16 16 15.7015 16 15.3333V12C16 11.6318 15.7015 11.3333 15.3333 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Wp("path",{d:"M8 11.3333H4.66667C4.29848 11.3333 4 11.6318 4 12V15.3333C4 15.7015 4.29848 16 4.66667 16H8C8.36819 16 8.66667 15.7015 8.66667 15.3333V12C8.66667 11.6318 8.36819 11.3333 8 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as TT}from"react/jsx-runtime";import"react";var B0=()=>TT("svg",{className:"icon icon--list-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:TT("path",{d:"M4 10H16M4 14H16M4 6H16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})});import{jsx as RT,jsxs as FX}from"react/jsx-runtime";import"react";var O0=()=>FX("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[RT("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),RT("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as AT,jsxs as TX}from"react/jsx-runtime";import"react";var V0=()=>TX("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[AT("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),AT("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as ET,jsxs as RX}from"react/jsx-runtime";import"react";var G0=()=>RX("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[ET("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),ET("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as PT,jsxs as AX}from"react/jsx-runtime";import"react";var z0=()=>AX("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[PT("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),PT("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{c as $T}from"react/compiler-runtime";import{jsx as NT}from"react/jsx-runtime";import Al from"react";var LT=Al.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),kT=Al.createContext({}),H0=t=>{let e=$T(6),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];let[r,s]=Al.useState(n),i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=d=>{s(f=>{let m={...f};return m[d.key]=d.func,m})},e[1]=i):i=e[1];let l=i,a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=d=>{s(f=>{let m={...f};return delete m[d.key],m})},e[2]=a):a=e[2];let c=a,u;return e[3]!==o||e[4]!==r?(u=NT(LT,{value:{addClientFunction:l,removeClientFunction:c},children:NT(kT,{value:r,children:o})}),e[3]=o,e[4]=r,e[5]=u):u=e[5],u},EX=(t,e)=>{let o=$T(6),{addClientFunction:n,removeClientFunction:r}=Al.use(LT),s,i;o[0]!==n||o[1]!==e||o[2]!==t||o[3]!==r?(s=()=>(n({func:e,key:t}),()=>{r({func:e,key:t})}),i=[e,t,n,r],o[0]=n,o[1]=e,o[2]=t,o[3]=r,o[4]=s,o[5]=i):(s=o[4],i=o[5]),Al.useEffect(s,i)},PX=()=>Al.use(kT);import{c as NX}from"react/compiler-runtime";import{jsx as jT}from"react/jsx-runtime";import $X,{useEffect as LX,useRef as kX}from"react";var MT=200,W0="progress-bar",jX=150,MX=()=>{let t=NX(9),{isTransitioning:e,transitionProgress:o}=Je(),[n,r]=$X.useState(null),s=kX(!0),i,l;if(t[0]!==e||t[1]!==o?(i=()=>{let a,c;return e?s.current?c=setTimeout(()=>{r(o),s.current=!1},jX):r(o):(s.current=!0,r(1),a=setTimeout(()=>{r(null)},MT*2)),()=>{clearTimeout(a),clearTimeout(c)}},l=[e,o],t[0]=e,t[1]=o,t[2]=i,t[3]=l):(i=t[2],l=t[3]),LX(i,l),typeof n=="number"){let a=n===1&&`${W0}--fade-out`,c;t[4]!==a?(c=[W0,a].filter(Boolean),t[4]=a,t[5]=c):c=t[5];let u=c.join(" "),d;return t[6]!==n||t[7]!==u?(d=jT("div",{className:u,style:{"--transition-duration":`${MT}ms`},children:jT("div",{className:`${W0}__progress`,style:{width:`${(n||0)*100}%`}})}),t[6]=n,t[7]=u,t[8]=d):d=t[8],d}return null};import{c as BX}from"react/compiler-runtime";import{jsx as OX}from"react/jsx-runtime";import{createContext as VX,use as GX}from"react";var BT=VX({}),zX=t=>{let e=BX(6),{children:o,visibleEntities:n}=t,r;e[0]!==n?(r=l=>{let{collectionSlug:a,globalSlug:c}=l;return a?n.collections.includes(a):c?n.globals.includes(c):!1},e[0]=n,e[1]=r):r=e[1];let s=r,i;return e[2]!==o||e[3]!==s||e[4]!==n?(i=OX(BT,{value:{isEntityVisible:s,visibleEntities:n},children:o}),e[2]=o,e[3]=s,e[4]=n,e[5]=i):i=e[5],i},U0=()=>GX(BT);import{c as HX}from"react/compiler-runtime";import{jsx as WX}from"react/jsx-runtime";import{useParams as UX}from"next/navigation.js";import{createContext as XX,use as YX}from"react";var OT=XX({}),X0=t=>{let e=HX(3),{children:o}=t,n=UX(),r;return e[0]!==o||e[1]!==n?(r=WX(OT,{value:n,children:o}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r},ZX=()=>YX(OT);import{c as uY}from"react/compiler-runtime";import{jsx as Ot,jsxs as HT}from"react/jsx-runtime";import{DndContext as dY,pointerWithin as mY}from"@dnd-kit/core";import _Ye,{Fragment as DYe}from"react";import{useContext as qX}from"react";import{createContext as JX}from"react";var ud=JX({});var dd=()=>qX(ud);import QX,{useCallback as KX,useEffect as eY,useReducer as tY,useRef as oY}from"react";var rY=(t,e)=>{let{timestamp:o,animationRef:n}=e;n.current=null;let{x:r,y:s,xDirection:i,yDirection:l,eventsFired:a,hasScrolled:c}=t,u=c||!!o,d=u?window.pageXOffset:0,f=u?window.pageYOffset:0,m=u?a+1:a,h=d-r,p=f-s,g=d/(document.body.scrollWidth-window.innerWidth)*100,b=f/(document.body.scrollHeight-window.innerHeight)*100,C=(g+b)/2,v=h>0?"right":h<0?"left":i,x=p>0?"down":p<0?"up":l;return{x:d,y:f,xDifference:h,yDifference:p,xDirection:v,yDirection:x,xPercentage:g,yPercentage:b,totalPercentage:C,eventsFired:m,hasScrolled:u}},md=t=>{let{children:e}=t,o=oY(null),[n,r]=tY(rY,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),s=KX(i=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(l=>{r({e:i,timestamp:l,animationRef:o})})},[]);return eY(()=>(window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}),[s]),QX.createElement(ud.Provider,{value:Object.assign({},n)},e&&e)};import NYe from"react";import fY from"react";var{WindowInfoProvider:Y0}=gs&&"WindowInfoProvider"in gs?gs:{WindowInfoProvider:void 0},{useWindowInfo:na}=gs&&"useWindowInfo"in gs?gs:{useWindowInfo:void 0};import{jsx as nY}from"react/jsx-runtime";import{useSearchParams as sY}from"next/navigation.js";import*as Up from"qs-esm";import VT,{createContext as iY,use as aY}from"react";var lY={searchParams:{},stringifyParams:()=>""},GT=iY(lY),Z0=({children:t})=>{let o=sY().toString(),n=VT.useMemo(()=>Up.parse(o,{depth:10,ignoreQueryPrefix:!0}),[o]),r=VT.useCallback(({params:s,replace:i=!1})=>Up.stringify({...i?{}:n,...s},{addQueryPrefix:!0}),[n]);return nY(GT,{value:{searchParams:n,stringifyParams:r},children:t})},cY=()=>aY(GT);import{jsx as fd}from"react/jsx-runtime";import"react";var zT=()=>fd(sy,{className:"payload-toast-container",closeButton:!0,dir:"undefined",gap:8,icons:{error:fd(O0,{}),info:fd(V0,{}),success:fd(G0,{}),warning:fd(z0,{})},offset:"calc(var(--gutter-h) / 2)",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:5});var pY=t=>{let e=uY(16),{children:o,config:n,dateFNSKey:r,fallbackLang:s,isNavOpen:i,languageCode:l,languageOptions:a,locale:c,permissions:u,serverFunction:d,switchLanguageServerAction:f,theme:m,translations:h,user:p}=t,g=fY.useId(),b;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==g||e[4]!==s||e[5]!==i||e[6]!==l||e[7]!==a||e[8]!==c||e[9]!==u||e[10]!==d||e[11]!==f||e[12]!==m||e[13]!==h||e[14]!==p?(b=HT(c6,{children:[Ot(V1,{serverFunction:d,children:Ot(Eh,{children:Ot(Xb,{cachingEnabled:process.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH==="true",children:Ot(fh,{config:n,children:Ot(H0,{children:Ot(mh,{dateFNSKey:r,fallbackLang:s,language:l,languageOptions:a,switchLanguageServerAction:f,translations:h,children:Ot(Y0,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:Ot(md,{children:Ot(Z0,{children:Ot(ng,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:HT(dg,{permissions:u,user:p,children:[Ot(pg,{children:Ot(hh,{theme:m,children:Ot(X0,{children:Ot(hg,{locale:c,children:Ot(kv,{children:Ot(wI,{children:Ot(Wb,{children:Ot(pF,{initialIsOpen:i,children:Ot(Eb,{children:Ot(dY,{collisionDetection:mY,id:g,children:o})})})})})})})})})}),Ot(tg,{}),Ot(ay,{})]})})})})})})})})})})}),Ot(zT,{})]}),e[0]=o,e[1]=n,e[2]=r,e[3]=g,e[4]=s,e[5]=i,e[6]=l,e[7]=a,e[8]=c,e[9]=u,e[10]=d,e[11]=f,e[12]=m,e[13]=h,e[14]=p,e[15]=b):b=e[15],b};import{jsx as WT,jsxs as hY}from"react/jsx-runtime";import{email as gY,username as bY}from"payload/shared";import"react";function J0(t){let{className:e,loginWithUsername:o,readOnly:n,t:r}=t,s=!o||o?.requireEmail||o?.allowEmailLogin,i=!!o;return hY("div",{className:e,children:[s?WT(Ti,{field:{name:"email",admin:{autoComplete:"off"},label:r("general:email"),required:!o||o&&o.requireEmail},path:"email",readOnly:n,schemaPath:"email",validate:gY}):null,i&&WT(Bi,{field:{name:"username",admin:{autoComplete:"off"},label:r("authentication:username"),required:o&&o.requireUsername},path:"username",readOnly:n,schemaPath:"username",validate:bY})]})}import{c as vY}from"react/compiler-runtime";import{jsx as CY}from"react/jsx-runtime";import"react";var UT="select-all",xY=()=>{let t=vY(7),{selectAll:e,toggleAll:o}=To(),{i18n:n}=$(),r;if(t[0]!==n||t[1]!==e||t[2]!==o){let s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=[UT,`${UT}__checkbox`],t[4]=s):s=t[4];let i;t[5]!==o?(i=()=>o(),t[5]=o,t[6]=i):i=t[6],r=CY(Bn,{"aria-label":e===io.None?n.t("general:selectAllRows"):n.t("general:deselectAllRows"),checked:e===io.AllInPage||e===io.AllAvailable,className:s.join(" "),id:"select-all",name:"select-all",onToggle:i,partialChecked:e===io.Some}),t[0]=n,t[1]=e,t[2]=o,t[3]=r}else r=t[3];return r};import{c as yY}from"react/compiler-runtime";import{jsx as XT}from"react/jsx-runtime";import"react";var YT="select-row",wY=t=>{let e=yY(14),{rowData:o}=t,{user:n}=Fe(),{selected:r,setSelection:s}=To(),i;e[0]!==o?(i=o||{},e[0]=o,e[1]=i):i=e[1];let{_isLocked:l,_userEditing:a}=i;if(l&&a&&a.id!==n?.id){let p;return e[2]!==a?(p=XT(Xu,{user:a}),e[2]=a,e[3]=p):p=e[3],p}let u;e[4]!==o.id||e[5]!==r?(u=r.get(o.id),e[4]=o.id,e[5]=r,e[6]=u):u=e[6];let d=!!u,f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=[YT,`${YT}__checkbox`],e[7]=f):f=e[7];let m;e[8]!==o.id||e[9]!==s?(m=()=>s(o.id),e[8]=o.id,e[9]=s,e[10]=m):m=e[10];let h;return e[11]!==d||e[12]!==m?(h=XT(Bn,{checked:d,className:f.join(" "),onToggle:m}),e[11]=d,e[12]=m,e[13]=h):h=e[13],h};import{jsx as SY}from"react/jsx-runtime";import"react";var El=t=>{let{onClick:e}=t,{count:o,selected:n}=To();return!n||!o?null:SY(dt,{onClick:()=>{typeof e=="function"&&e(n)},pillStyle:"white",size:"small",children:`Select ${o}`})};import{c as IY}from"react/compiler-runtime";import{jsx as Kt,jsxs as sa}from"react/jsx-runtime";import{getTranslation as Xp}from"@payloadcms/translations";import{useRouter as _Y}from"next/navigation.js";import{formatFilesize as DY,isNumber as FY}from"payload/shared";import{Fragment as q0,useEffect as ZT,useState as TY}from"react";var ls="collection-list";function RY(t){let e=IY(17),{AfterList:o,AfterListTable:n,beforeActions:r,BeforeList:s,BeforeListTable:i,collectionSlug:l,columnState:a,Description:c,disableBulkDelete:u,disableBulkEdit:d,disableQueryPresets:f,enableRowSelections:m,hasCreatePermission:h,listMenuItems:p,newDocumentURL:g,queryPreset:b,queryPresetPermissions:C,renderedFilters:v,resolvedFilterOptions:x,Table:y}=t,[I,w]=TY(y),{allowCreate:D,createNewDrawerSlug:_,isInDrawer:R,onBulkSelect:T}=fr(),S=D!==void 0?D&&h:h,F,A;e[0]!==y?(F=()=>{y&&w(y)},A=[y],e[0]=y,e[1]=F,e[2]=A):(F=e[1],A=e[2]),ZT(F,A);let{user:P}=Fe(),{getEntityConfig:E}=H(),k=_Y(),{data:M,defaultLimit:N,handlePageChange:L,handlePerPageChange:O,query:j}=Lt(),{openModal:B}=le(),{drawerSlug:V,setCollectionSlug:G,setCurrentActivePath:z,setOnSuccess:Y}=Vo(),Q=E({collectionSlug:l}),{labels:Z,upload:X}=Q,q=!!X,W=q&&Q.upload.bulkUpload,{i18n:ee}=$(),{setStepNav:pe}=Cr(),{breakpoints:ae}=na(),{s:Se}=ae,K;if(q){let fe;e[3]!==M.docs?(fe=M.docs.map(AY),e[3]=M.docs,e[4]=fe):fe=e[4],K=fe}else K=M.docs;let se=K,ge;e[5]!==V||e[6]!==l||e[7]!==B||e[8]!==k||e[9]!==G||e[10]!==z||e[11]!==Y?(ge=()=>{G(l),z(l),B(V),Y(l,()=>k.refresh())},e[5]=V,e[6]=l,e[7]=B,e[8]=k,e[9]=G,e[10]=z,e[11]=Y,e[12]=ge):ge=e[12];let ye=ge;ZT(()=>{R||pe([{label:Z?.plural}])},[pe,Z,R]);let oe;return e[13]!==r||e[14]!==m||e[15]!==T?(oe=m&&typeof T=="function"?r?[...r,Kt(El,{onClick:T},"select-many")]:[Kt(El,{onClick:T},"select-many")]:r,e[13]=r,e[14]=m,e[15]=T,e[16]=oe):oe=e[16],Kt(q0,{children:Kt(Mc,{collectionSlug:l,columnState:a,children:Kt("div",{className:`${ls} ${ls}--${l}`,children:sa(Ov,{docs:se,totalDocs:M.totalDocs,user:P,children:[s,sa(bo,{className:`${ls}__wrap`,children:[Kt(A0,{collectionConfig:Q,Description:Kt("div",{className:`${ls}__sub-header`,children:Kt(me,{CustomComponent:c,Fallback:Kt(Sv,{collectionSlug:l,description:Q?.admin?.description})})}),disableBulkDelete:u,disableBulkEdit:d,hasCreatePermission:S,i18n:ee,isBulkUploadEnabled:W&&!X.hideFileInputOnCreate,newDocumentURL:g,openBulkUpload:ye,smallBreak:Se,viewType:"list"}),Kt(y0,{beforeActions:oe,collectionConfig:Q,collectionSlug:l,disableQueryPresets:Q?.enableQueryPresets!==!0||f,listMenuItems:p,queryPreset:b,queryPresetPermissions:C,renderedFilters:v,resolvedFilterOptions:x}),i,se.length>0&&Kt(Gc,{children:I}),se.length===0&&sa("div",{className:`${ls}__no-results`,children:[Kt("p",{children:ee.t("general:noResults",{label:Xp(Z?.plural,ee)})}),S&&g&&Kt(q0,{children:R?Kt(te,{el:"button",onClick:()=>B(_),children:ee.t("general:createNewLabel",{label:Xp(Z?.singular,ee)})}):Kt(te,{el:"link",to:g,children:ee.t("general:createNewLabel",{label:Xp(Z?.singular,ee)})})})]}),n,se.length>0&&sa("div",{className:`${ls}__page-controls`,children:[Kt(Hc,{hasNextPage:M.hasNextPage,hasPrevPage:M.hasPrevPage,limit:M.limit,nextPage:M.nextPage,numberOfNeighbors:1,onChange:fe=>void L(fe),page:M.page,prevPage:M.prevPage,totalPages:M.totalPages}),M.totalDocs>0&&sa(q0,{children:[sa("div",{className:`${ls}__page-info`,children:[M.page*M.limit-(M.limit-1),"-",M.totalPages>1&&M.totalPages!==M.page?M.limit*M.page:M.totalDocs," ",ee.t("general:of")," ",M.totalDocs]}),Kt(P0,{handleChange:fe=>void O(fe),limit:FY(j?.limit)?Number(j.limit):N,limits:Q?.admin?.pagination?.limits,resetPage:M.totalDocs<=M.pagingCounter}),Se&&sa("div",{className:`${ls}__list-selection`,children:[Kt(id,{collectionConfig:Q,disableBulkDelete:u,disableBulkEdit:d,label:Xp(Q.labels.plural,ee)}),Kt("div",{className:`${ls}__list-selection-actions`,children:m&&typeof T=="function"?r?[...r,Kt(El,{onClick:T},"select-many")]:[Kt(El,{onClick:T},"select-many")]:r})]})]})]})]}),o]})})})})}function AY(t){return{...t,filesize:DY(t.filesize)}}import{c as mR}from"react/compiler-runtime";import{jsx as lo,jsxs as hd}from"react/jsx-runtime";import{useDndMonitor as KY}from"@dnd-kit/core";import{getTranslation as Pl}from"@payloadcms/translations";import{useRouter as eZ}from"next/navigation.js";import{formatAdminURL as dR}from"payload/shared";import tZ,{Fragment as oZ}from"react";import{jsx as Dn,jsxs as JT,Fragment as EY}from"react/jsx-runtime";import{getTranslation as qT}from"@payloadcms/translations";import{useRouter as PY}from"next/navigation.js";import NY from"react";var Q0="move-to-folder--current-folder",QT="confirm-many-delete",$Y="current-folder-actions";function Yp({className:t}){let e=PY(),{startRouteTransition:o}=Je(),{breadcrumbs:n,currentFolder:r,folderCollectionConfig:s,folderCollectionSlug:i,folderFieldName:l,folderID:a,getFolderRoute:c,moveToFolder:u}=Ht(),[d,,{closeDrawer:f,openDrawer:m}]=bt({id:a,collectionSlug:i}),{clearRouteCache:h}=Jt(),{config:p}=H(),{routes:g,serverURL:b}=p,{closeModal:C,openModal:v}=le(),{i18n:x,t:y}=$(),I=NY.useCallback(async()=>{await fetch(`${b}${g.api}/${i}/${a}?depth=0`,{credentials:"include",method:"DELETE"}),o(()=>{e.push(c(n[n.length-2]?.id||null))})},[n,i,a,c,e,b,g.api,o]);return a?JT(EY,{children:[Dn(yt,{button:Dn(kp,{}),className:[$Y,t].filter(Boolean).join(" "),render:()=>JT(_e.ButtonGroup,{children:[Dn(_e.Button,{onClick:()=>{m()},children:y("general:editLabel",{label:qT(s.labels.singular,x)})}),Dn(_e.Button,{onClick:()=>{v(Q0)},children:y("folder:moveFolder")}),Dn(_e.Button,{onClick:()=>{v(QT)},children:y("folder:deleteFolder")})]})}),Dn(al,{action:"moveItemToFolder",drawerSlug:Q0,folderCollectionSlug:i,folderFieldName:l,fromFolderID:r?.value.id,fromFolderName:r?.value._folderOrDocumentTitle,itemsToMove:[r],onConfirm:async({id:w,name:D})=>{await u({itemsToMove:[r],toFolderID:w}),w?ue.success(y("folder:itemHasBeenMoved",{folderName:`"${D}"`,title:r.value._folderOrDocumentTitle})):ue.success(y("folder:itemHasBeenMovedToRoot",{title:r.value._folderOrDocumentTitle})),C(Q0)},title:r.value._folderOrDocumentTitle}),Dn(ht,{body:Dn(er,{elements:{1:({children:w})=>Dn("strong",{children:w})},i18nKey:"general:aboutToDelete",t:y,variables:{label:qT(s.labels.singular,x),title:r.value._folderOrDocumentTitle}}),confirmingLabel:y("general:deleting"),heading:y("general:confirmDeletion"),modalSlug:QT,onConfirm:I}),Dn(d,{onSave:()=>{f(),h()}})]}):null}import{jsx as Jp,jsxs as VY}from"react/jsx-runtime";import{DragOverlay as GY}from"@dnd-kit/core";import{c as BY}from"react/compiler-runtime";import{jsx as wr,jsxs as tR}from"react/jsx-runtime";import{useDroppable as OY}from"@dnd-kit/core";import oR from"react";import{jsx as K0,jsxs as LY}from"react/jsx-runtime";import"react";function KT({className:t=""}){return LY("div",{className:`icon icon--dots ${t}`.trim(),children:[K0("div",{}),K0("div",{}),K0("div",{})]})}import{jsx as kY}from"react/jsx-runtime";import{useDraggable as jY}from"@dnd-kit/core";import{useRef as eR}from"react";var MY="draggable-with-click",Zp=({id:t,as:e="div",children:o,className:n,onClick:r,onKeyDown:s,ref:i,thresholdPixels:l=3})=>{let{attributes:a,listeners:c,setNodeRef:u}=jY({id:t}),d=eR({x:0,y:0}),f=eR(!1),m=p=>{d.current={x:p.clientX,y:p.clientY},f.current=!1;let g=v=>{let x=Math.abs(v.clientX-d.current.x),y=Math.abs(v.clientY-d.current.y);(x>l||y>l)&&(f.current=!0,c?.onPointerDown&&(c.onPointerDown(p),r(v)),window.removeEventListener("pointermove",g))},b=()=>{window.removeEventListener("pointermove",g),window.removeEventListener("pointerup",C)},C=v=>{b(),f.current||r(v)};window.addEventListener("pointermove",g),window.addEventListener("pointerup",C)};return kY(e||"div",{role:"button",tabIndex:0,...a,className:`${MY} ${n||""}`.trim(),onKeyDown:s,onPointerDown:r?m:void 0,ref:p=>{u(p),i&&(i.current=p)},children:o})};var yr="folder-file-card";function eC({id:t,type:e,className:o="",disabled:n=!1,isDeleting:r=!1,isFocused:s=!1,isSelected:i=!1,itemKey:l,onClick:a,onKeyDown:c,PopupActions:u,previewUrl:d,selectedCount:f=0,title:m}){let h=!t||n||e!=="folder",{isOver:p,setNodeRef:g}=OY({id:l,data:{id:t,type:e},disabled:h}),b=oR.useRef(null);return oR.useEffect(()=>{let C=b.current;return s&&b.current?b.current.focus():!s&&b.current&&b.current.blur(),()=>{C&&C.blur()}},[s]),tR("div",{className:[yr,o,i&&`${yr}--selected`,n&&`${yr}--disabled`,r&&`${yr}--deleting`,s&&`${yr}--focused`,p&&`${yr}--over`,`${yr}--${e}`].filter(Boolean).join(" "),children:[!n&&(a||c)&&wr(Zp,{className:`${yr}__drag-handle`,id:l,onClick:a,onKeyDown:c,ref:b},l),h?null:wr("div",{className:`${yr}__drop-area`,ref:g}),e==="file"?wr("div",{className:`${yr}__preview-area`,children:d?wr(gr,{fileSrc:d}):wr(Rl,{})}):null,tR("div",{className:`${yr}__titlebar-area`,children:[wr("div",{className:`${yr}__icon-wrap`,children:e==="file"?wr(Rl,{}):wr(tr,{})}),wr("p",{className:`${yr}__name`,title:m,children:wr("span",{children:m})}),u?wr(yt,{button:wr(KT,{}),disabled:f>1||f===1&&!i,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:u}):null]})]},l)}function rR(t){let e=BY(19),{type:o,className:n,index:r,item:s}=t,{focusedRowIndex:i,isDragging:l,itemKeysToMove:a,onItemClick:c,onItemKeyPress:u,selectedItemKeys:d}=Ht(),f;if(e[0]!==n||e[1]!==i||e[2]!==r||e[3]!==l||e[4]!==s||e[5]!==a||e[6]!==c||e[7]!==u||e[8]!==d||e[9]!==o){let m=d.has(s.itemKey),h;e[11]!==r||e[12]!==s||e[13]!==c?(h=g=>{c({event:g,index:r,item:s})},e[11]=r,e[12]=s,e[13]=c,e[14]=h):h=e[14];let p;e[15]!==r||e[16]!==s||e[17]!==u?(p=g=>{u({event:g,index:r,item:s})},e[15]=r,e[16]=s,e[17]=u,e[18]=p):p=e[18],f=wr(eC,{className:n,disabled:l&&m||a.has(s.itemKey),id:s.value.id,isFocused:i===r,isSelected:m,itemKey:s.itemKey,onClick:h,onKeyDown:p,previewUrl:s.value.url,title:s.value._folderOrDocumentTitle,type:o}),e[0]=n,e[1]=i,e[2]=r,e[3]=l,e[4]=s,e[5]=a,e[6]=c,e[7]=u,e[8]=d,e[9]=o,e[10]=f}else f=e[10];return f}var tC="drag-overlay-selection";function qp({allItems:t,lastSelected:e,selectedCount:o}){let n=t?.[e||0];return!o||!n?null:Jp(GY,{dropAnimation:null,modifiers:[zY],style:{height:"unset",maxWidth:"220px"},children:VY("div",{className:`${tC}__cards`,children:[Array.from({length:o>1?2:1}).map((r,s)=>Jp("div",{className:`${tC}__card`,style:{right:`${s*3}px`,top:`-${s*3}px`},children:Jp(eC,{id:null,isSelected:!0,itemKey:"overlay-card",title:n.value._folderOrDocumentTitle,type:"folder"})},s)),o>1?Jp("span",{className:`${tC}__card-count`,children:o}):null]})})}var zY=({activatorEvent:t,draggingNodeRect:e,transform:o})=>{if(e&&t){let n=Cx(t);if(!n)return o;let r=n.x-e.left,s=n.y-e.top;return{...o,x:o.x+r+5,y:o.y+s+5}}return o};import{jsx as Sr,jsxs as Qp,Fragment as oC}from"react/jsx-runtime";import"react";var pd="sort-by-pill",nR=[{label:t=>t("general:name"),value:"_folderOrDocumentTitle"},{label:t=>t("general:createdAt"),value:"createdAt"},{label:t=>t("general:updatedAt"),value:"updatedAt"}],sR=[{label:t=>Qp(oC,{children:[Sr(ju,{}),t("general:ascending")]}),value:"asc"},{label:t=>Qp(oC,{children:[Sr(ku,{}),t("general:descending")]}),value:"desc"}];function Kp(){let{refineFolderData:t,sort:e}=Ht(),{t:o}=$(),n=e.startsWith("-")?"desc":"asc",[r]=nR.filter(({value:i})=>i===(e.startsWith("-")?e.slice(1):e)),[s]=sR.filter(({value:i})=>i===n);return Sr(yt,{button:Qp(dt,{className:`${pd}__trigger`,icon:Sr(Ye,{}),size:"small",children:[n==="asc"?Sr(ju,{className:`${pd}__sort-icon`}):Sr(ku,{className:`${pd}__sort-icon`}),r.label(o)]}),className:pd,horizontalAlign:"right",render:({close:i})=>Qp(oC,{children:[Sr(_e.GroupLabel,{label:"Sort by"}),Sr(_e.ButtonGroup,{children:nR.map(({label:l,value:a})=>Sr(_e.Button,{active:r.value===a,onClick:()=>{t({query:{sort:a},updateURL:!0}),i()},children:l(o)},a))}),Sr(_e.Divider,{}),Sr(_e.GroupLabel,{label:"Order"}),Sr(_e.ButtonGroup,{children:sR.map(({label:l,value:a})=>Sr(_e.Button,{active:s.value===a,className:`${pd}__order-option`,onClick:()=>{a==="asc"&&t({query:{sort:a==="asc"?`-${e}`:e},updateURL:!0}),i()},children:l(o)},a))})]}),showScrollbar:!0,verticalAlign:"bottom"})}import{jsx as eh,jsxs as HY,Fragment as WY}from"react/jsx-runtime";var th="folder-view-toggle-button";function oh({activeView:t,setActiveView:e}){return HY(WY,{children:[eh(te,{buttonStyle:"pill",className:[th,t==="grid"&&`${th}--active`].filter(Boolean).join(" "),icon:eh(M0,{}),margin:!1,onClick:()=>{e("grid")}}),eh(te,{buttonStyle:"pill",className:[th,t==="list"&&`${th}--active`].filter(Boolean).join(" "),icon:eh(B0,{}),margin:!1,onClick:()=>{e("list")}})]})}import{jsx as rC,jsxs as UY}from"react/jsx-runtime";var iR="search-bar";function rh({Actions:t,className:e,filterKey:o,label:n,onSearchChange:r,searchQueryParam:s}){return UY("div",{className:[iR,e].filter(Boolean).join(" "),children:[rC(vi,{}),rC(qu,{handleChange:r,label:n,searchQueryParam:s},o||"search"),t&&t.length>0?rC("div",{className:`${iR}__actions`,children:t}):null]})}import{c as ZY}from"react/compiler-runtime";import{jsx as cs,jsxs as cR}from"react/jsx-runtime";import{extractID as uR}from"payload/shared";import JY,{Fragment as qY}from"react";import{jsx as aR,jsxs as XY,Fragment as YY}from"react/jsx-runtime";var lR=({id:t,folderCollectionSlug:e})=>{let{clearRouteCache:o}=Jt(),{t:n}=$(),[r,,{closeDrawer:s,openDrawer:i}]=bt({id:t,collectionSlug:e});return t?XY(YY,{children:[aR(zo,{onClick:i,type:"button",children:n("general:edit")}),aR(r,{onSave:()=>{s(),o()}})]}):null};var nh="move-to-folder--list",sh=t=>{let e=ZY(16),{disableBulkDelete:o,disableBulkEdit:n}=t,{clearSelections:r,currentFolder:s,folderCollectionSlug:i,folderFieldName:l,folderID:a,getSelectedItems:c,moveToFolder:u}=Ht(),{clearRouteCache:d}=Jt(),{config:f}=H(),{t:m}=$(),{closeModal:h,openModal:p}=le(),g,b;if(e[0]!==d||e[1]!==r||e[2]!==h||e[3]!==f||e[4]!==s?.value?._folderOrDocumentTitle||e[5]!==o||e[6]!==n||e[7]!==i||e[8]!==l||e[9]!==a||e[10]!==c||e[11]!==u||e[12]!==p||e[13]!==m){b=Symbol.for("react.early_return_sentinel");e:{let C=c(),v=C.reduce(QY,{}),x=C.length,y=Object.keys(v).length===1&&Object.keys(v)[0]!==i,I=y?f.collections.find(D=>D.slug===Object.keys(v)[0]):null;if(x===0){b=null;break e}let w=y?v[Object.keys(v)[0]]?.ids||[]:[];g=cs(Rp,{count:x,ListActions:[x>0&&cs(zo,{onClick:()=>r(),children:m("general:clearAll")},"clear-all")].filter(Boolean),SelectionActions:[!n&&w.length&&cR(qY,{children:[cs(Ju,{collection:I,count:x,ids:w,selectAll:!1}),cs(nd,{collection:I,count:x,ids:w,selectAll:!1}),cs(sd,{collection:I,count:x,ids:w,selectAll:!1})]},"bulk-actions"),x===1&&!y&&cs(lR,{folderCollectionSlug:i,id:v[i].ids[0]},"edit-folder-action"),x>0?cR(JY.Fragment,{children:[cs(zo,{onClick:()=>{p(nh)},type:"button",children:m("general:move")}),cs(al,{action:"moveItemsToFolder",drawerSlug:nh,folderCollectionSlug:i,folderFieldName:l,fromFolderID:a,fromFolderName:s?.value?._folderOrDocumentTitle,itemsToMove:c(),onConfirm:async D=>{let{id:_,name:R}=D;await u({itemsToMove:c(),toFolderID:_}),_?ue.success(m("folder:itemsMovedToFolder",{folderName:`"${R}"`,title:`${x} ${x>1?m("general:items"):m("general:item")}`})):ue.success(m("folder:itemsMovedToRoot",{title:`${x} ${x>1?m("general:items"):m("general:item")}`})),h(nh)}})]},nh):null,!o&&cs(Wv,{afterDelete:()=>{d(),r()},selections:v},"bulk-delete")].filter(Boolean)})}e[0]=d,e[1]=r,e[2]=h,e[3]=f,e[4]=s?.value?._folderOrDocumentTitle,e[5]=o,e[6]=n,e[7]=i,e[8]=l,e[9]=a,e[10]=c,e[11]=u,e[12]=p,e[13]=m,e[14]=g,e[15]=b}else g=e[14],b=e[15];return b!==Symbol.for("react.early_return_sentinel")?b:g};function QY(t,e){return e&&(t[e.relationTo]?(t[e.relationTo].ids.push(uR(e.value)),t[e.relationTo].totalCount=t[e.relationTo].totalCount+1):t[e.relationTo]={ids:[uR(e.value)],totalCount:1}),t}var ia="collection-folder-list";function rZ({allCollectionFolderSlugs:t,allowCreateCollectionSlugs:e,baseFolderPath:o,breadcrumbs:n,documents:r,folderFieldName:s,folderID:i,FolderResultsComponent:l,search:a,sort:c,subfolders:u,...d}){return lo(Gi,{allCollectionFolderSlugs:t,allowCreateCollectionSlugs:e,baseFolderPath:o,breadcrumbs:n,documents:r,folderFieldName:s,folderID:i,FolderResultsComponent:l,search:a,sort:c,subfolders:u,children:lo(nZ,{...d})})}function nZ(t){let e=mR(17),{AfterFolderList:o,AfterFolderListTable:n,BeforeFolderList:r,BeforeFolderListTable:s,collectionSlug:i,Description:l,disableBulkDelete:a,disableBulkEdit:c,search:u,viewPreference:d}=t,{config:f,getEntityConfig:m}=H(),{i18n:h,t:p}=$(),g=et(),{setStepNav:b}=Cr(),{setPreference:C}=mo(),{allowCreateCollectionSlugs:v,breadcrumbs:x,documents:y,folderCollectionConfig:I,folderCollectionSlug:w,FolderResultsComponent:D,getSelectedItems:_,lastSelectedIndex:R,moveToFolder:T,refineFolderData:S,selectedItemKeys:F,setIsDragging:A,subfolders:P}=Ht(),E=eZ(),{startRouteTransition:k}=Je(),{clearRouteCache:M}=Jt(),N=m({collectionSlug:i}),{labels:L,upload:O}=N,B=!!O&&N.upload.bulkUpload,{breakpoints:V}=na(),{s:G}=V,z;e[0]!==M||e[1]!==_||e[2]!==T?(z=async ee=>{if(ee.over&&ee.over.data.current.type==="folder"&&"id"in ee.over.data.current){try{await T({itemsToMove:_(),toFolderID:ee.over.data.current.id})}catch(pe){console.error("Error moving items:",pe)}M()}},e[0]=M,e[1]=_,e[2]=T,e[3]=z):z=e[3];let Y=z,Q=async ee=>{await C(`${i}-collection-folder`,{viewPreference:ee}),M()},Z=L?.plural,X;e[4]!==x||e[5]!==i||e[6]!==f.folders||e[7]!==f.routes.admin||e[8]!==g||e[9]!==h||e[10]!==E||e[11]!==b||e[12]!==k||e[13]!==Z?(X=[x,i,f.folders,f.routes.admin,g,h,Z,E,b,k],e[4]=x,e[5]=i,e[6]=f.folders,e[7]=f.routes.admin,e[8]=g,e[9]=h,e[10]=E,e[11]=b,e[12]=k,e[13]=Z,e[14]=X):X=e[14],tZ.useEffect(()=>{g||b([x.length?{label:hd(Hi,{className:[`${ia}__step-nav-droppable`,`${ia}__step-nav-icon-label`].filter(Boolean).join(" "),id:null,onClick:()=>{k(()=>{f.folders&&E.push(dR({adminRoute:f.routes.admin,path:`/collections/${i}/${f.folders.slug}`}))})},children:[lo(tr,{}),Pl(L?.plural,h)]},"root")}:{label:hd("div",{className:`${ia}__step-nav-icon-label`,children:[lo(tr,{}),Pl(L?.plural,h)]},"root")},...x.map((ee,pe)=>({label:pe===x.length-1?ee.name:lo(Hi,{className:`${ia}__step-nav-droppable`,id:ee.id,onClick:()=>{k(()=>{f.folders&&E.push(dR({adminRoute:f.routes.admin,path:`/collections/${i}/${f.folders.slug}/${ee.id}`}))})},children:ee.name},ee.id)}))])},X);let q=y.length+P.length,W;return e[15]!==S?(W=ee=>S({query:{search:ee},updateURL:!0}),e[15]=S,e[16]=W):W=e[16],hd(oZ,{children:[lo(sZ,{onDragEnd:Y,setIsDragging:A}),hd("div",{className:`${ia} ${ia}--${i}`,children:[r,hd(bo,{className:`${ia}__wrap`,children:[lo(ra,{Actions:[!G&&lo(sh,{disableBulkDelete:a,disableBulkEdit:c},"list-selection"),f.folders&&N.folders&&lo(Vp,{collectionConfig:N,folderCollectionSlug:w,viewType:"folders"},"list-header-buttons")].filter(Boolean),AfterListHeaderContent:l,title:Pl(L?.plural,h),TitleActions:[v.length&&lo(ln,{buttonLabel:p("general:createNew"),collectionSlugs:v,onCreateSuccess:M,slugPrefix:"create-document--header-pill"},"create-new-button"),lo(ld,{collectionSlug:i,hasCreatePermission:v.includes(i),isBulkUploadEnabled:B},"bulk-upload-button")].filter(Boolean)}),lo(rh,{Actions:[lo(Kp,{},"sort-by-pill"),lo(oh,{activeView:d,setActiveView:Q},"toggle-view-buttons"),lo(Yp,{},"current-folder-actions")].filter(Boolean),label:p("general:searchBy",{label:p("general:name")}),onSearchChange:W,searchQueryParam:u}),s,q>0&&D,q===0&&lo(il,{Actions:[v.includes(w)&&lo(ln,{buttonLabel:`${p("general:create")} ${Pl(I.labels?.singular,h).toLowerCase()}`,collectionSlugs:[I.slug],onCreateSuccess:M,slugPrefix:"create-folder--no-results"},"create-folder"),v.includes(i)&&lo(ln,{buttonLabel:`${p("general:create")} ${p("general:document").toLowerCase()}`,collectionSlugs:[i],onCreateSuccess:M,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:lo("p",{children:h.t("general:noResults",{label:`${Pl(L?.plural,h)} ${p("general:or").toLowerCase()} ${Pl(I.labels?.plural,h)}`})})}),n]}),o]}),lo(qp,{allItems:[...P,...y],lastSelected:R,selectedCount:F.size})]})}function sZ(t){let e=mR(3),{onDragEnd:o,setIsDragging:n}=t,r;return e[0]!==o||e[1]!==n?(r={onDragCancel(){n(!1)},onDragEnd(s){n(!1),o(s)},onDragStart(){n(!0)}},e[0]=o,e[1]=n,e[2]=r):r=e[2],KY(r),null}import{c as RR}from"react/compiler-runtime";import{jsx as Et,jsxs as $l,Fragment as cC}from"react/jsx-runtime";import{useDndMonitor as yZ}from"@dnd-kit/core";import{getTranslation as gd}from"@payloadcms/translations";import{useRouter as wZ}from"next/navigation.js";import uC,{Fragment as SZ}from"react";import{c as iZ}from"react/compiler-runtime";import{jsx as hR,jsxs as aZ}from"react/jsx-runtime";import{getTranslation as gR}from"@payloadcms/translations";import lZ from"react";import{jsx as nC}from"react/jsx-runtime";var fR="checkbox-popup";function pR({Button:t,className:e,onChange:o,options:n,selectedValues:r,...s}){return nC(yt,{button:t,className:[fR,e].filter(Boolean).join(" "),horizontalAlign:"right",render:({close:i})=>nC("div",{className:`${fR}__options`,children:n.map(({label:l,value:a})=>nC(Bn,{checked:r?.includes(a),label:l,onToggle:()=>{let c=r?.includes(a)?r.filter(u=>u!==a):[...r,a];o({close:i,selectedValues:c})}},a))}),showScrollbar:!0,verticalAlign:"bottom",...s})}var cZ="collection-type";function bR(){let t=iZ(13),{activeCollectionFolderSlugs:e,allCollectionFolderSlugs:o,folderCollectionSlug:n,refineFolderData:r}=Ht(),{i18n:s,t:i}=$(),{config:l,getEntityConfig:a}=H(),c;t[0]!==l||t[1]!==n||t[2]!==o||t[3]!==a||t[4]!==s?(c=()=>l.collections.reduce((f,m)=>(m.folders&&o.includes(m.slug)&&f.push({label:gR(m.labels?.plural,s),value:m.slug}),f),[{label:gR(a({collectionSlug:n}).labels?.plural,s),value:n}]),t[0]=l,t[1]=n,t[2]=o,t[3]=a,t[4]=s,t[5]=c):c=t[5];let[u]=lZ.useState(c),d;if(t[6]!==u||t[7]!==r||t[8]!==i||t[9]!==e){let f;t[11]!==r?(f=m=>{let{selectedValues:h}=m;r({query:{relationTo:h},updateURL:!0})},t[11]=r,t[12]=f):f=t[12],d=hR(pR,{Button:aZ(te,{buttonStyle:"pill",el:"div",icon:"chevron",margin:!1,size:"small",children:[e.length?hR("span",{className:`${cZ}__count`,children:e.length}):null,i("version:type")]}),onChange:f,options:u,selectedValues:e},"relation-to-selection-popup"),t[6]=u,t[7]=r,t[8]=i,t[9]=e,t[10]=d}else d=t[10];return d}import{c as gZ}from"react/compiler-runtime";import{jsx as Nl,jsxs as SR}from"react/jsx-runtime";import{getTranslation as bZ}from"@payloadcms/translations";import{extractID as IR}from"payload/shared";import _R from"react";import{jsx as sC,jsxs as pZ}from"react/jsx-runtime";import{useDroppable as hZ}from"@dnd-kit/core";import wR from"react";import{jsx as Fn,jsxs as uZ}from"react/jsx-runtime";import"react";var us="simple-table",vR=({appearance:t,className:e,headerCells:o,tableRows:n})=>Fn("div",{className:[e,us,t&&`${us}--appearance-${t}`].filter(Boolean).join(" "),children:uZ("table",{cellPadding:0,cellSpacing:0,className:`${us}__table`,children:[Fn(dZ,{children:Fn(fZ,{children:o})}),Fn(mZ,{children:n})]})}),dZ=({children:t,className:e,...o})=>Fn("thead",{className:`${us}__thead ${e||""}`.trim(),...o,children:t}),mZ=({children:t,className:e,...o})=>Fn("tbody",{className:`${us}__tbody ${e||""}`.trim(),...o,children:t}),fZ=({children:t,className:e,...o})=>Fn("tr",{className:`${us}__tr ${e||""}`.trim(),...o,children:t}),CR=({children:t,className:e,...o})=>Fn("td",{className:`${us}__td ${e||""}`.trim(),...o,children:t}),xR=({children:t,className:e,...o})=>Fn("th",{className:`${us}__th ${e||""}`.trim(),...o,children:t}),yR=({children:t,className:e,...o})=>Fn("td",{className:`${us}__hidden-cell ${e||""}`.trim(),...o,children:t});var Tn="draggable-table-row";function iC({id:t,columns:e,disabled:o=!1,dragData:n,isDroppable:r,isFocused:s,isSelected:i,isSelecting:l,itemKey:a,onClick:c,onKeyDown:u}){let d=!o&&r&&!i,{isOver:f,setNodeRef:m}=hZ({id:t,data:n,disabled:!d}),h=wR.useRef(null);return wR.useEffect(()=>{let p=h.current;return s&&h.current?h.current.focus():!s&&h.current&&h.current.blur(),()=>{p&&p.blur()}},[s]),pZ(Zp,{as:"tr",className:[Tn,i&&`${Tn}--selected`,l&&`${Tn}--selecting`,o&&`${Tn}--disabled`,s&&`${Tn}--focused`,f&&`${Tn}--over`].filter(Boolean).join(" "),id:a,onClick:c,onKeyDown:u,ref:h,children:[e.map((p,g)=>sC(CR,{className:[`${Tn}__cell-content`,g===0&&`${Tn}__first-td`,g===e.length-1&&`${Tn}__last-td`].filter(Boolean).join(" "),children:p},`${a}-${g}`)),d?sC(yR,{children:sC("div",{className:`${Tn}__drop-area`,ref:m})}):null]},a)}var DR="folder-file-table";function FR(t){let e=gZ(39),{showRelationCell:o}=t,n=o===void 0?!0:o,{documents:r,focusedRowIndex:s,isDragging:i,onItemClick:l,onItemKeyPress:a,selectedItemKeys:c,subfolders:u}=Ht(),{config:d}=H(),{i18n:f,t:m}=$(),h;e[0]!==d||e[1]!==f?(h=()=>{let v={};return d.collections.forEach(x=>{v[x.slug]=bZ(x.labels?.singular,f)}),v},e[0]=d,e[1]=f,e[2]=h):h=e[2];let[p]=_R.useState(h),g;e[3]!==n||e[4]!==m?(g=()=>{let v=[{name:"name",label:m("general:name")},{name:"createdAt",label:m("general:createdAt")},{name:"updatedAt",label:m("general:updatedAt")}];return n&&v.push({name:"type",label:m("version:type")}),v},e[3]=n,e[4]=m,e[5]=g):g=e[5];let[b]=_R.useState(g),C;if(e[6]!==b||e[7]!==d||e[8]!==r||e[9]!==s||e[10]!==f||e[11]!==i||e[12]!==l||e[13]!==a||e[14]!==p||e[15]!==c||e[16]!==u){let v;e[18]!==b||e[19]!==d||e[20]!==s||e[21]!==f||e[22]!==i||e[23]!==l||e[24]!==a||e[25]!==p||e[26]!==c?(v=(y,I)=>{let{itemKey:w,relationTo:D,value:_}=y,R=IR(_);return Nl(iC,{columns:b.map((T,S)=>{let{name:F}=T,A="\u2014";return F==="name"&&_._folderOrDocumentTitle!==void 0&&(A=_._folderOrDocumentTitle),(F==="createdAt"||F==="updatedAt")&&_[F]&&(A=Rr({date:_[F],i18n:f,pattern:d.admin.dateFormat})),F==="type"&&(A=p[D]||D),S===0?SR("span",{className:`${DR}__cell-with-icon`,children:[Nl(tr,{}),A]},`${w}-${F}`):A}),disabled:i&&c?.has(w),dragData:{id:R,type:"folder"},id:R,isDroppable:!0,isFocused:s===I,isSelected:c.has(w),isSelecting:c.size>0,itemKey:w,onClick:T=>{l({event:T,index:I,item:y})},onKeyDown:T=>{a({event:T,index:I,item:y})}},`${I}-${w}`)},e[18]=b,e[19]=d,e[20]=s,e[21]=f,e[22]=i,e[23]=l,e[24]=a,e[25]=p,e[26]=c,e[27]=v):v=e[27];let x;e[28]!==b||e[29]!==d||e[30]!==s||e[31]!==f||e[32]!==i||e[33]!==l||e[34]!==a||e[35]!==p||e[36]!==c||e[37]!==u.length?(x=(y,I)=>{let{itemKey:w,relationTo:D,value:_}=y,R=IR(_),T=I+u.length;return Nl(iC,{columns:b.map((S,F)=>{let{name:A}=S,P="\u2014";return A==="name"&&_._folderOrDocumentTitle!==void 0&&(P=_._folderOrDocumentTitle),(A==="createdAt"||A==="updatedAt")&&_[A]&&(P=Rr({date:_[A],i18n:f,pattern:d.admin.dateFormat})),A==="type"&&(P=p[D]||D),F===0?SR("span",{className:`${DR}__cell-with-icon`,children:[Nl(Rl,{}),P]},`${w}-${A}`):P}),disabled:i||c?.has(w),dragData:{id:R,type:"document"},id:R,isFocused:s===T,isSelected:c.has(w),isSelecting:c.size>0,itemKey:w,onClick:S=>{l({event:S,index:T,item:y})},onKeyDown:S=>{a({event:S,index:T,item:y})}},`${T}-${w}`)},e[28]=b,e[29]=d,e[30]=s,e[31]=f,e[32]=i,e[33]=l,e[34]=a,e[35]=p,e[36]=c,e[37]=u.length,e[38]=x):x=e[38],C=Nl(vR,{headerCells:b.map(vZ),tableRows:[...u.map(v),...r.map(x)]}),e[6]=b,e[7]=d,e[8]=r,e[9]=s,e[10]=f,e[11]=i,e[12]=l,e[13]=a,e[14]=p,e[15]=c,e[16]=u,e[17]=C}else C=e[17];return C}function vZ(t){let{name:e,label:o}=t;return Nl(xR,{children:o},e)}import{jsx as aC,jsxs as CZ,Fragment as xZ}from"react/jsx-runtime";import"react";var TR="item-card-grid";function lC({type:t,items:e,subfolderCount:o,title:n}){return CZ(xZ,{children:[n&&aC("p",{className:`${TR}__title`,children:n}),aC("div",{className:TR,children:!e||e?.length===0?null:e.map((r,s)=>{let i=s+(o||0),{itemKey:l}=r;return aC(rR,{index:i,item:r,type:t},l)})})]})}var aa="folder-list";function IZ({activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,baseFolderPath:n,breadcrumbs:r,documents:s,folderFieldName:i,folderID:l,FolderResultsComponent:a,search:c,subfolders:u,...d}){return Et(Gi,{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,baseFolderPath:n,breadcrumbs:r,documents:s,folderFieldName:i,folderID:l,FolderResultsComponent:a,search:c,subfolders:u,children:Et(_Z,{...d})})}function _Z(t){let e=RR(27),{AfterFolderList:o,AfterFolderListTable:n,BeforeFolderList:r,BeforeFolderListTable:s,Description:i,disableBulkDelete:l,disableBulkEdit:a,viewPreference:c}=t,u=wZ(),{getEntityConfig:d}=H(),{i18n:f,t:m}=$(),h=et(),{setStepNav:p}=Cr(),{startRouteTransition:g}=Je(),{clearRouteCache:b}=Jt(),{breakpoints:C}=na(),{s:v}=C,{setPreference:x}=mo(),{activeCollectionFolderSlugs:y,allowCreateCollectionSlugs:I,breadcrumbs:w,documents:D,folderCollectionConfig:_,folderID:R,getFolderRoute:T,getSelectedItems:S,lastSelectedIndex:F,moveToFolder:A,refineFolderData:P,search:E,selectedItemKeys:k,setIsDragging:M,subfolders:N}=Ht(),[L,O]=uC.useState(c||"grid"),j;e[0]!==w||e[1]!==_||e[2]!==f||e[3]!==m?(j=()=>{let ae=w.length===0?gd(_.labels?.plural,f):w[w.length-1].name;return m("folder:searchByNameInFolder",{folderName:ae})},e[0]=w,e[1]=_,e[2]=f,e[3]=m,e[4]=j):j=e[4];let[B]=uC.useState(j),V;e[5]!==b||e[6]!==S||e[7]!==A?(V=async ae=>{ae.over&&ae.over.data.current.type==="folder"&&"id"in ae.over.data.current&&(await A({itemsToMove:S(),toFolderID:ae.over.data.current.id||null}),b())},e[5]=b,e[6]=S,e[7]=A,e[8]=V):V=e[8];let G=V,z=D.length+N.length,Y;e[9]!==w||e[10]!==m?(Y=w.length?w[w.length-1].name:m("folder:browseByFolder"),e[9]=w,e[10]=m,e[11]=Y):Y=e[11];let Q=Y,Z;e[12]!==d||e[13]!==f||e[14]!==m?(Z=(ae,Se,K,se)=>{let ge=d({collectionSlug:Se});return K===0?gd(ge.labels?.plural,f):K===se.length-1?`${ae} ${m("general:or").toLowerCase()} ${gd(ge.labels?.plural,f)}`:`${ae}, ${gd(ge.labels?.plural,f)}`},e[12]=d,e[13]=f,e[14]=m,e[15]=Z):Z=e[15];let X=y.reduce(Z,""),q=ae=>{x("browse-by-folder",{viewPreference:ae}),O(ae)},W,ee;e[16]!==w||e[17]!==h||e[18]!==T||e[19]!==u||e[20]!==p||e[21]!==g||e[22]!==m?(W=()=>{h||p([w.length?{label:$l(Hi,{className:[`${aa}__step-nav-droppable`,`${aa}__step-nav-icon-label`].filter(Boolean).join(" "),id:null,onClick:()=>{g(()=>{u.push(T(null))})},children:[Et(tr,{}),m("folder:browseByFolder")]},"root")}:{label:$l("div",{className:`${aa}__step-nav-icon-label`,children:[Et(tr,{}),m("folder:browseByFolder")]},"root")},...w.map((ae,Se)=>({label:Se===w.length-1?ae.name:Et(Hi,{className:`${aa}__step-nav-droppable`,id:ae.id,onClick:()=>{g(()=>{u.push(T(ae.id))})},children:ae.name},ae.id)}))])},ee=[w,h,T,u,p,g,m],e[16]=w,e[17]=h,e[18]=T,e[19]=u,e[20]=p,e[21]=g,e[22]=m,e[23]=W,e[24]=ee):(W=e[23],ee=e[24]),uC.useEffect(W,ee);let pe;return e[25]!==P?(pe=ae=>P({query:{search:ae},updateURL:!0}),e[25]=P,e[26]=pe):pe=e[26],$l(SZ,{children:[Et(DZ,{onDragEnd:G,setIsDragging:M}),$l("div",{className:`${aa} ${aa}--folders`,children:[r,$l(bo,{className:`${aa}__wrap`,children:[Et(ra,{Actions:[!v&&Et(sh,{disableBulkDelete:l,disableBulkEdit:a},"list-selection")].filter(Boolean),AfterListHeaderContent:i,title:Q,TitleActions:[I.length&&Et(ln,{buttonLabel:m("general:createNew"),collectionSlugs:I,onCreateSuccess:b,slugPrefix:"create-document--header-pill"},"create-new-button")].filter(Boolean)}),Et(rh,{Actions:[Et(Kp,{},"sort-by-pill"),R&&Et(bR,{},"collection-type"),Et(oh,{activeView:L,setActiveView:q},"toggle-view-buttons"),Et(Yp,{},"current-folder-actions")].filter(Boolean),label:B,onSearchChange:pe,searchQueryParam:E}),s,z>0&&Et(cC,{children:L==="grid"?$l("div",{children:[N.length?Et(cC,{children:Et(lC,{items:N,title:"Folders",type:"folder"})}):null,D.length?Et(cC,{children:Et(lC,{items:D,subfolderCount:N.length,title:"Documents",type:"file"})}):null]}):Et(FR,{})}),z===0&&Et(il,{Actions:[I.includes(_.slug)&&Et(ln,{buttonLabel:`${m("general:create")} ${gd(_.labels?.singular,f).toLowerCase()}`,collectionSlugs:[_.slug],onCreateSuccess:b,slugPrefix:"create-folder--no-results"},"create-folder"),R&&I.filter(ae=>ae!==_.slug).length>0&&Et(ln,{buttonLabel:`${m("general:create")} ${m("general:document").toLowerCase()}`,collectionSlugs:I.filter(ae=>ae!==_.slug),onCreateSuccess:b,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:Et("p",{children:f.t("general:noResults",{label:X})})}),n]}),o]}),Et(qp,{allItems:[...N,...D],lastSelected:F,selectedCount:k.size})]})}function DZ(t){let e=RR(3),{onDragEnd:o,setIsDragging:n}=t,r;return e[0]!==o||e[1]!==n?(r={onDragCancel(){n(!1)},onDragEnd(s){n(!1),o(s)},onDragStart(){n(!0)}},e[0]=o,e[1]=n,e[2]=r):r=e[2],yZ(r),null}import{jsx as rr,jsxs as OR}from"react/jsx-runtime";import{useRouter as ZZ,useSearchParams as JZ}from"next/navigation.js";import{formatAdminURL as qZ}from"payload/shared";import QZ,{Fragment as KZ,useCallback as gC,useEffect as VR,useMemo as eJ,useRef as bC,useState as lh}from"react";import{c as ER}from"react/compiler-runtime";import{jsx as Ll,jsxs as AR}from"react/jsx-runtime";var PR=t=>{let e=ER(10),{drawerSlug:o,showDocumentID:n}=t,r=n===void 0?!0:n,{closeModal:s}=le(),{t:i}=$(),l;if(e[0]!==s||e[1]!==o||e[2]!==r||e[3]!==i){let a;e[5]!==s||e[6]!==o?(a=()=>s(o),e[5]=s,e[6]=o,e[7]=a):a=e[7];let c;e[8]!==r?(c=r&&Ll(FZ,{}),e[8]=r,e[9]=c):c=e[9],l=AR(bo,{className:`${As}__header`,children:[AR("div",{className:`${As}__header-content`,children:[Ll("h2",{className:`${As}__header-text`,children:Ll(L0,{element:"span"})}),Ll("button",{"aria-label":i("general:close"),className:`${As}__header-close`,onClick:a,type:"button",children:Ll(pt,{})})]}),c]}),e[0]=s,e[1]=o,e[2]=r,e[3]=i,e[4]=l}else l=e[4];return l},FZ=()=>{let t=ER(3),{id:e}=Pe(),{title:o}=lr(),n;return t[0]!==e||t[1]!==o?(n=e&&e!==o?Ll(zp,{id:e.toString()}):null,t[0]=e,t[1]=o,t[2]=n):n=t[2],n};import{formatAdminURL as TZ}from"payload/shared";var NR=({adminRoute:t,router:e})=>{let o=TZ({adminRoute:t,path:"/"});e.push(o)};import{formatAdminURL as RZ}from"payload/shared";var $R=({adminRoute:t,collectionSlug:e,router:o})=>{let n=RZ({adminRoute:t,path:e?`/collections/${e}`:"/"});o.push(n)};var dC=(t,e,o,n,r,s,i,l,a,c)=>{if(a)try{s(t,e??o,n),r||(l.current.hasShownLockedModal=!0),l.current={hasShownLockedModal:l.current?.hasShownLockedModal,isLocked:!0,user:n},i(n),r&&c&&c(!1)}catch(u){console.error("Error during document takeover:",u)}};import{c as kZ}from"react/compiler-runtime";import{jsx as Rn,jsxs as bd}from"react/jsx-runtime";import jZ,{Fragment as MZ,useEffect as BZ,useState as OZ}from"react";import{jsx as ih,jsxs as mC}from"react/jsx-runtime";import{getTranslation as AZ}from"@payloadcms/translations";import{text as EZ}from"payload/shared";import PZ,{useEffect as LR,useMemo as kR,useState as jR}from"react";var NZ="apiKey",$Z="api-key",LZ="field-type",MR=({enabled:t,readOnly:e})=>{let[o]=jR(Gn()),[n,r]=jR(!1),{i18n:s,t:i}=$(),{config:l,getEntityConfig:a}=H(),{collectionSlug:c}=Pe(),u=Rt(([x])=>x&&x[NZ]||null),d=a({collectionSlug:c})?.fields?.find(x=>"name"in x&&x.name==="apiKey"),f=x=>EZ(x,{name:"apiKey",type:"text",blockData:{},data:{},event:"onChange",maxLength:48,minLength:24,path:["apiKey"],preferences:{fields:{}},req:{payload:{config:l},t:i},siblingData:{}}),m=u?.value,h=kR(()=>{let x="API Key";return d?.label&&(x=d.label),AZ(x,s)},[d,s]),p=kR(()=>mC("div",{className:`${$Z}__label`,children:[ih("span",{children:h}),ih(Cu,{value:m})]}),[h,m]),g=$e({path:"apiKey",validate:f}),b=()=>{n&&r(!1),setTimeout(()=>{r(!0)},1)},{setValue:C,value:v}=g;return LR(()=>{!m&&t&&C(o),!t&&m&&C(null)},[m,t,C,o]),LR(()=>{n&&setTimeout(()=>{r(!1)},1e4)},[n]),t?mC(PZ.Fragment,{children:[mC("div",{className:[LZ,"api-key","read-only"].filter(Boolean).join(" "),children:[p,ih("input",{"aria-label":h,className:n?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:"text",value:v||""})]}),!e&&ih(s0,{highlightField:b,setKey:()=>C(Gn())})]}):null};var ah="auth-fields",BR=t=>{let e=kZ(57),{className:o,collectionSlug:n,disableLocalStrategy:r,email:s,loginWithUsername:i,operation:l,readOnly:a,requirePassword:c,setValidateBeforeSubmit:u,useAPIKey:d,username:f,verify:m}=t,{permissions:h}=Fe(),[p,g]=OZ(c),b=Rt(VZ),C=Rt(GZ),v=oo(),{i18n:x,t:y}=$(),{docPermissions:I,isEditing:w,isInitializing:D}=Pe(),{config:_}=H(),{routes:R,serverURL:T}=_,{api:S}=R,F=!r||typeof r=="object"&&r.enableFields===!0,A=a||D,P=I?.fields===!0?!0:I?.fields?.enableAPIKey,E=a||P===!0||P&&typeof P=="object"&&!P?.update,k=a||P!==!0&&!P?.update,M=P===!0||P?.read,N;e:{let X=h?.collections?.[n];if(X){N=!!("unlock"in X&&X.unlock);break e}N=!1}let L=N,O;e[0]!==C||e[1]!==u||e[2]!==y?(O=X=>{X?(u(!0),C({type:"UPDATE",errorMessage:y("validation:required"),path:"password",valid:!1}),C({type:"UPDATE",errorMessage:y("validation:required"),path:"confirm-password",valid:!1})):(u(!1),C({type:"REMOVE",path:"password"}),C({type:"REMOVE",path:"confirm-password"})),g(X)},e[0]=C,e[1]=u,e[2]=y,e[3]=O):O=e[3];let j=O,B;e[4]!==S||e[5]!==n||e[6]!==s||e[7]!==x||e[8]!==i||e[9]!==T||e[10]!==y||e[11]!==f?(B=async()=>{let X=`${T}${S}/${n}/unlock`;(await fetch(X,{body:JSON.stringify(i&&f?{username:f}:{email:s}),credentials:"include",headers:{"Accept-Language":x.language,"Content-Type":"application/json"},method:"post"})).status===200?ue.success(y("authentication:successfullyUnlocked")):ue.error(y("authentication:failedToUnlock"))},e[4]=S,e[5]=n,e[6]=s,e[7]=x,e[8]=i,e[9]=T,e[10]=y,e[11]=f,e[12]=B):B=e[12];let V=B,G,z;if(e[13]!==v?(G=()=>{v||g(!1)},z=[v],e[13]=v,e[14]=G,e[15]=z):(G=e[14],z=e[15]),BZ(G,z),r&&!F&&!d)return null;let Y;e[16]!==o?(Y=[ah,o].filter(Boolean),e[16]=o,e[17]=Y):Y=e[17];let Q=Y.join(" "),Z;if(e[18]!==E||e[19]!==M||e[20]!==p||e[21]!==n||e[22]!==r||e[23]!==A||e[24]!==I?.fields||e[25]!==b?.value||e[26]!==k||e[27]!==F||e[28]!==j||e[29]!==L||e[30]!==w||e[31]!==i||e[32]!==l||e[33]!==a||e[34]!==c||e[35]!==y||e[36]!==Q||e[37]!==V||e[38]!==d||e[39]!==m){let X;e[41]!==E||e[42]!==M||e[43]!==n||e[44]!==A||e[45]!==b?.value||e[46]!==k||e[47]!==y||e[48]!==d?(X=d&&Rn("div",{className:`${ah}__api-key`,children:M&&bd(MZ,{children:[Rn(Ar,{field:{name:"enableAPIKey",admin:{disabled:A,readOnly:k},label:y("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:`${n}.enableAPIKey`}),Rn(MR,{enabled:!!b?.value,readOnly:E})]})}),e[41]=E,e[42]=M,e[43]=n,e[44]=A,e[45]=b?.value,e[46]=k,e[47]=y,e[48]=d,e[49]=X):X=e[49];let q;e[50]!==n||e[51]!==A||e[52]!==w||e[53]!==a||e[54]!==y||e[55]!==m?(q=m&&w&&Rn(Ar,{field:{name:"_verified",admin:{disabled:A,readOnly:a},label:y("authentication:verified")},path:"_verified",schemaPath:`${n}._verified`}),e[50]=n,e[51]=A,e[52]=w,e[53]=a,e[54]=y,e[55]=m,e[56]=q):q=e[56],Z=bd("div",{className:Q,children:[F&&bd(jZ.Fragment,{children:[Rn(J0,{loginWithUsername:i,operation:l,permissions:I?.fields,readOnly:a,t:y}),(p||c)&&(!r||!F)&&bd("div",{className:`${ah}__changing-password`,children:[Rn(Lu,{autoComplete:"new-password",field:{name:"password",label:y("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),Rn($u,{disabled:a})]}),bd("div",{className:`${ah}__controls`,children:[p&&!c&&Rn(te,{buttonStyle:"secondary",disabled:A,onClick:()=>j(!1),size:"medium",children:y("general:cancel")}),!p&&!c&&!r&&Rn(te,{buttonStyle:"secondary",disabled:A,id:"change-password",onClick:()=>j(!0),size:"medium",children:y("authentication:changePassword")}),l==="update"&&L&&Rn(te,{buttonStyle:"secondary",disabled:A,onClick:()=>void V(),size:"medium",children:y("authentication:forceUnlock")})]})]}),X,q]}),e[18]=E,e[19]=M,e[20]=p,e[21]=n,e[22]=r,e[23]=A,e[24]=I?.fields,e[25]=b?.value,e[26]=k,e[27]=F,e[28]=j,e[29]=L,e[30]=w,e[31]=i,e[32]=l,e[33]=a,e[34]=c,e[35]=y,e[36]=Q,e[37]=V,e[38]=d,e[39]=m,e[40]=Z}else Z=e[40];return Z};function VZ(t){let[e]=t;return e&&e?.enableAPIKey||null}function GZ(t){return t[1]}import{c as zZ}from"react/compiler-runtime";import{getTranslation as HZ}from"@payloadcms/translations";import{formatAdminURL as fC}from"payload/shared";import{useEffect as WZ}from"react";var pC=t=>{let e=zZ(20),{id:o,collectionSlug:n,globalSlug:r,pluralLabel:s,useAsTitle:i}=t,l=t?.view||void 0,{isEditing:a,isInitializing:c}=Pe(),{title:u}=lr(),{isEntityVisible:d}=U0(),f;e[0]!==n||e[1]!==r||e[2]!==d?(f=d({collectionSlug:n,globalSlug:r}),e[0]=n,e[1]=r,e[2]=d,e[3]=f):f=e[3];let m=f,{setStepNav:h}=Cr(),{i18n:p,t:g}=$(),{config:b}=H(),{routes:C}=b,{admin:v}=C,x,y;return e[4]!==v||e[5]!==n||e[6]!==r||e[7]!==p||e[8]!==o||e[9]!==a||e[10]!==c||e[11]!==m||e[12]!==s||e[13]!==h||e[14]!==g||e[15]!==u||e[16]!==i||e[17]!==l?(x=()=>{let I=[];c||(n?(I.push({label:HZ(s,p),url:m?fC({adminRoute:v,path:`/collections/${n}`}):void 0}),a?I.push({label:i&&i!=="id"&&u||`${o}`,url:m?fC({adminRoute:v,path:`/collections/${n}/${o}`}):void 0}):I.push({label:g("general:createNew")})):r&&I.push({label:u,url:m?fC({adminRoute:v,path:`/globals/${r}`}):void 0}),l&&I.push({label:l}),h(I))},y=[h,c,a,s,o,i,v,g,p,u,n,r,l,m],e[4]=v,e[5]=n,e[6]=r,e[7]=p,e[8]=o,e[9]=a,e[10]=c,e[11]=m,e[12]=s,e[13]=h,e[14]=g,e[15]=u,e[16]=i,e[17]=l,e[18]=x,e[19]=y):(x=e[18],y=e[19]),WZ(x,y),null};import{c as UZ}from"react/compiler-runtime";import{useEffect as XZ,useRef as YZ}from"react";var hC=t=>{let e=UZ(13),{collectionConfig:o,config:n,fallback:r,globalConfig:s}=t,i=o?.admin?.useAsTitle,l;e[0]!==i?(l=b=>{let[C]=b;return i&&C&&C?.[i]||null},e[0]=i,e[1]=l):l=e[1];let a=Rt(l),c=YZ(!1),{i18n:u}=$(),{setDocumentTitle:d}=lr(),f=n?.admin?.dateFormat,m;e[2]!==o||e[3]!==f||e[4]!==r||e[5]!==a||e[6]!==s||e[7]!==u?(m=jo({collectionConfig:o,data:{id:""},dateFormat:f,fallback:typeof a=="string"?a:typeof a=="number"?String(a):a?.value||r,globalConfig:s,i18n:u}),e[2]=o,e[3]=f,e[4]=r,e[5]=a,e[6]=s,e[7]=u,e[8]=m):m=e[8];let h=m,p,g;return e[9]!==d||e[10]!==h?(p=()=>{if(!c.current){c.current=!0;return}d(h)},g=[d,h],e[9]=d,e[10]=h,e[11]=p,e[12]=g):(p=e[11],g=e[12]),XZ(p,g),null};var ch="collection-edit";function tJ({BeforeDocumentControls:t,Description:e,EditMenuItems:o,PreviewButton:n,PublishButton:r,SaveButton:s,SaveDraftButton:i,Upload:l,UploadControls:a}){let{id:c,action:u,AfterDocument:d,AfterFields:f,apiURL:m,BeforeFields:h,collectionSlug:p,currentEditor:g,disableActions:b,disableCreate:C,disableLeaveWithoutSaving:v,docPermissions:x,documentIsLocked:y,getDocPermissions:I,getDocPreferences:w,globalSlug:D,hasPublishPermission:_,hasSavePermission:R,incrementVersionCount:T,initialState:S,isEditing:F,isInitializing:A,lastUpdateTime:P,redirectAfterCreate:E,redirectAfterDelete:k,redirectAfterDuplicate:M,savedDocumentData:N,setCurrentEditor:L,setDocumentIsLocked:O,unlockDocument:j,updateDocumentEditor:B,updateSavedDocumentData:V}=Pe(),{clearDoc:G,drawerSlug:z,onDelete:Y,onDuplicate:Q,onSave:Z}=Oc(),X=!!z,{refreshCookieAsync:q,user:W}=Fe(),{config:ee,config:{admin:{user:pe},routes:{admin:ae}},getEntityConfig:Se}=H(),K=Se({collectionSlug:p}),se=Se({globalSlug:D}),ge=et(),ye=ZZ(),oe=JZ(),{reportUpdate:fe}=Vi(),{resetUploadEdits:he}=hi(),{getFormState:ie}=At(),{startRouteTransition:de}=Je(),U=bC(null),ne=bC(null),ve=oe.get("locale"),Ne=K?.slug||se?.slug,Me=p&&!c?"create":"update",Le=K?K.auth:void 0,ct=K?K.upload:void 0,vt=K||se,Xe=vt?.lockDocuments!==void 0?vt?.lockDocuments:!0,We=Xe!==!1,Ke=(typeof Xe=="object"?Xe.duration:300)*1e3,Qe=!!(K?.versions?.drafts&&K?.versions?.drafts?.autosave||se?.versions?.drafts&&se?.versions?.drafts?.autosave),St=typeof v<"u"?!v:!Qe,[Pt,Ct]=lh(!1),[Ze,be]=lh(!1),[ce,J]=lh(Date.now()),re=P+Ke,Ce=Date.now()>re,xe=bC({hasShownLockedModal:!1,isLocked:!1,user:null}),ke=[ch,(c||D)&&`${ch}--is-editing`];D&&ke.push(`global-edit--${D}`),p&&ke.push(`collection-edit--${p}`);let je=eJ(()=>[Ne],[Ne]),[Ge,Oe]=lh(()=>!!(Me==="create"&&Le&&!Le.disableLocalStrategy)),So=gC(Ft=>{O(!0);let ze=typeof xe.current?.user=="object"?xe.current?.user?.id:xe.current?.user;if(Ft){let Tt=typeof Ft.user=="string"||typeof Ft.user=="number"?Ft.user:Ft.user.id;(!xe.current||Tt!==ze)&&(ze===W.id&&Tt!==W.id&&(be(!0),xe.current.hasShownLockedModal=!0),xe.current={hasShownLockedModal:xe.current?.hasShownLockedModal||!1,isLocked:!0,user:Ft.user},L(Ft.user))}},[L,O,W?.id]),Uo=gC(async Ft=>{let ze=hr(ne),Tt=Ft?.doc||Ft?.result;if(fe({id:c,entitySlug:Ne,updatedAt:Tt?.updatedAt||new Date().toISOString()}),W&&p===pe&&c===W.id&&q(),T(),typeof V=="function"&&V(Tt||{}),typeof Z=="function"){let co=c?"update":"create";Z({...Ft,operation:co,updatedAt:co==="update"?new Date().toISOString():Tt?.updatedAt||new Date().toISOString()})}if(!F&&ge<2&&E!==!1){let co=qZ({adminRoute:ae,path:`/collections/${p}/${Tt?.id}${ve?`?locale=${ve}`:""}`});de(()=>ye.push(co))}else he();if(await I(Ft),(c||D)&&!Qe){let co=await w(),{state:Xt}=await ie({id:c,collectionSlug:p,data:Tt,docPermissions:x,docPreferences:co,globalSlug:D,operation:Me,renderAllFields:!0,returnLockStatus:!1,schemaPath:je.join("."),signal:ze.signal,skipValidation:!0});return We&&O(!1),ne.current=null,Xt}},[fe,c,Ne,W,p,pe,T,V,Z,E,F,ge,I,D,Qe,q,ae,ve,ye,he,w,ie,x,Me,je,We,O,de]),Ir=gC(async({formState:Ft,submitted:ze})=>{let Tt=hr(U),co=Date.now(),Xt=co-ce,Xo=We&&Xt>=1e4;Xo&&J(co);let ds=await w(),{lockedState:ms,state:Qs}=await ie({id:c,collectionSlug:p,docPermissions:x,docPreferences:ds,formState:Ft,globalSlug:D,operation:Me,skipValidation:!ze,renderAllFields:!1,returnLockStatus:We,schemaPath:je.join("."),signal:Tt.signal,updateLastEdited:Xo});return We&&So(ms),U.current=null,Qs},[c,p,w,ie,D,So,We,Me,je,x,ce]);VR(()=>()=>{We&&y&&(c||D)&&!["preview","api","versions"].some(ze=>window.location.pathname.includes(ze))&&(typeof xe.current?.user=="object"?xe.current?.user?.id===W?.id:xe.current?.user===W?.id)&&(j(c,p??D),O(!1),L(null)),be(!1)},[p,D,c,j,W,L,We,y,O]),VR(()=>{let Ft=U.current,ze=ne.current;return()=>{pr(Ft),pr(ze)}},[]);let qs=y&&g&&(typeof g=="object"?g.id!==W?.id:g!==W?.id)&&!Pt&&!Ze&&!xe.current?.hasShownLockedModal&&!Ce,eo=ee.folders&&p===ee.folders?.slug;return rr("main",{className:ke.filter(Boolean).join(" "),children:rr(sc,{operation:Me,children:OR(Yn,{action:u,className:`${ch}__form`,disabled:Pt||A||!R,disableValidationOnSubmit:!Ge,initialState:!A&&S,isDocumentForm:!0,isInitializing:A,method:c?"PATCH":"POST",onChange:[Ir],onSuccess:Uo,children:[X&&rr(PR,{drawerSlug:z,showDocumentID:!eo}),We&&qs&&rr(wv,{handleGoBack:()=>$R({adminRoute:ae,collectionSlug:p,router:ye}),isActive:qs,onReadOnly:()=>{Ct(!0),be(!1)},onTakeOver:()=>dC(c,p,D,W,!1,B,L,xe,We),updatedAt:P,user:g}),We&&Ze&&rr(yv,{handleBackToDashboard:()=>NR({adminRoute:ae,router:ye}),isActive:Ze,onReadOnly:()=>{Ct(!0),be(!1)}}),!Pt&&St&&rr(Mu,{}),!X&&rr(pC,{collectionSlug:K?.slug,globalSlug:se?.slug,id:c,pluralLabel:K?.labels?.plural,useAsTitle:K?.admin?.useAsTitle}),rr(hC,{collectionConfig:K,config:ee,fallback:ge<=1?c?.toString():void 0,globalConfig:se}),rr(e0,{apiURL:m,BeforeDocumentControls:t,customComponents:{PreviewButton:n,PublishButton:r,SaveButton:s,SaveDraftButton:i},data:N,disableActions:b||eo,disableCreate:C,EditMenuItems:o,hasPublishPermission:_,hasSavePermission:R,id:c,isEditing:F,onDelete:Y,onDrawerCreateNew:G,onDuplicate:Q,onSave:Uo,onTakeOver:()=>dC(c,p,D,W,!0,B,L,xe,We,Ct),permissions:x,readOnlyForIncomingUser:Pt,redirectAfterDelete:k,redirectAfterDuplicate:M,slug:K?.slug||se?.slug,user:g}),rr(hu,{AfterFields:f,BeforeFields:h||OR(KZ,{children:[Le&&rr(BR,{className:`${ch}__auth`,collectionSlug:K.slug,disableLocalStrategy:K.auth?.disableLocalStrategy,email:N?.email,loginWithUsername:Le?.loginWithUsername,operation:Me,readOnly:!R,requirePassword:!c,setValidateBeforeSubmit:Oe,useAPIKey:Le.useAPIKey,username:N?.username,verify:Le.verify}),ct&&rr(QZ.Fragment,{children:rr(tl,{children:l||rr(sv,{collectionSlug:K.slug,initialState:S,uploadConfig:ct,UploadControls:a})})})]}),Description:e,docPermissions:x,fields:vt.fields,readOnly:Pt||!R,schemaPathSegments:je}),d]})})})}import{jsx as oJ}from"react/jsx-runtime";import"react";var rJ="field-diff-label",vC=({children:t})=>oJ("div",{className:rJ,children:t});import{jsx as nJ,jsxs as CC}from"react/jsx-runtime";import{getTranslation as sJ}from"@payloadcms/translations";var xC="field-diff",iJ=t=>{let{className:e,From:o,i18n:n,label:{label:r,locale:s},nestingLevel:i=0,To:l}=t;return CC("div",{className:`${xC}-container${e?` ${e}`:""} nested-level-${i}`,style:i?{"--left-offset":`calc(50%  - (${i} * calc( calc(var(--base)* 0.5) - 2.5px  )))`}:{"--left-offset":"50%"},children:[CC(vC,{children:[s&&nJ("span",{className:`${xC}__locale-label`,children:s}),typeof r!="function"&&sJ(r||"",n)]}),CC("div",{className:`${xC}-content`,style:i?{gridTemplateColumns:"calc(var(--left-offset) - calc(var(--base)*0.5) )     calc(50% - calc(var(--base)*0.5) + calc(50% - var(--left-offset)))"}:void 0,children:[o,l]})]})};export{Fv as Account,hz as ActionsProvider,Er as AnimateHeight,Wz as AppHeader,Pu as ArrayField,dg as AuthProvider,Hr as Banner,fc as BlocksDrawer,pc as BlocksField,fX as BrowseByFolderButton,bD as BulkUploadDrawer,av as BulkUploadProvider,te as Button,ZR as CalendarIcon,Xz as Card,Rg as CheckIcon,Ar as CheckboxField,Bn as CheckboxInput,Ye as ChevronIcon,H0 as ClientFunctionProvider,Rv as CloseMenuIcon,wX as CodeBlockIcon,XR as CodeEdiftor,hc as CodeEditorLazy,gc as CodeField,bi as Collapsible,vc as CollapsibleField,fh as ConfigProvider,$u as ConfirmPasswordField,ht as ConfirmationModal,uc as CopyIcon,Mv as CopyLocaleData,Cu as CopyToClipboard,q1 as DateCell,l0 as DateCondition,JR as DatePicker,$c as DateTimeField,Og as DefaultBlockImage,IZ as DefaultBrowseByFolderView,zc as DefaultCell,rZ as DefaultCollectionFolderView,tJ as DefaultEditView,RY as DefaultListView,Hv as DeleteMany,e0 as DocumentControls,Wb as DocumentEventsProvider,hu as DocumentFields,Rl as DocumentIcon,nc as DocumentInfoProvider,wv as DocumentLocked,yv as DocumentTakeOver,Vn as DragHandleIcon,$t as Drawer,Yb as DrawerContentContainer,kn as DrawerToggler,Oi as Dropzone,si as EditDepthProvider,Wr as EditIcon,vW as EditMany,Kb as EditUpload,J0 as EmailAndUsernameFields,Ti as EmailField,zX as EntityVisibilityProvider,O0 as ErrorIcon,go as ErrorPill,yX as ExternalLinkIcon,He as FieldDescription,iJ as FieldDiffContainer,vC as FieldDiffLabel,Ue as FieldError,we as FieldLabel,hf as File,rv as FileDetails,gu as FolderIcon,Gi as FolderProvider,Yn as Form,Aj as FormLoadingOverlayToggle,vr as FormSubmit,yW as FullscreenModal,s0 as GenerateConfirmation,M0 as GridViewIcon,Lc as GroupField,bo as Gutter,Pv as Hamburger,kc as HiddenField,TW as HydrateAuthProvider,V0 as InfoIcon,Uc as JSONField,Wc as JoinField,Mu as LeaveWithoutSaving,Ag as LineIcon,Vt as Link,Nh as LinkIcon,y0 as ListControls,j1 as ListDrawerContextProvider,A0 as ListHeader,O1 as ListQueryProvider,id as ListSelection,B0 as ListViewIcon,tn as LoadingOverlay,II as LoadingOverlayToggle,hg as LocaleProvider,Xu as Locked,E0 as LogOutIcon,eX as Logout,Av as MenuIcon,SX as MinimizeMaximizeIcon,sr as Modal,$g as MoreIcon,bu as MoveDocToFolder,z_ as MoveDocToFolderButton,_X as MoveFolderIcon,nX as NavGroup,Lv as NavToggler,cc as NullifyLocaleField,c0 as NumberCondition,Xc as NumberField,sc as OperationProvider,yG as OrderableTable,Hc as Pagination,X0 as ParamsProvider,Lu as PasswordField,wp as PayloadIcon,P0 as PerPage,dt as Pill,H1 as PillSelector,Yo as PlusIcon,Yc as PointField,yt as Popup,_e as PopupList,pg as PreferencesProvider,Uv as PreviewButton,nv as PreviewSizes,MX as ProgressBar,Jv as PublishButton,xU as PublishMany,AG as QueryPresetsAccessCell,LG as QueryPresetsColumnField,_G as QueryPresetsColumnsCell,TG as QueryPresetsWhereCell,BG as QueryPresetsWhereField,qc as RadioGroupField,ft as ReactSelect,m0 as RelationshipCondition,ou as RelationshipField,wb as RelationshipInput,Gc as RelationshipProvider,cb as RelationshipTable,me as RenderCustomComponent,AM as RenderDefaultCell,Do as RenderFields,L0 as RenderTitle,ru as RichTextField,pY as RootProvider,Xb as RouteCacheProvider,Eh as RouteTransitionProvider,nu as RowField,An as RowLabel,Th as RowLabelProvider,qv as SaveButton,Qv as SaveDraftButton,md as ScrollInfoProvider,qu as SearchFilter,vi as SearchIcon,Z0 as SearchParamsProvider,Vg as SectionTitle,ft as Select,xY as SelectAll,h0 as SelectCondition,su as SelectField,qa as SelectInput,El as SelectMany,wY as SelectRow,Ov as SelectionProvider,V1 as ServerFunctionsProvider,pC as SetDocumentStepNav,hC as SetDocumentTitle,Mz as SetStepNav,Nt as ShimmerEffect,xX as SortColumn,gG as SortHeader,vG as SortRow,HR as StaggeredShimmers,G0 as SuccessIcon,$h as SwapIcon,Lb as TabComponent,Xv as Table,Mc as TableColumnsProvider,cu as TabsField,$1 as TabsProvider,g0 as TextCondition,Bi as TextField,jb as TextInput,uu as TextareaField,Mb as TextareaInput,hh as ThemeProvider,gr as Thumbnail,Nc as TimezonePicker,Io as Tooltip,er as Translation,mh as TranslationProvider,du as UIField,RU as UnpublishMany,sv as Upload,_g as UploadEditsProvider,Eu as UploadField,Eb as UploadHandlersProvider,cp as UploadInput,Sv as ViewDescription,z0 as WarningIcon,xi as WatchChildErrors,Tg as WatchCondition,Y0 as WindowInfoProvider,pt as XIcon,YV as allFieldComponents,WR as defaultTheme,As as documentDrawerBaseClass,Te as fieldBaseClass,PD as fieldComponents,au as fieldReducer,Ql as formatDrawerSlug,wg as formatTimeToNow,QH as getHTMLDiffComponents,fo as parseSearchParams,ue as toast,Tv as useActions,EX as useAddClientFunction,ua as useAllFormFields,Fe as useAuth,Vo as useBulkUpload,CD as useBulkUploadDrawerSlug,rb as useCellProps,sW as useClickOutside,o0 as useClickOutsideContext,PX as useClientFunctions,ys as useCollapsible,H as useConfig,ar as useDebounce,bb as useDebouncedCallback,Ab as useDebouncedEffect,ph as useDelay,W1 as useDelayedRender,bt as useDocumentDrawer,Oc as useDocumentDrawerContext,Vi as useDocumentEvents,ca as useDocumentForm,Pe as useDocumentInfo,lr as useDocumentTitle,ql as useDrawerSlug,et as useEditDepth,Gt as useEffectEvent,U0 as useEntityVisibility,$e as useField,Ht as useFolder,Be as useForm,Fh as useFormBackgroundProcessing,Rt as useFormFields,oi as useFormInitializing,oo as useFormModified,Dr as useFormProcessing,to as useFormSubmitted,Ji as useHotkey,En as useIntersect,Li as useListDrawer,fr as useListDrawerContext,Lt as useListQuery,J1 as useListRelationships,Ie as useLocale,le as useModal,Ki as useNav,ur as useOperation,ZX as useParams,iG as usePayloadAPI,mo as usePreferences,uG as useResize,Jt as useRouteCache,Je as useRouteTransition,m5 as useRowLabel,dd as useScrollInfo,cY as useSearchParams,To as useSelection,At as useServerFunctions,Cr as useStepNav,Ga as useTableColumns,UR as useTheme,mi as useThrottledEffect,$ as useTranslation,Ob as useUploadControls,hi as useUploadEdits,iu as useUploadHandlers,pv as useUseTitleField,Pd as useWatchForm,na as useWindowInfo,Ve as withCondition};
/*! Bundled license information:

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 7.5.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/
//# sourceMappingURL=index.js.map
