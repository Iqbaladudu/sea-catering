{"version":3,"file":"ListBulkUploadButton.js","names":["c","_c","useModal","useRouter","React","useBulkUpload","useTranslation","Button","ListBulkUploadButton","t0","$","collectionSlug","hasCreatePermission","isBulkUploadEnabled","onBulkUploadSuccess","openBulkUpload","openBulkUploadFromProps","drawerSlug","bulkUploadDrawerSlug","setCollectionSlug","setCurrentActivePath","setOnSuccess","t","openModal","router","t1","refresh","t2","_jsx","buttonStyle","onClick","size","children"],"sources":["../../../../src/elements/ListHeader/TitleActions/ListBulkUploadButton.tsx"],"sourcesContent":["'use client'\nimport type { CollectionSlug } from 'payload'\n\nimport { useModal } from '@faceless-ui/modal'\nimport { useRouter } from 'next/navigation.js'\nimport React from 'react'\n\nimport { useBulkUpload } from '../../../elements/BulkUpload/index.js'\nimport { useTranslation } from '../../../providers/Translation/index.js'\nimport { Button } from '../../Button/index.js'\n\nexport function ListBulkUploadButton({\n  collectionSlug,\n  hasCreatePermission,\n  isBulkUploadEnabled,\n  onBulkUploadSuccess,\n  openBulkUpload: openBulkUploadFromProps,\n}: {\n  collectionSlug: CollectionSlug\n  hasCreatePermission: boolean\n  isBulkUploadEnabled: boolean\n  onBulkUploadSuccess?: () => void\n  /**\n   * @deprecated This prop will be removed in the next major version.\n   *\n   * Prefer using `onBulkUploadSuccess`\n   */\n  openBulkUpload?: () => void\n}) {\n  const {\n    drawerSlug: bulkUploadDrawerSlug,\n    setCollectionSlug,\n    setCurrentActivePath,\n    setOnSuccess,\n  } = useBulkUpload()\n  const { t } = useTranslation()\n  const { openModal } = useModal()\n  const router = useRouter()\n\n  const openBulkUpload = React.useCallback(() => {\n    if (typeof openBulkUploadFromProps === 'function') {\n      openBulkUploadFromProps()\n    } else {\n      setCollectionSlug(collectionSlug)\n      setCurrentActivePath(collectionSlug)\n      openModal(bulkUploadDrawerSlug)\n      setOnSuccess(collectionSlug, () => {\n        if (typeof onBulkUploadSuccess === 'function') {\n          onBulkUploadSuccess()\n        } else {\n          router.refresh()\n        }\n      })\n    }\n  }, [\n    router,\n    collectionSlug,\n    bulkUploadDrawerSlug,\n    openModal,\n    setCollectionSlug,\n    setCurrentActivePath,\n    setOnSuccess,\n    onBulkUploadSuccess,\n    openBulkUploadFromProps,\n  ])\n\n  if (!hasCreatePermission || !isBulkUploadEnabled) {\n    return null\n  }\n\n  return (\n    <Button\n      aria-label={t('upload:bulkUpload')}\n      buttonStyle=\"pill\"\n      key=\"bulk-upload-button\"\n      onClick={openBulkUpload}\n      size=\"small\"\n    >\n      {t('upload:bulkUpload')}\n    </Button>\n  )\n}\n"],"mappings":"AAAA;;AAAA,SAAAA,CAAA,IAAAC,EAAA;;AAGA,SAASC,QAAQ,QAAQ;AACzB,SAASC,SAAS,QAAQ;AAC1B,OAAOC,KAAA,MAAW;AAElB,SAASC,aAAa,QAAQ;AAC9B,SAASC,cAAc,QAAQ;AAC/B,SAASC,MAAM,QAAQ;AAEvB,OAAO,SAAAC,qBAAAC,EAAA;EAAA,MAAAC,CAAA,GAAAT,EAAA;EAA8B;IAAAU,cAAA;IAAAC,mBAAA;IAAAC,mBAAA;IAAAC,mBAAA;IAAAC,cAAA,EAAAC;EAAA,IAAAP,EAiBpC;EACC;IAAAQ,UAAA,EAAAC,oBAAA;IAAAC,iBAAA;IAAAC,oBAAA;IAAAC;EAAA,IAKIhB,aAAA;EACJ;IAAAiB;EAAA,IAAchB,cAAA;EACd;IAAAiB;EAAA,IAAsBrB,QAAA;EACtB,MAAAsB,MAAA,GAAerB,SAAA;EAAA,IAAAsB,EAAA;EAAA,IAAAf,CAAA,QAAAQ,oBAAA,IAAAR,CAAA,QAAAC,cAAA,IAAAD,CAAA,QAAAI,mBAAA,IAAAJ,CAAA,QAAAM,uBAAA,IAAAN,CAAA,QAAAa,SAAA,IAAAb,CAAA,QAAAc,MAAA,IAAAd,CAAA,QAAAS,iBAAA,IAAAT,CAAA,QAAAU,oBAAA,IAAAV,CAAA,QAAAW,YAAA;IAE0BI,EAAA,GAAAA,CAAA;MAAA,IACnC,OAAOT,uBAAA,KAA4B;QACrCA,uBAAA;MAAA;QAEAG,iBAAA,CAAkBR,cAAA;QAClBS,oBAAA,CAAqBT,cAAA;QACrBY,SAAA,CAAUL,oBAAA;QACVG,YAAA,CAAaV,cAAA;UAAA,IACP,OAAOG,mBAAA,KAAwB;YACjCA,mBAAA;UAAA;YAEAU,MAAA,CAAAE,OAAA,CAAc;UAAA;QAAA,CAElB;MAAA;IAAA;IAEJhB,CAAA,MAAAQ,oBAAA;IAAAR,CAAA,MAAAC,cAAA;IAAAD,CAAA,MAAAI,mBAAA;IAAAJ,CAAA,MAAAM,uBAAA;IAAAN,CAAA,MAAAa,SAAA;IAAAb,CAAA,MAAAc,MAAA;IAAAd,CAAA,MAAAS,iBAAA;IAAAT,CAAA,MAAAU,oBAAA;IAAAV,CAAA,MAAAW,YAAA;IAAAX,CAAA,MAAAe,EAAA;EAAA;IAAAA,EAAA,GAAAf,CAAA;EAAA;EAfA,MAAAK,cAAA,GAAuBU,EAyBtB;EAAA,IAEG,CAACb,mBAAA,KAAwBC,mBAAA;IAAA;EAAA;EAAA,IAAAc,EAAA;EAAA,IAAAjB,CAAA,SAAAK,cAAA,IAAAL,CAAA,SAAAY,CAAA;IAK3BK,EAAA,GAAAC,IAAA,CAAArB,MAAA;MAAA,cACce,CAAA,CAAE;MAAAO,WAAA,EACF;MAAAC,OAAA,EAEHf,cAAA;MAAAgB,IAAA,EACJ;MAAAC,QAAA,EAEJV,CAAA,CAAE;IAAA,GAJC;IAAAZ,CAAA,OAAAK,cAAA;IAAAL,CAAA,OAAAY,CAAA;IAAAZ,CAAA,OAAAiB,EAAA;EAAA;IAAAA,EAAA,GAAAjB,CAAA;EAAA;EAAA,OAHNiB,EAGM;AAAA","ignoreList":[]}